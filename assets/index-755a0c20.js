var k1=Object.defineProperty;var C1=(e,t,r)=>t in e?k1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var ts=(e,t,r)=>(C1(e,typeof t!="symbol"?t+"":t,r),r);function T1(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();function _1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mp={exports:{}},No={},fp={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ya=Symbol.for("react.element"),E1=Symbol.for("react.portal"),P1=Symbol.for("react.fragment"),M1=Symbol.for("react.strict_mode"),A1=Symbol.for("react.profiler"),R1=Symbol.for("react.provider"),L1=Symbol.for("react.context"),D1=Symbol.for("react.forward_ref"),I1=Symbol.for("react.suspense"),F1=Symbol.for("react.memo"),$1=Symbol.for("react.lazy"),Km=Symbol.iterator;function V1(e){return e===null||typeof e!="object"?null:(e=Km&&e[Km]||e["@@iterator"],typeof e=="function"?e:null)}var xp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pp=Object.assign,gp={};function Kn(e,t,r){this.props=e,this.context=t,this.refs=gp,this.updater=r||xp}Kn.prototype.isReactComponent={};Kn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function yp(){}yp.prototype=Kn.prototype;function Ou(e,t,r){this.props=e,this.context=t,this.refs=gp,this.updater=r||xp}var zu=Ou.prototype=new yp;zu.constructor=Ou;pp(zu,Kn.prototype);zu.isPureReactComponent=!0;var Qm=Array.isArray,vp=Object.prototype.hasOwnProperty,Bu={current:null},wp={key:!0,ref:!0,__self:!0,__source:!0};function bp(e,t,r){var n,i={},a=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)vp.call(t,n)&&!wp.hasOwnProperty(n)&&(i[n]=t[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:ya,type:e,key:a,ref:l,props:i,_owner:Bu.current}}function O1(e,t){return{$$typeof:ya,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Uu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ya}function z1(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zm=/\/+/g;function hc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?z1(""+e.key):t.toString(36)}function ml(e,t,r,n,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ya:case E1:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+hc(l,0):n,Qm(i)?(r="",e!=null&&(r=e.replace(Zm,"$&/")+"/"),ml(i,t,r,"",function(d){return d})):i!=null&&(Uu(i)&&(i=O1(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Zm,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",Qm(e))for(var o=0;o<e.length;o++){a=e[o];var c=n+hc(a,o);l+=ml(a,t,r,c,i)}else if(c=V1(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=n+hc(a,o++),l+=ml(a,t,r,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Oa(e,t,r){if(e==null)return e;var n=[],i=0;return ml(e,n,"","",function(a){return t.call(r,a,i++)}),n}function B1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var It={current:null},fl={transition:null},U1={ReactCurrentDispatcher:It,ReactCurrentBatchConfig:fl,ReactCurrentOwner:Bu};function jp(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Oa,forEach:function(e,t,r){Oa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Oa(e,function(){t++}),t},toArray:function(e){return Oa(e,function(t){return t})||[]},only:function(e){if(!Uu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ce.Component=Kn;ce.Fragment=P1;ce.Profiler=A1;ce.PureComponent=Ou;ce.StrictMode=M1;ce.Suspense=I1;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U1;ce.act=jp;ce.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=pp({},e.props),i=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Bu.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)vp.call(t,c)&&!wp.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:ya,type:e.type,key:i,ref:a,props:n,_owner:l}};ce.createContext=function(e){return e={$$typeof:L1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:R1,_context:e},e.Consumer=e};ce.createElement=bp;ce.createFactory=function(e){var t=bp.bind(null,e);return t.type=e,t};ce.createRef=function(){return{current:null}};ce.forwardRef=function(e){return{$$typeof:D1,render:e}};ce.isValidElement=Uu;ce.lazy=function(e){return{$$typeof:$1,_payload:{_status:-1,_result:e},_init:B1}};ce.memo=function(e,t){return{$$typeof:F1,type:e,compare:t===void 0?null:t}};ce.startTransition=function(e){var t=fl.transition;fl.transition={};try{e()}finally{fl.transition=t}};ce.unstable_act=jp;ce.useCallback=function(e,t){return It.current.useCallback(e,t)};ce.useContext=function(e){return It.current.useContext(e)};ce.useDebugValue=function(){};ce.useDeferredValue=function(e){return It.current.useDeferredValue(e)};ce.useEffect=function(e,t){return It.current.useEffect(e,t)};ce.useId=function(){return It.current.useId()};ce.useImperativeHandle=function(e,t,r){return It.current.useImperativeHandle(e,t,r)};ce.useInsertionEffect=function(e,t){return It.current.useInsertionEffect(e,t)};ce.useLayoutEffect=function(e,t){return It.current.useLayoutEffect(e,t)};ce.useMemo=function(e,t){return It.current.useMemo(e,t)};ce.useReducer=function(e,t,r){return It.current.useReducer(e,t,r)};ce.useRef=function(e){return It.current.useRef(e)};ce.useState=function(e){return It.current.useState(e)};ce.useSyncExternalStore=function(e,t,r){return It.current.useSyncExternalStore(e,t,r)};ce.useTransition=function(){return It.current.useTransition()};ce.version="18.3.1";fp.exports=ce;var g=fp.exports;const ln=_1(g),H1=T1({__proto__:null,default:ln},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W1=g,G1=Symbol.for("react.element"),Y1=Symbol.for("react.fragment"),q1=Object.prototype.hasOwnProperty,K1=W1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q1={key:!0,ref:!0,__self:!0,__source:!0};function Np(e,t,r){var n,i={},a=null,l=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)q1.call(t,n)&&!Q1.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:G1,type:e,key:a,ref:l,props:i,_owner:K1.current}}No.Fragment=Y1;No.jsx=Np;No.jsxs=Np;mp.exports=No;var s=mp.exports,dd={},Sp={exports:{}},Xt={},kp={exports:{}},Cp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,D){var z=_.length;_.push(D);e:for(;0<z;){var M=z-1>>>1,B=_[M];if(0<i(B,D))_[M]=D,_[z]=B,z=M;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var D=_[0],z=_.pop();if(z!==D){_[0]=z;e:for(var M=0,B=_.length,se=B>>>1;M<se;){var H=2*(M+1)-1,fe=_[H],Ye=H+1,_e=_[Ye];if(0>i(fe,z))Ye<B&&0>i(_e,fe)?(_[M]=_e,_[Ye]=z,M=Ye):(_[M]=fe,_[H]=z,M=H);else if(Ye<B&&0>i(_e,z))_[M]=_e,_[Ye]=z,M=Ye;else break e}}return D}function i(_,D){var z=_.sortIndex-D.sortIndex;return z!==0?z:_.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,h=null,m=3,v=!1,y=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(_){for(var D=r(d);D!==null;){if(D.callback===null)n(d);else if(D.startTime<=_)n(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(d)}}function j(_){if(b=!1,w(_),!y)if(r(c)!==null)y=!0,q(k);else{var D=r(d);D!==null&&E(j,D.startTime-_)}}function k(_,D){y=!1,b&&(b=!1,f(T),T=-1),v=!0;var z=m;try{for(w(D),h=r(c);h!==null&&(!(h.expirationTime>D)||_&&!K());){var M=h.callback;if(typeof M=="function"){h.callback=null,m=h.priorityLevel;var B=M(h.expirationTime<=D);D=e.unstable_now(),typeof B=="function"?h.callback=B:h===r(c)&&n(c),w(D)}else n(c);h=r(c)}if(h!==null)var se=!0;else{var H=r(d);H!==null&&E(j,H.startTime-D),se=!1}return se}finally{h=null,m=z,v=!1}}var S=!1,C=null,T=-1,L=5,A=-1;function K(){return!(e.unstable_now()-A<L)}function Y(){if(C!==null){var _=e.unstable_now();A=_;var D=!0;try{D=C(!0,_)}finally{D?Z():(S=!1,C=null)}}else S=!1}var Z;if(typeof p=="function")Z=function(){p(Y)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,G=te.port2;te.port1.onmessage=Y,Z=function(){G.postMessage(null)}}else Z=function(){x(Y,0)};function q(_){C=_,S||(S=!0,Z())}function E(_,D){T=x(function(){_(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,q(k))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(_){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var z=m;m=D;try{return _()}finally{m=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,D){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var z=m;m=_;try{return D()}finally{m=z}},e.unstable_scheduleCallback=function(_,D,z){var M=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?M+z:M):z=M,_){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=z+B,_={id:u++,callback:D,priorityLevel:_,startTime:z,expirationTime:B,sortIndex:-1},z>M?(_.sortIndex=z,t(d,_),r(c)===null&&_===r(d)&&(b?(f(T),T=-1):b=!0,E(j,z-M))):(_.sortIndex=B,t(c,_),y||v||(y=!0,q(k))),_},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(_){var D=m;return function(){var z=m;m=D;try{return _.apply(this,arguments)}finally{m=z}}}})(Cp);kp.exports=Cp;var Z1=kp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X1=g,Zt=Z1;function V(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tp=new Set,Oi={};function on(e,t){On(e,t),On(e+"Capture",t)}function On(e,t){for(Oi[e]=t,e=0;e<t.length;e++)Tp.add(t[e])}var Ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ud=Object.prototype.hasOwnProperty,J1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xm={},Jm={};function eb(e){return ud.call(Jm,e)?!0:ud.call(Xm,e)?!1:J1.test(e)?Jm[e]=!0:(Xm[e]=!0,!1)}function tb(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function sb(e,t,r,n){if(t===null||typeof t>"u"||tb(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ft(e,t,r,n,i,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pt[e]=new Ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pt[t]=new Ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pt[e]=new Ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pt[e]=new Ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pt[e]=new Ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pt[e]=new Ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pt[e]=new Ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pt[e]=new Ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pt[e]=new Ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hu=/[\-:]([a-z])/g;function Wu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hu,Wu);pt[t]=new Ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hu,Wu);pt[t]=new Ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hu,Wu);pt[t]=new Ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!1,!1)});pt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gu(e,t,r,n){var i=pt.hasOwnProperty(t)?pt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(sb(t,r,i,n)&&(r=null),n||i===null?eb(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Xs=X1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,za=Symbol.for("react.element"),xn=Symbol.for("react.portal"),pn=Symbol.for("react.fragment"),Yu=Symbol.for("react.strict_mode"),hd=Symbol.for("react.profiler"),_p=Symbol.for("react.provider"),Ep=Symbol.for("react.context"),qu=Symbol.for("react.forward_ref"),md=Symbol.for("react.suspense"),fd=Symbol.for("react.suspense_list"),Ku=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),Pp=Symbol.for("react.offscreen"),ef=Symbol.iterator;function oi(e){return e===null||typeof e!="object"?null:(e=ef&&e[ef]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Object.assign,mc;function vi(e){if(mc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mc=t&&t[1]||""}return`
`+mc+e}var fc=!1;function xc(e,t){if(!e||fc)return"";fc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),a=n.stack.split(`
`),l=i.length-1,o=a.length-1;1<=l&&0<=o&&i[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||i[l]!==a[o]){var c=`
`+i[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{fc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?vi(e):""}function rb(e){switch(e.tag){case 5:return vi(e.type);case 16:return vi("Lazy");case 13:return vi("Suspense");case 19:return vi("SuspenseList");case 0:case 2:case 15:return e=xc(e.type,!1),e;case 11:return e=xc(e.type.render,!1),e;case 1:return e=xc(e.type,!0),e;default:return""}}function xd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pn:return"Fragment";case xn:return"Portal";case hd:return"Profiler";case Yu:return"StrictMode";case md:return"Suspense";case fd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ep:return(e.displayName||"Context")+".Consumer";case _p:return(e._context.displayName||"Context")+".Provider";case qu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ku:return t=e.displayName||null,t!==null?t:xd(e.type)||"Memo";case rr:t=e._payload,e=e._init;try{return xd(e(t))}catch{}}return null}function nb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xd(t);case 8:return t===Yu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ib(e){var t=Mp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ba(e){e._valueTracker||(e._valueTracker=ib(e))}function Ap(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Mp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function pd(e,t){var r=t.checked;return Le({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function tf(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=jr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Rp(e,t){t=t.checked,t!=null&&Gu(e,"checked",t,!1)}function gd(e,t){Rp(e,t);var r=jr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yd(e,t.type,r):t.hasOwnProperty("defaultValue")&&yd(e,t.type,jr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function yd(e,t,r){(t!=="number"||Dl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wi=Array.isArray;function An(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+jr(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function vd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(V(91));return Le({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(V(92));if(wi(r)){if(1<r.length)throw Error(V(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:jr(r)}}function Lp(e,t){var r=jr(t.value),n=jr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function nf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ua,Ip=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ua=Ua||document.createElement("div"),Ua.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ua.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ab=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(e){ab.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Si[t]=Si[e]})});function Fp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Si.hasOwnProperty(e)&&Si[e]?(""+t).trim():t+"px"}function $p(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Fp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var lb=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bd(e,t){if(t){if(lb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(V(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(V(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(V(61))}if(t.style!=null&&typeof t.style!="object")throw Error(V(62))}}function jd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nd=null;function Qu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Sd=null,Rn=null,Ln=null;function af(e){if(e=ba(e)){if(typeof Sd!="function")throw Error(V(280));var t=e.stateNode;t&&(t=_o(t),Sd(e.stateNode,e.type,t))}}function Vp(e){Rn?Ln?Ln.push(e):Ln=[e]:Rn=e}function Op(){if(Rn){var e=Rn,t=Ln;if(Ln=Rn=null,af(e),t)for(e=0;e<t.length;e++)af(t[e])}}function zp(e,t){return e(t)}function Bp(){}var pc=!1;function Up(e,t,r){if(pc)return e(t,r);pc=!0;try{return zp(e,t,r)}finally{pc=!1,(Rn!==null||Ln!==null)&&(Bp(),Op())}}function Bi(e,t){var r=e.stateNode;if(r===null)return null;var n=_o(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(V(231,t,typeof r));return r}var kd=!1;if(Ws)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){kd=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{kd=!1}function ob(e,t,r,n,i,a,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var ki=!1,Il=null,Fl=!1,Cd=null,cb={onError:function(e){ki=!0,Il=e}};function db(e,t,r,n,i,a,l,o,c){ki=!1,Il=null,ob.apply(cb,arguments)}function ub(e,t,r,n,i,a,l,o,c){if(db.apply(this,arguments),ki){if(ki){var d=Il;ki=!1,Il=null}else throw Error(V(198));Fl||(Fl=!0,Cd=d)}}function cn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Hp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lf(e){if(cn(e)!==e)throw Error(V(188))}function hb(e){var t=e.alternate;if(!t){if(t=cn(e),t===null)throw Error(V(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var a=i.alternate;if(a===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return lf(i),e;if(a===n)return lf(i),t;a=a.sibling}throw Error(V(188))}if(r.return!==n.return)r=i,n=a;else{for(var l=!1,o=i.child;o;){if(o===r){l=!0,r=i,n=a;break}if(o===n){l=!0,n=i,r=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===r){l=!0,r=a,n=i;break}if(o===n){l=!0,n=a,r=i;break}o=o.sibling}if(!l)throw Error(V(189))}}if(r.alternate!==n)throw Error(V(190))}if(r.tag!==3)throw Error(V(188));return r.stateNode.current===r?e:t}function Wp(e){return e=hb(e),e!==null?Gp(e):null}function Gp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gp(e);if(t!==null)return t;e=e.sibling}return null}var Yp=Zt.unstable_scheduleCallback,of=Zt.unstable_cancelCallback,mb=Zt.unstable_shouldYield,fb=Zt.unstable_requestPaint,Ge=Zt.unstable_now,xb=Zt.unstable_getCurrentPriorityLevel,Zu=Zt.unstable_ImmediatePriority,qp=Zt.unstable_UserBlockingPriority,$l=Zt.unstable_NormalPriority,pb=Zt.unstable_LowPriority,Kp=Zt.unstable_IdlePriority,So=null,Rs=null;function gb(e){if(Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(So,e,void 0,(e.current.flags&128)===128)}catch{}}var bs=Math.clz32?Math.clz32:wb,yb=Math.log,vb=Math.LN2;function wb(e){return e>>>=0,e===0?32:31-(yb(e)/vb|0)|0}var Ha=64,Wa=4194304;function bi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,a=e.pingedLanes,l=r&268435455;if(l!==0){var o=l&~i;o!==0?n=bi(o):(a&=l,a!==0&&(n=bi(a)))}else l=r&~i,l!==0?n=bi(l):a!==0&&(n=bi(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-bs(t),i=1<<r,n|=e[r],t&=~i;return n}function bb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-bs(a),o=1<<l,c=i[l];c===-1?(!(o&r)||o&n)&&(i[l]=bb(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function Td(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qp(){var e=Ha;return Ha<<=1,!(Ha&4194240)&&(Ha=64),e}function gc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function va(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bs(t),e[t]=r}function Nb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-bs(r),a=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~a}}function Xu(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-bs(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var ge=0;function Zp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xp,Ju,Jp,eg,tg,_d=!1,Ga=[],ur=null,hr=null,mr=null,Ui=new Map,Hi=new Map,ar=[],Sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cf(e,t){switch(e){case"focusin":case"focusout":ur=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":Ui.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hi.delete(t.pointerId)}}function di(e,t,r,n,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},t!==null&&(t=ba(t),t!==null&&Ju(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function kb(e,t,r,n,i){switch(t){case"focusin":return ur=di(ur,e,t,r,n,i),!0;case"dragenter":return hr=di(hr,e,t,r,n,i),!0;case"mouseover":return mr=di(mr,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ui.set(a,di(Ui.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Hi.set(a,di(Hi.get(a)||null,e,t,r,n,i)),!0}return!1}function sg(e){var t=Vr(e.target);if(t!==null){var r=cn(t);if(r!==null){if(t=r.tag,t===13){if(t=Hp(r),t!==null){e.blockedOn=t,tg(e.priority,function(){Jp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ed(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Nd=n,r.target.dispatchEvent(n),Nd=null}else return t=ba(r),t!==null&&Ju(t),e.blockedOn=r,!1;t.shift()}return!0}function df(e,t,r){xl(e)&&r.delete(t)}function Cb(){_d=!1,ur!==null&&xl(ur)&&(ur=null),hr!==null&&xl(hr)&&(hr=null),mr!==null&&xl(mr)&&(mr=null),Ui.forEach(df),Hi.forEach(df)}function ui(e,t){e.blockedOn===t&&(e.blockedOn=null,_d||(_d=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,Cb)))}function Wi(e){function t(i){return ui(i,e)}if(0<Ga.length){ui(Ga[0],e);for(var r=1;r<Ga.length;r++){var n=Ga[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ur!==null&&ui(ur,e),hr!==null&&ui(hr,e),mr!==null&&ui(mr,e),Ui.forEach(t),Hi.forEach(t),r=0;r<ar.length;r++)n=ar[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ar.length&&(r=ar[0],r.blockedOn===null);)sg(r),r.blockedOn===null&&ar.shift()}var Dn=Xs.ReactCurrentBatchConfig,Ol=!0;function Tb(e,t,r,n){var i=ge,a=Dn.transition;Dn.transition=null;try{ge=1,eh(e,t,r,n)}finally{ge=i,Dn.transition=a}}function _b(e,t,r,n){var i=ge,a=Dn.transition;Dn.transition=null;try{ge=4,eh(e,t,r,n)}finally{ge=i,Dn.transition=a}}function eh(e,t,r,n){if(Ol){var i=Ed(e,t,r,n);if(i===null)Tc(e,t,n,zl,r),cf(e,n);else if(kb(i,e,t,r,n))n.stopPropagation();else if(cf(e,n),t&4&&-1<Sb.indexOf(e)){for(;i!==null;){var a=ba(i);if(a!==null&&Xp(a),a=Ed(e,t,r,n),a===null&&Tc(e,t,n,zl,r),a===i)break;i=a}i!==null&&n.stopPropagation()}else Tc(e,t,n,null,r)}}var zl=null;function Ed(e,t,r,n){if(zl=null,e=Qu(n),e=Vr(e),e!==null)if(t=cn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Hp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zl=e,null}function rg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xb()){case Zu:return 1;case qp:return 4;case $l:case pb:return 16;case Kp:return 536870912;default:return 16}default:return 16}}var or=null,th=null,pl=null;function ng(){if(pl)return pl;var e,t=th,r=t.length,n,i="value"in or?or.value:or.textContent,a=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[a-n];n++);return pl=i.slice(e,1<n?1-n:void 0)}function gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ya(){return!0}function uf(){return!1}function Jt(e){function t(r,n,i,a,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ya:uf,this.isPropagationStopped=uf,this}return Le(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ya)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ya)},persist:function(){},isPersistent:Ya}),t}var Qn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sh=Jt(Qn),wa=Le({},Qn,{view:0,detail:0}),Eb=Jt(wa),yc,vc,hi,ko=Le({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(yc=e.screenX-hi.screenX,vc=e.screenY-hi.screenY):vc=yc=0,hi=e),yc)},movementY:function(e){return"movementY"in e?e.movementY:vc}}),hf=Jt(ko),Pb=Le({},ko,{dataTransfer:0}),Mb=Jt(Pb),Ab=Le({},wa,{relatedTarget:0}),wc=Jt(Ab),Rb=Le({},Qn,{animationName:0,elapsedTime:0,pseudoElement:0}),Lb=Jt(Rb),Db=Le({},Qn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ib=Jt(Db),Fb=Le({},Qn,{data:0}),mf=Jt(Fb),$b={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ob={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ob[e])?!!t[e]:!1}function rh(){return zb}var Bb=Le({},wa,{key:function(e){if(e.key){var t=$b[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Vb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rh,charCode:function(e){return e.type==="keypress"?gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ub=Jt(Bb),Hb=Le({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ff=Jt(Hb),Wb=Le({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rh}),Gb=Jt(Wb),Yb=Le({},Qn,{propertyName:0,elapsedTime:0,pseudoElement:0}),qb=Jt(Yb),Kb=Le({},ko,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Qb=Jt(Kb),Zb=[9,13,27,32],nh=Ws&&"CompositionEvent"in window,Ci=null;Ws&&"documentMode"in document&&(Ci=document.documentMode);var Xb=Ws&&"TextEvent"in window&&!Ci,ig=Ws&&(!nh||Ci&&8<Ci&&11>=Ci),xf=String.fromCharCode(32),pf=!1;function ag(e,t){switch(e){case"keyup":return Zb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gn=!1;function Jb(e,t){switch(e){case"compositionend":return lg(t);case"keypress":return t.which!==32?null:(pf=!0,xf);case"textInput":return e=t.data,e===xf&&pf?null:e;default:return null}}function ej(e,t){if(gn)return e==="compositionend"||!nh&&ag(e,t)?(e=ng(),pl=th=or=null,gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ig&&t.locale!=="ko"?null:t.data;default:return null}}var tj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!tj[e.type]:t==="textarea"}function og(e,t,r,n){Vp(n),t=Bl(t,"onChange"),0<t.length&&(r=new sh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ti=null,Gi=null;function sj(e){vg(e,0)}function Co(e){var t=wn(e);if(Ap(t))return e}function rj(e,t){if(e==="change")return t}var cg=!1;if(Ws){var bc;if(Ws){var jc="oninput"in document;if(!jc){var yf=document.createElement("div");yf.setAttribute("oninput","return;"),jc=typeof yf.oninput=="function"}bc=jc}else bc=!1;cg=bc&&(!document.documentMode||9<document.documentMode)}function vf(){Ti&&(Ti.detachEvent("onpropertychange",dg),Gi=Ti=null)}function dg(e){if(e.propertyName==="value"&&Co(Gi)){var t=[];og(t,Gi,e,Qu(e)),Up(sj,t)}}function nj(e,t,r){e==="focusin"?(vf(),Ti=t,Gi=r,Ti.attachEvent("onpropertychange",dg)):e==="focusout"&&vf()}function ij(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Co(Gi)}function aj(e,t){if(e==="click")return Co(t)}function lj(e,t){if(e==="input"||e==="change")return Co(t)}function oj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ss=typeof Object.is=="function"?Object.is:oj;function Yi(e,t){if(Ss(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ud.call(t,i)||!Ss(e[i],t[i]))return!1}return!0}function wf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bf(e,t){var r=wf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wf(r)}}function ug(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ug(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hg(){for(var e=window,t=Dl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Dl(e.document)}return t}function ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function cj(e){var t=hg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ug(r.ownerDocument.documentElement,r)){if(n!==null&&ih(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,a=Math.min(n.start,i);n=n.end===void 0?a:Math.min(n.end,i),!e.extend&&a>n&&(i=n,n=a,a=i),i=bf(r,a);var l=bf(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dj=Ws&&"documentMode"in document&&11>=document.documentMode,yn=null,Pd=null,_i=null,Md=!1;function jf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Md||yn==null||yn!==Dl(n)||(n=yn,"selectionStart"in n&&ih(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_i&&Yi(_i,n)||(_i=n,n=Bl(Pd,"onSelect"),0<n.length&&(t=new sh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yn)))}function qa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vn={animationend:qa("Animation","AnimationEnd"),animationiteration:qa("Animation","AnimationIteration"),animationstart:qa("Animation","AnimationStart"),transitionend:qa("Transition","TransitionEnd")},Nc={},mg={};Ws&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete vn.animationend.animation,delete vn.animationiteration.animation,delete vn.animationstart.animation),"TransitionEvent"in window||delete vn.transitionend.transition);function To(e){if(Nc[e])return Nc[e];if(!vn[e])return e;var t=vn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mg)return Nc[e]=t[r];return e}var fg=To("animationend"),xg=To("animationiteration"),pg=To("animationstart"),gg=To("transitionend"),yg=new Map,Nf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Tr(e,t){yg.set(e,t),on(t,[e])}for(var Sc=0;Sc<Nf.length;Sc++){var kc=Nf[Sc],uj=kc.toLowerCase(),hj=kc[0].toUpperCase()+kc.slice(1);Tr(uj,"on"+hj)}Tr(fg,"onAnimationEnd");Tr(xg,"onAnimationIteration");Tr(pg,"onAnimationStart");Tr("dblclick","onDoubleClick");Tr("focusin","onFocus");Tr("focusout","onBlur");Tr(gg,"onTransitionEnd");On("onMouseEnter",["mouseout","mouseover"]);On("onMouseLeave",["mouseout","mouseover"]);On("onPointerEnter",["pointerout","pointerover"]);On("onPointerLeave",["pointerout","pointerover"]);on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));on("onBeforeInput",["compositionend","keypress","textInput","paste"]);on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mj=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function Sf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,ub(n,t,void 0,e),e.currentTarget=null}function vg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var l=n.length-1;0<=l;l--){var o=n[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;Sf(i,o,d),a=c}else for(l=0;l<n.length;l++){if(o=n[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;Sf(i,o,d),a=c}}}if(Fl)throw e=Cd,Fl=!1,Cd=null,e}function ke(e,t){var r=t[Id];r===void 0&&(r=t[Id]=new Set);var n=e+"__bubble";r.has(n)||(wg(t,e,2,!1),r.add(n))}function Cc(e,t,r){var n=0;t&&(n|=4),wg(r,e,n,t)}var Ka="_reactListening"+Math.random().toString(36).slice(2);function qi(e){if(!e[Ka]){e[Ka]=!0,Tp.forEach(function(r){r!=="selectionchange"&&(mj.has(r)||Cc(r,!1,e),Cc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ka]||(t[Ka]=!0,Cc("selectionchange",!1,t))}}function wg(e,t,r,n){switch(rg(t)){case 1:var i=Tb;break;case 4:i=_b;break;default:i=eh}r=i.bind(null,t,r,e),i=void 0,!kd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Tc(e,t,r,n,i){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;l=l.return}for(;o!==null;){if(l=Vr(o),l===null)return;if(c=l.tag,c===5||c===6){n=a=l;continue e}o=o.parentNode}}n=n.return}Up(function(){var d=a,u=Qu(r),h=[];e:{var m=yg.get(e);if(m!==void 0){var v=sh,y=e;switch(e){case"keypress":if(gl(r)===0)break e;case"keydown":case"keyup":v=Ub;break;case"focusin":y="focus",v=wc;break;case"focusout":y="blur",v=wc;break;case"beforeblur":case"afterblur":v=wc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=hf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Mb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Gb;break;case fg:case xg:case pg:v=Lb;break;case gg:v=qb;break;case"scroll":v=Eb;break;case"wheel":v=Qb;break;case"copy":case"cut":case"paste":v=Ib;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ff}var b=(t&4)!==0,x=!b&&e==="scroll",f=b?m!==null?m+"Capture":null:m;b=[];for(var p=d,w;p!==null;){w=p;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,f!==null&&(j=Bi(p,f),j!=null&&b.push(Ki(p,j,w)))),x)break;p=p.return}0<b.length&&(m=new v(m,y,null,r,u),h.push({event:m,listeners:b}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&r!==Nd&&(y=r.relatedTarget||r.fromElement)&&(Vr(y)||y[Gs]))break e;if((v||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=d,y=y?Vr(y):null,y!==null&&(x=cn(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=d),v!==y)){if(b=hf,j="onMouseLeave",f="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(b=ff,j="onPointerLeave",f="onPointerEnter",p="pointer"),x=v==null?m:wn(v),w=y==null?m:wn(y),m=new b(j,p+"leave",v,r,u),m.target=x,m.relatedTarget=w,j=null,Vr(u)===d&&(b=new b(f,p+"enter",y,r,u),b.target=w,b.relatedTarget=x,j=b),x=j,v&&y)t:{for(b=v,f=y,p=0,w=b;w;w=mn(w))p++;for(w=0,j=f;j;j=mn(j))w++;for(;0<p-w;)b=mn(b),p--;for(;0<w-p;)f=mn(f),w--;for(;p--;){if(b===f||f!==null&&b===f.alternate)break t;b=mn(b),f=mn(f)}b=null}else b=null;v!==null&&kf(h,m,v,b,!1),y!==null&&x!==null&&kf(h,x,y,b,!0)}}e:{if(m=d?wn(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var k=rj;else if(gf(m))if(cg)k=lj;else{k=ij;var S=nj}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=aj);if(k&&(k=k(e,d))){og(h,k,r,u);break e}S&&S(e,m,d),e==="focusout"&&(S=m._wrapperState)&&S.controlled&&m.type==="number"&&yd(m,"number",m.value)}switch(S=d?wn(d):window,e){case"focusin":(gf(S)||S.contentEditable==="true")&&(yn=S,Pd=d,_i=null);break;case"focusout":_i=Pd=yn=null;break;case"mousedown":Md=!0;break;case"contextmenu":case"mouseup":case"dragend":Md=!1,jf(h,r,u);break;case"selectionchange":if(dj)break;case"keydown":case"keyup":jf(h,r,u)}var C;if(nh)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else gn?ag(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(ig&&r.locale!=="ko"&&(gn||T!=="onCompositionStart"?T==="onCompositionEnd"&&gn&&(C=ng()):(or=u,th="value"in or?or.value:or.textContent,gn=!0)),S=Bl(d,T),0<S.length&&(T=new mf(T,e,null,r,u),h.push({event:T,listeners:S}),C?T.data=C:(C=lg(r),C!==null&&(T.data=C)))),(C=Xb?Jb(e,r):ej(e,r))&&(d=Bl(d,"onBeforeInput"),0<d.length&&(u=new mf("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=C))}vg(h,t)})}function Ki(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bl(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Bi(e,r),a!=null&&n.unshift(Ki(e,a,i)),a=Bi(e,t),a!=null&&n.push(Ki(e,a,i))),e=e.return}return n}function mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kf(e,t,r,n,i){for(var a=t._reactName,l=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,i?(c=Bi(r,a),c!=null&&l.unshift(Ki(r,c,o))):i||(c=Bi(r,a),c!=null&&l.push(Ki(r,c,o)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var fj=/\r\n?/g,xj=/\u0000|\uFFFD/g;function Cf(e){return(typeof e=="string"?e:""+e).replace(fj,`
`).replace(xj,"")}function Qa(e,t,r){if(t=Cf(t),Cf(e)!==t&&r)throw Error(V(425))}function Ul(){}var Ad=null,Rd=null;function Ld(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dd=typeof setTimeout=="function"?setTimeout:void 0,pj=typeof clearTimeout=="function"?clearTimeout:void 0,Tf=typeof Promise=="function"?Promise:void 0,gj=typeof queueMicrotask=="function"?queueMicrotask:typeof Tf<"u"?function(e){return Tf.resolve(null).then(e).catch(yj)}:Dd;function yj(e){setTimeout(function(){throw e})}function _c(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Wi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Wi(t)}function fr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _f(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),As="__reactFiber$"+Zn,Qi="__reactProps$"+Zn,Gs="__reactContainer$"+Zn,Id="__reactEvents$"+Zn,vj="__reactListeners$"+Zn,wj="__reactHandles$"+Zn;function Vr(e){var t=e[As];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Gs]||r[As]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_f(e);e!==null;){if(r=e[As])return r;e=_f(e)}return t}e=r,r=e.parentNode}return null}function ba(e){return e=e[As]||e[Gs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(V(33))}function _o(e){return e[Qi]||null}var Fd=[],bn=-1;function _r(e){return{current:e}}function Te(e){0>bn||(e.current=Fd[bn],Fd[bn]=null,bn--)}function je(e,t){bn++,Fd[bn]=e.current,e.current=t}var Nr={},Tt=_r(Nr),Bt=_r(!1),Zr=Nr;function zn(e,t){var r=e.type.contextTypes;if(!r)return Nr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in r)i[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ut(e){return e=e.childContextTypes,e!=null}function Hl(){Te(Bt),Te(Tt)}function Ef(e,t,r){if(Tt.current!==Nr)throw Error(V(168));je(Tt,t),je(Bt,r)}function bg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(V(108,nb(e)||"Unknown",i));return Le({},r,n)}function Wl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nr,Zr=Tt.current,je(Tt,e),je(Bt,Bt.current),!0}function Pf(e,t,r){var n=e.stateNode;if(!n)throw Error(V(169));r?(e=bg(e,t,Zr),n.__reactInternalMemoizedMergedChildContext=e,Te(Bt),Te(Tt),je(Tt,e)):Te(Bt),je(Bt,r)}var zs=null,Eo=!1,Ec=!1;function jg(e){zs===null?zs=[e]:zs.push(e)}function bj(e){Eo=!0,jg(e)}function Er(){if(!Ec&&zs!==null){Ec=!0;var e=0,t=ge;try{var r=zs;for(ge=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}zs=null,Eo=!1}catch(i){throw zs!==null&&(zs=zs.slice(e+1)),Yp(Zu,Er),i}finally{ge=t,Ec=!1}}return null}var jn=[],Nn=0,Gl=null,Yl=0,as=[],ls=0,Xr=null,Bs=1,Us="";function Ir(e,t){jn[Nn++]=Yl,jn[Nn++]=Gl,Gl=e,Yl=t}function Ng(e,t,r){as[ls++]=Bs,as[ls++]=Us,as[ls++]=Xr,Xr=e;var n=Bs;e=Us;var i=32-bs(n)-1;n&=~(1<<i),r+=1;var a=32-bs(t)+i;if(30<a){var l=i-i%5;a=(n&(1<<l)-1).toString(32),n>>=l,i-=l,Bs=1<<32-bs(t)+i|r<<i|n,Us=a+e}else Bs=1<<a|r<<i|n,Us=e}function ah(e){e.return!==null&&(Ir(e,1),Ng(e,1,0))}function lh(e){for(;e===Gl;)Gl=jn[--Nn],jn[Nn]=null,Yl=jn[--Nn],jn[Nn]=null;for(;e===Xr;)Xr=as[--ls],as[ls]=null,Us=as[--ls],as[ls]=null,Bs=as[--ls],as[ls]=null}var Qt=null,Kt=null,Ee=!1,ws=null;function Sg(e,t){var r=cs(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Mf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Qt=e,Kt=fr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Qt=e,Kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Xr!==null?{id:Bs,overflow:Us}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=cs(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Qt=e,Kt=null,!0):!1;default:return!1}}function $d(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vd(e){if(Ee){var t=Kt;if(t){var r=t;if(!Mf(e,t)){if($d(e))throw Error(V(418));t=fr(r.nextSibling);var n=Qt;t&&Mf(e,t)?Sg(n,r):(e.flags=e.flags&-4097|2,Ee=!1,Qt=e)}}else{if($d(e))throw Error(V(418));e.flags=e.flags&-4097|2,Ee=!1,Qt=e}}}function Af(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Qt=e}function Za(e){if(e!==Qt)return!1;if(!Ee)return Af(e),Ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ld(e.type,e.memoizedProps)),t&&(t=Kt)){if($d(e))throw kg(),Error(V(418));for(;t;)Sg(e,t),t=fr(t.nextSibling)}if(Af(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(V(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Kt=fr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Kt=null}}else Kt=Qt?fr(e.stateNode.nextSibling):null;return!0}function kg(){for(var e=Kt;e;)e=fr(e.nextSibling)}function Bn(){Kt=Qt=null,Ee=!1}function oh(e){ws===null?ws=[e]:ws.push(e)}var jj=Xs.ReactCurrentBatchConfig;function mi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(V(309));var n=r.stateNode}if(!n)throw Error(V(147,e));var i=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var o=i.refs;l===null?delete o[a]:o[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(V(284));if(!r._owner)throw Error(V(290,e))}return e}function Xa(e,t){throw e=Object.prototype.toString.call(t),Error(V(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Rf(e){var t=e._init;return t(e._payload)}function Cg(e){function t(f,p){if(e){var w=f.deletions;w===null?(f.deletions=[p],f.flags|=16):w.push(p)}}function r(f,p){if(!e)return null;for(;p!==null;)t(f,p),p=p.sibling;return null}function n(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function i(f,p){return f=yr(f,p),f.index=0,f.sibling=null,f}function a(f,p,w){return f.index=w,e?(w=f.alternate,w!==null?(w=w.index,w<p?(f.flags|=2,p):w):(f.flags|=2,p)):(f.flags|=1048576,p)}function l(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,p,w,j){return p===null||p.tag!==6?(p=Ic(w,f.mode,j),p.return=f,p):(p=i(p,w),p.return=f,p)}function c(f,p,w,j){var k=w.type;return k===pn?u(f,p,w.props.children,j,w.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===rr&&Rf(k)===p.type)?(j=i(p,w.props),j.ref=mi(f,p,w),j.return=f,j):(j=Sl(w.type,w.key,w.props,null,f.mode,j),j.ref=mi(f,p,w),j.return=f,j)}function d(f,p,w,j){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=Fc(w,f.mode,j),p.return=f,p):(p=i(p,w.children||[]),p.return=f,p)}function u(f,p,w,j,k){return p===null||p.tag!==7?(p=Gr(w,f.mode,j,k),p.return=f,p):(p=i(p,w),p.return=f,p)}function h(f,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ic(""+p,f.mode,w),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case za:return w=Sl(p.type,p.key,p.props,null,f.mode,w),w.ref=mi(f,null,p),w.return=f,w;case xn:return p=Fc(p,f.mode,w),p.return=f,p;case rr:var j=p._init;return h(f,j(p._payload),w)}if(wi(p)||oi(p))return p=Gr(p,f.mode,w,null),p.return=f,p;Xa(f,p)}return null}function m(f,p,w,j){var k=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return k!==null?null:o(f,p,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case za:return w.key===k?c(f,p,w,j):null;case xn:return w.key===k?d(f,p,w,j):null;case rr:return k=w._init,m(f,p,k(w._payload),j)}if(wi(w)||oi(w))return k!==null?null:u(f,p,w,j,null);Xa(f,w)}return null}function v(f,p,w,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return f=f.get(w)||null,o(p,f,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case za:return f=f.get(j.key===null?w:j.key)||null,c(p,f,j,k);case xn:return f=f.get(j.key===null?w:j.key)||null,d(p,f,j,k);case rr:var S=j._init;return v(f,p,w,S(j._payload),k)}if(wi(j)||oi(j))return f=f.get(w)||null,u(p,f,j,k,null);Xa(p,j)}return null}function y(f,p,w,j){for(var k=null,S=null,C=p,T=p=0,L=null;C!==null&&T<w.length;T++){C.index>T?(L=C,C=null):L=C.sibling;var A=m(f,C,w[T],j);if(A===null){C===null&&(C=L);break}e&&C&&A.alternate===null&&t(f,C),p=a(A,p,T),S===null?k=A:S.sibling=A,S=A,C=L}if(T===w.length)return r(f,C),Ee&&Ir(f,T),k;if(C===null){for(;T<w.length;T++)C=h(f,w[T],j),C!==null&&(p=a(C,p,T),S===null?k=C:S.sibling=C,S=C);return Ee&&Ir(f,T),k}for(C=n(f,C);T<w.length;T++)L=v(C,f,T,w[T],j),L!==null&&(e&&L.alternate!==null&&C.delete(L.key===null?T:L.key),p=a(L,p,T),S===null?k=L:S.sibling=L,S=L);return e&&C.forEach(function(K){return t(f,K)}),Ee&&Ir(f,T),k}function b(f,p,w,j){var k=oi(w);if(typeof k!="function")throw Error(V(150));if(w=k.call(w),w==null)throw Error(V(151));for(var S=k=null,C=p,T=p=0,L=null,A=w.next();C!==null&&!A.done;T++,A=w.next()){C.index>T?(L=C,C=null):L=C.sibling;var K=m(f,C,A.value,j);if(K===null){C===null&&(C=L);break}e&&C&&K.alternate===null&&t(f,C),p=a(K,p,T),S===null?k=K:S.sibling=K,S=K,C=L}if(A.done)return r(f,C),Ee&&Ir(f,T),k;if(C===null){for(;!A.done;T++,A=w.next())A=h(f,A.value,j),A!==null&&(p=a(A,p,T),S===null?k=A:S.sibling=A,S=A);return Ee&&Ir(f,T),k}for(C=n(f,C);!A.done;T++,A=w.next())A=v(C,f,T,A.value,j),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?T:A.key),p=a(A,p,T),S===null?k=A:S.sibling=A,S=A);return e&&C.forEach(function(Y){return t(f,Y)}),Ee&&Ir(f,T),k}function x(f,p,w,j){if(typeof w=="object"&&w!==null&&w.type===pn&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case za:e:{for(var k=w.key,S=p;S!==null;){if(S.key===k){if(k=w.type,k===pn){if(S.tag===7){r(f,S.sibling),p=i(S,w.props.children),p.return=f,f=p;break e}}else if(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===rr&&Rf(k)===S.type){r(f,S.sibling),p=i(S,w.props),p.ref=mi(f,S,w),p.return=f,f=p;break e}r(f,S);break}else t(f,S);S=S.sibling}w.type===pn?(p=Gr(w.props.children,f.mode,j,w.key),p.return=f,f=p):(j=Sl(w.type,w.key,w.props,null,f.mode,j),j.ref=mi(f,p,w),j.return=f,f=j)}return l(f);case xn:e:{for(S=w.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){r(f,p.sibling),p=i(p,w.children||[]),p.return=f,f=p;break e}else{r(f,p);break}else t(f,p);p=p.sibling}p=Fc(w,f.mode,j),p.return=f,f=p}return l(f);case rr:return S=w._init,x(f,p,S(w._payload),j)}if(wi(w))return y(f,p,w,j);if(oi(w))return b(f,p,w,j);Xa(f,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(r(f,p.sibling),p=i(p,w),p.return=f,f=p):(r(f,p),p=Ic(w,f.mode,j),p.return=f,f=p),l(f)):r(f,p)}return x}var Un=Cg(!0),Tg=Cg(!1),ql=_r(null),Kl=null,Sn=null,ch=null;function dh(){ch=Sn=Kl=null}function uh(e){var t=ql.current;Te(ql),e._currentValue=t}function Od(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function In(e,t){Kl=e,ch=Sn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ot=!0),e.firstContext=null)}function ms(e){var t=e._currentValue;if(ch!==e)if(e={context:e,memoizedValue:t,next:null},Sn===null){if(Kl===null)throw Error(V(308));Sn=e,Kl.dependencies={lanes:0,firstContext:e}}else Sn=Sn.next=e;return t}var Or=null;function hh(e){Or===null?Or=[e]:Or.push(e)}function _g(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,hh(t)):(r.next=i.next,i.next=r),t.interleaved=r,Ys(e,n)}function Ys(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var nr=!1;function mh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Eg(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,he&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Ys(e,r)}return i=n.interleaved,i===null?(t.next=t,hh(n)):(t.next=i.next,i.next=t),n.interleaved=t,Ys(e,r)}function yl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xu(e,r)}}function Lf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?i=a=l:a=a.next=l,r=r.next}while(r!==null);a===null?i=a=t:a=a.next=t}else i=a=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ql(e,t,r,n){var i=e.updateQueue;nr=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?a=d:l.next=d,l=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==l&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(a!==null){var h=i.baseState;l=0,u=d=c=null,o=a;do{var m=o.lane,v=o.eventTime;if((n&m)===m){u!==null&&(u=u.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,b=o;switch(m=t,v=r,b.tag){case 1:if(y=b.payload,typeof y=="function"){h=y.call(v,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,m=typeof y=="function"?y.call(v,h,m):y,m==null)break e;h=Le({},h,m);break e;case 2:nr=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else v={eventTime:v,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=v,c=h):u=u.next=v,l|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(u===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);en|=l,e.lanes=l,e.memoizedState=h}}function Df(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(V(191,i));i.call(n)}}}var ja={},Ls=_r(ja),Zi=_r(ja),Xi=_r(ja);function zr(e){if(e===ja)throw Error(V(174));return e}function fh(e,t){switch(je(Xi,t),je(Zi,e),je(Ls,ja),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wd(t,e)}Te(Ls),je(Ls,t)}function Hn(){Te(Ls),Te(Zi),Te(Xi)}function Pg(e){zr(Xi.current);var t=zr(Ls.current),r=wd(t,e.type);t!==r&&(je(Zi,e),je(Ls,r))}function xh(e){Zi.current===e&&(Te(Ls),Te(Zi))}var Me=_r(0);function Zl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Pc=[];function ph(){for(var e=0;e<Pc.length;e++)Pc[e]._workInProgressVersionPrimary=null;Pc.length=0}var vl=Xs.ReactCurrentDispatcher,Mc=Xs.ReactCurrentBatchConfig,Jr=0,Re=null,tt=null,ct=null,Xl=!1,Ei=!1,Ji=0,Nj=0;function bt(){throw Error(V(321))}function gh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ss(e[r],t[r]))return!1;return!0}function yh(e,t,r,n,i,a){if(Jr=a,Re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,vl.current=e===null||e.memoizedState===null?Tj:_j,e=r(n,i),Ei){a=0;do{if(Ei=!1,Ji=0,25<=a)throw Error(V(301));a+=1,ct=tt=null,t.updateQueue=null,vl.current=Ej,e=r(n,i)}while(Ei)}if(vl.current=Jl,t=tt!==null&&tt.next!==null,Jr=0,ct=tt=Re=null,Xl=!1,t)throw Error(V(300));return e}function vh(){var e=Ji!==0;return Ji=0,e}function Ps(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Re.memoizedState=ct=e:ct=ct.next=e,ct}function fs(){if(tt===null){var e=Re.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=ct===null?Re.memoizedState:ct.next;if(t!==null)ct=t,tt=e;else{if(e===null)throw Error(V(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},ct===null?Re.memoizedState=ct=e:ct=ct.next=e}return ct}function ea(e,t){return typeof t=="function"?t(e):t}function Ac(e){var t=fs(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=tt,i=n.baseQueue,a=r.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}n.baseQueue=i=a,r.pending=null}if(i!==null){a=i.next,n=n.baseState;var o=l=null,c=null,d=a;do{var u=d.lane;if((Jr&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,l=n):c=c.next=h,Re.lanes|=u,en|=u}d=d.next}while(d!==null&&d!==a);c===null?l=n:c.next=o,Ss(n,t.memoizedState)||(Ot=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do a=i.lane,Re.lanes|=a,en|=a,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Rc(e){var t=fs(),r=t.queue;if(r===null)throw Error(V(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do a=e(a,l.action),l=l.next;while(l!==i);Ss(a,t.memoizedState)||(Ot=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Mg(){}function Ag(e,t){var r=Re,n=fs(),i=t(),a=!Ss(n.memoizedState,i);if(a&&(n.memoizedState=i,Ot=!0),n=n.queue,wh(Dg.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ct!==null&&ct.memoizedState.tag&1){if(r.flags|=2048,ta(9,Lg.bind(null,r,n,i,t),void 0,null),ut===null)throw Error(V(349));Jr&30||Rg(r,t,i)}return i}function Rg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Lg(e,t,r,n){t.value=r,t.getSnapshot=n,Ig(t)&&Fg(e)}function Dg(e,t,r){return r(function(){Ig(t)&&Fg(e)})}function Ig(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ss(e,r)}catch{return!0}}function Fg(e){var t=Ys(e,1);t!==null&&js(t,e,1,-1)}function If(e){var t=Ps();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:e},t.queue=e,e=e.dispatch=Cj.bind(null,Re,e),[t.memoizedState,e]}function ta(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Re.updateQueue,t===null?(t={lastEffect:null,stores:null},Re.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function $g(){return fs().memoizedState}function wl(e,t,r,n){var i=Ps();Re.flags|=e,i.memoizedState=ta(1|t,r,void 0,n===void 0?null:n)}function Po(e,t,r,n){var i=fs();n=n===void 0?null:n;var a=void 0;if(tt!==null){var l=tt.memoizedState;if(a=l.destroy,n!==null&&gh(n,l.deps)){i.memoizedState=ta(t,r,a,n);return}}Re.flags|=e,i.memoizedState=ta(1|t,r,a,n)}function Ff(e,t){return wl(8390656,8,e,t)}function wh(e,t){return Po(2048,8,e,t)}function Vg(e,t){return Po(4,2,e,t)}function Og(e,t){return Po(4,4,e,t)}function zg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bg(e,t,r){return r=r!=null?r.concat([e]):null,Po(4,4,zg.bind(null,t,e),r)}function bh(){}function Ug(e,t){var r=fs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Hg(e,t){var r=fs();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&gh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Wg(e,t,r){return Jr&21?(Ss(r,t)||(r=Qp(),Re.lanes|=r,en|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ot=!0),e.memoizedState=r)}function Sj(e,t){var r=ge;ge=r!==0&&4>r?r:4,e(!0);var n=Mc.transition;Mc.transition={};try{e(!1),t()}finally{ge=r,Mc.transition=n}}function Gg(){return fs().memoizedState}function kj(e,t,r){var n=gr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Yg(e))qg(t,r);else if(r=_g(e,t,r,n),r!==null){var i=Dt();js(r,e,n,i),Kg(r,t,n)}}function Cj(e,t,r){var n=gr(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yg(e))qg(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,r);if(i.hasEagerState=!0,i.eagerState=o,Ss(o,l)){var c=t.interleaved;c===null?(i.next=i,hh(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=_g(e,t,i,n),r!==null&&(i=Dt(),js(r,e,n,i),Kg(r,t,n))}}function Yg(e){var t=e.alternate;return e===Re||t!==null&&t===Re}function qg(e,t){Ei=Xl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Kg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Xu(e,r)}}var Jl={readContext:ms,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},Tj={readContext:ms,useCallback:function(e,t){return Ps().memoizedState=[e,t===void 0?null:t],e},useContext:ms,useEffect:Ff,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,wl(4194308,4,zg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return wl(4194308,4,e,t)},useInsertionEffect:function(e,t){return wl(4,2,e,t)},useMemo:function(e,t){var r=Ps();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Ps();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=kj.bind(null,Re,e),[n.memoizedState,e]},useRef:function(e){var t=Ps();return e={current:e},t.memoizedState=e},useState:If,useDebugValue:bh,useDeferredValue:function(e){return Ps().memoizedState=e},useTransition:function(){var e=If(!1),t=e[0];return e=Sj.bind(null,e[1]),Ps().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Re,i=Ps();if(Ee){if(r===void 0)throw Error(V(407));r=r()}else{if(r=t(),ut===null)throw Error(V(349));Jr&30||Rg(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Ff(Dg.bind(null,n,a,e),[e]),n.flags|=2048,ta(9,Lg.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Ps(),t=ut.identifierPrefix;if(Ee){var r=Us,n=Bs;r=(n&~(1<<32-bs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ji++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Nj++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},_j={readContext:ms,useCallback:Ug,useContext:ms,useEffect:wh,useImperativeHandle:Bg,useInsertionEffect:Vg,useLayoutEffect:Og,useMemo:Hg,useReducer:Ac,useRef:$g,useState:function(){return Ac(ea)},useDebugValue:bh,useDeferredValue:function(e){var t=fs();return Wg(t,tt.memoizedState,e)},useTransition:function(){var e=Ac(ea)[0],t=fs().memoizedState;return[e,t]},useMutableSource:Mg,useSyncExternalStore:Ag,useId:Gg,unstable_isNewReconciler:!1},Ej={readContext:ms,useCallback:Ug,useContext:ms,useEffect:wh,useImperativeHandle:Bg,useInsertionEffect:Vg,useLayoutEffect:Og,useMemo:Hg,useReducer:Rc,useRef:$g,useState:function(){return Rc(ea)},useDebugValue:bh,useDeferredValue:function(e){var t=fs();return tt===null?t.memoizedState=e:Wg(t,tt.memoizedState,e)},useTransition:function(){var e=Rc(ea)[0],t=fs().memoizedState;return[e,t]},useMutableSource:Mg,useSyncExternalStore:Ag,useId:Gg,unstable_isNewReconciler:!1};function ys(e,t){if(e&&e.defaultProps){t=Le({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function zd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Le({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Mo={isMounted:function(e){return(e=e._reactInternals)?cn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Dt(),i=gr(e),a=Hs(n,i);a.payload=t,r!=null&&(a.callback=r),t=xr(e,a,i),t!==null&&(js(t,e,i,n),yl(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Dt(),i=gr(e),a=Hs(n,i);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=xr(e,a,i),t!==null&&(js(t,e,i,n),yl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dt(),n=gr(e),i=Hs(r,n);i.tag=2,t!=null&&(i.callback=t),t=xr(e,i,n),t!==null&&(js(t,e,n,r),yl(t,e,n))}};function $f(e,t,r,n,i,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,l):t.prototype&&t.prototype.isPureReactComponent?!Yi(r,n)||!Yi(i,a):!0}function Qg(e,t,r){var n=!1,i=Nr,a=t.contextType;return typeof a=="object"&&a!==null?a=ms(a):(i=Ut(t)?Zr:Tt.current,n=t.contextTypes,a=(n=n!=null)?zn(e,i):Nr),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Vf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Mo.enqueueReplaceState(t,t.state,null)}function Bd(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},mh(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ms(a):(a=Ut(t)?Zr:Tt.current,i.context=zn(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(zd(e,t,a,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Mo.enqueueReplaceState(i,i.state,null),Ql(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Wn(e,t){try{var r="",n=t;do r+=rb(n),n=n.return;while(n);var i=r}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function Lc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Ud(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Pj=typeof WeakMap=="function"?WeakMap:Map;function Zg(e,t,r){r=Hs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){to||(to=!0,Jd=n),Ud(e,t)},r}function Xg(e,t,r){r=Hs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Ud(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Ud(e,t),typeof n!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Of(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Pj;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Hj.bind(null,e,t,r),t.then(e,e))}function zf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bf(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Hs(-1,1),t.tag=2,xr(r,t,1))),r.lanes|=1),e)}var Mj=Xs.ReactCurrentOwner,Ot=!1;function At(e,t,r,n){t.child=e===null?Tg(t,null,r,n):Un(t,e.child,r,n)}function Uf(e,t,r,n,i){r=r.render;var a=t.ref;return In(t,i),n=yh(e,t,r,n,a,i),r=vh(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i)):(Ee&&r&&ah(t),t.flags|=1,At(e,t,n,i),t.child)}function Hf(e,t,r,n,i){if(e===null){var a=r.type;return typeof a=="function"&&!Eh(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Jg(e,t,a,n,i)):(e=Sl(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var l=a.memoizedProps;if(r=r.compare,r=r!==null?r:Yi,r(l,n)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,e=yr(a,n),e.ref=t.ref,e.return=t,t.child=e}function Jg(e,t,r,n,i){if(e!==null){var a=e.memoizedProps;if(Yi(a,n)&&e.ref===t.ref)if(Ot=!1,t.pendingProps=n=a,(e.lanes&i)!==0)e.flags&131072&&(Ot=!0);else return t.lanes=e.lanes,qs(e,t,i)}return Hd(e,t,r,n,i)}function ey(e,t,r){var n=t.pendingProps,i=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Cn,Yt),Yt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(Cn,Yt),Yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,je(Cn,Yt),Yt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,je(Cn,Yt),Yt|=n;return At(e,t,i,r),t.child}function ty(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Hd(e,t,r,n,i){var a=Ut(r)?Zr:Tt.current;return a=zn(t,a),In(t,i),r=yh(e,t,r,n,a,i),n=vh(),e!==null&&!Ot?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i)):(Ee&&n&&ah(t),t.flags|=1,At(e,t,r,i),t.child)}function Wf(e,t,r,n,i){if(Ut(r)){var a=!0;Wl(t)}else a=!1;if(In(t,i),t.stateNode===null)bl(e,t),Qg(t,r,n),Bd(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=r.contextType;typeof d=="object"&&d!==null?d=ms(d):(d=Ut(r)?Zr:Tt.current,d=zn(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";h||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Vf(t,l,n,d),nr=!1;var m=t.memoizedState;l.state=m,Ql(t,n,l,i),c=t.memoizedState,o!==n||m!==c||Bt.current||nr?(typeof u=="function"&&(zd(t,r,u,n),c=t.memoizedState),(o=nr||$f(t,r,o,n,m,c,d))?(h||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),l.props=n,l.state=c,l.context=d,n=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Eg(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:ys(t.type,o),l.props=d,h=t.pendingProps,m=l.context,c=r.contextType,typeof c=="object"&&c!==null?c=ms(c):(c=Ut(r)?Zr:Tt.current,c=zn(t,c));var v=r.getDerivedStateFromProps;(u=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==h||m!==c)&&Vf(t,l,n,c),nr=!1,m=t.memoizedState,l.state=m,Ql(t,n,l,i);var y=t.memoizedState;o!==h||m!==y||Bt.current||nr?(typeof v=="function"&&(zd(t,r,v,n),y=t.memoizedState),(d=nr||$f(t,r,d,n,m,y,c)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,y,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,y,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),l.props=n,l.state=y,l.context=c,n=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return Wd(e,t,r,n,a,i)}function Wd(e,t,r,n,i,a){ty(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&Pf(t,r,!1),qs(e,t,a);n=t.stateNode,Mj.current=t;var o=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Un(t,e.child,null,a),t.child=Un(t,null,o,a)):At(e,t,o,a),t.memoizedState=n.state,i&&Pf(t,r,!0),t.child}function sy(e){var t=e.stateNode;t.pendingContext?Ef(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ef(e,t.context,!1),fh(e,t.containerInfo)}function Gf(e,t,r,n,i){return Bn(),oh(i),t.flags|=256,At(e,t,r,n),t.child}var Gd={dehydrated:null,treeContext:null,retryLane:0};function Yd(e){return{baseLanes:e,cachePool:null,transitions:null}}function ry(e,t,r){var n=t.pendingProps,i=Me.current,a=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),je(Me,i&1),e===null)return Vd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,a?(n=t.mode,a=t.child,l={mode:"hidden",children:l},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Lo(l,n,0,null),e=Gr(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Yd(r),t.memoizedState=Gd,e):jh(t,l));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Aj(e,t,l,n,o,i,r);if(a){a=n.fallback,l=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=yr(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=yr(o,a):(a=Gr(a,l,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,l=e.child.memoizedState,l=l===null?Yd(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~r,t.memoizedState=Gd,n}return a=e.child,e=a.sibling,n=yr(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function jh(e,t){return t=Lo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ja(e,t,r,n){return n!==null&&oh(n),Un(t,e.child,null,r),e=jh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Aj(e,t,r,n,i,a,l){if(r)return t.flags&256?(t.flags&=-257,n=Lc(Error(V(422))),Ja(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,i=t.mode,n=Lo({mode:"visible",children:n.children},i,0,null),a=Gr(a,i,l,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Un(t,e.child,null,l),t.child.memoizedState=Yd(l),t.memoizedState=Gd,a);if(!(t.mode&1))return Ja(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,a=Error(V(419)),n=Lc(a,n,void 0),Ja(e,t,l,n)}if(o=(l&e.childLanes)!==0,Ot||o){if(n=ut,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ys(e,i),js(n,e,i,-1))}return _h(),n=Lc(Error(V(421))),Ja(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Wj.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Kt=fr(i.nextSibling),Qt=t,Ee=!0,ws=null,e!==null&&(as[ls++]=Bs,as[ls++]=Us,as[ls++]=Xr,Bs=e.id,Us=e.overflow,Xr=t),t=jh(t,n.children),t.flags|=4096,t)}function Yf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Od(e.return,t,r)}function Dc(e,t,r,n,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function ny(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(At(e,t,n.children,r),n=Me.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yf(e,r,t);else if(e.tag===19)Yf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(je(Me,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Zl(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Dc(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Zl(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Dc(t,!0,r,null,a);break;case"together":Dc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),en|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(V(153));if(t.child!==null){for(e=t.child,r=yr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Rj(e,t,r){switch(t.tag){case 3:sy(t),Bn();break;case 5:Pg(t);break;case 1:Ut(t.type)&&Wl(t);break;case 4:fh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;je(ql,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(je(Me,Me.current&1),t.flags|=128,null):r&t.child.childLanes?ry(e,t,r):(je(Me,Me.current&1),e=qs(e,t,r),e!==null?e.sibling:null);je(Me,Me.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ny(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),je(Me,Me.current),n)break;return null;case 22:case 23:return t.lanes=0,ey(e,t,r)}return qs(e,t,r)}var iy,qd,ay,ly;iy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qd=function(){};ay=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,zr(Ls.current);var a=null;switch(r){case"input":i=pd(e,i),n=pd(e,n),a=[];break;case"select":i=Le({},i,{value:void 0}),n=Le({},n,{value:void 0}),a=[];break;case"textarea":i=vd(e,i),n=vd(e,n),a=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Ul)}bd(r,n);var l;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var o=i[d];for(l in o)o.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Oi.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in n){var c=n[d];if(o=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(r||(r={}),r[l]=c[l])}else r||(a||(a=[]),a.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Oi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ke("scroll",e),a||o===c||(a=[])):(a=a||[]).push(d,c))}r&&(a=a||[]).push("style",r);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};ly=function(e,t,r,n){r!==n&&(t.flags|=4)};function fi(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Lj(e,t,r){var n=t.pendingProps;switch(lh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(t),null;case 1:return Ut(t.type)&&Hl(),jt(t),null;case 3:return n=t.stateNode,Hn(),Te(Bt),Te(Tt),ph(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Za(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ws!==null&&(su(ws),ws=null))),qd(e,t),jt(t),null;case 5:xh(t);var i=zr(Xi.current);if(r=t.type,e!==null&&t.stateNode!=null)ay(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(V(166));return jt(t),null}if(e=zr(Ls.current),Za(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[As]=t,n[Qi]=a,e=(t.mode&1)!==0,r){case"dialog":ke("cancel",n),ke("close",n);break;case"iframe":case"object":case"embed":ke("load",n);break;case"video":case"audio":for(i=0;i<ji.length;i++)ke(ji[i],n);break;case"source":ke("error",n);break;case"img":case"image":case"link":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"input":tf(n,a),ke("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},ke("invalid",n);break;case"textarea":rf(n,a),ke("invalid",n)}bd(r,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?n.textContent!==o&&(a.suppressHydrationWarning!==!0&&Qa(n.textContent,o,e),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Qa(n.textContent,o,e),i=["children",""+o]):Oi.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ke("scroll",n)}switch(r){case"input":Ba(n),sf(n,a,!0);break;case"textarea":Ba(n),nf(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=Ul)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[As]=t,e[Qi]=n,iy(e,t,!1,!1),t.stateNode=e;e:{switch(l=jd(r,n),r){case"dialog":ke("cancel",e),ke("close",e),i=n;break;case"iframe":case"object":case"embed":ke("load",e),i=n;break;case"video":case"audio":for(i=0;i<ji.length;i++)ke(ji[i],e);i=n;break;case"source":ke("error",e),i=n;break;case"img":case"image":case"link":ke("error",e),ke("load",e),i=n;break;case"details":ke("toggle",e),i=n;break;case"input":tf(e,n),i=pd(e,n),ke("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Le({},n,{value:void 0}),ke("invalid",e);break;case"textarea":rf(e,n),i=vd(e,n),ke("invalid",e);break;default:i=n}bd(r,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?$p(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ip(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&zi(e,c):typeof c=="number"&&zi(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Oi.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ke("scroll",e):c!=null&&Gu(e,a,c,l))}switch(r){case"input":Ba(e),sf(e,n,!1);break;case"textarea":Ba(e),nf(e);break;case"option":n.value!=null&&e.setAttribute("value",""+jr(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?An(e,!!n.multiple,a,!1):n.defaultValue!=null&&An(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ul)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jt(t),null;case 6:if(e&&t.stateNode!=null)ly(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(V(166));if(r=zr(Xi.current),zr(Ls.current),Za(t)){if(n=t.stateNode,r=t.memoizedProps,n[As]=t,(a=n.nodeValue!==r)&&(e=Qt,e!==null))switch(e.tag){case 3:Qa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qa(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[As]=t,t.stateNode=n}return jt(t),null;case 13:if(Te(Me),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ee&&Kt!==null&&t.mode&1&&!(t.flags&128))kg(),Bn(),t.flags|=98560,a=!1;else if(a=Za(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(V(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(V(317));a[As]=t}else Bn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jt(t),a=!1}else ws!==null&&(su(ws),ws=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Me.current&1?st===0&&(st=3):_h())),t.updateQueue!==null&&(t.flags|=4),jt(t),null);case 4:return Hn(),qd(e,t),e===null&&qi(t.stateNode.containerInfo),jt(t),null;case 10:return uh(t.type._context),jt(t),null;case 17:return Ut(t.type)&&Hl(),jt(t),null;case 19:if(Te(Me),a=t.memoizedState,a===null)return jt(t),null;if(n=(t.flags&128)!==0,l=a.rendering,l===null)if(n)fi(a,!1);else{if(st!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Zl(e),l!==null){for(t.flags|=128,fi(a,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return je(Me,Me.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ge()>Gn&&(t.flags|=128,n=!0,fi(a,!1),t.lanes=4194304)}else{if(!n)if(e=Zl(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),fi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!Ee)return jt(t),null}else 2*Ge()-a.renderingStartTime>Gn&&r!==1073741824&&(t.flags|=128,n=!0,fi(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(r=a.last,r!==null?r.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ge(),t.sibling=null,r=Me.current,je(Me,n?r&1|2:r&1),t):(jt(t),null);case 22:case 23:return Th(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Yt&1073741824&&(jt(t),t.subtreeFlags&6&&(t.flags|=8192)):jt(t),null;case 24:return null;case 25:return null}throw Error(V(156,t.tag))}function Dj(e,t){switch(lh(t),t.tag){case 1:return Ut(t.type)&&Hl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(),Te(Bt),Te(Tt),ph(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xh(t),null;case 13:if(Te(Me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(V(340));Bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Te(Me),null;case 4:return Hn(),null;case 10:return uh(t.type._context),null;case 22:case 23:return Th(),null;case 24:return null;default:return null}}var el=!1,Nt=!1,Ij=typeof WeakSet=="function"?WeakSet:Set,W=null;function kn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ue(e,t,n)}else r.current=null}function Kd(e,t,r){try{r()}catch(n){Ue(e,t,n)}}var qf=!1;function Fj(e,t){if(Ad=Ol,e=hg(),ih(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var l=0,o=-1,c=-1,d=0,u=0,h=e,m=null;t:for(;;){for(var v;h!==r||i!==0&&h.nodeType!==3||(o=l+i),h!==a||n!==0&&h.nodeType!==3||(c=l+n),h.nodeType===3&&(l+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===e)break t;if(m===r&&++d===i&&(o=l),m===a&&++u===n&&(c=l),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Rd={focusedElem:e,selectionRange:r},Ol=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,x=y.memoizedState,f=t.stateNode,p=f.getSnapshotBeforeUpdate(t.elementType===t.type?b:ys(t.type,b),x);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(V(163))}}catch(j){Ue(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return y=qf,qf=!1,y}function Pi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Kd(t,r,a)}i=i.next}while(i!==n)}}function Ao(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Qd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function oy(e){var t=e.alternate;t!==null&&(e.alternate=null,oy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[As],delete t[Qi],delete t[Id],delete t[vj],delete t[wj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function cy(e){return e.tag===5||e.tag===3||e.tag===4}function Kf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Ul));else if(n!==4&&(e=e.child,e!==null))for(Zd(e,t,r),e=e.sibling;e!==null;)Zd(e,t,r),e=e.sibling}function Xd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Xd(e,t,r),e=e.sibling;e!==null;)Xd(e,t,r),e=e.sibling}var mt=null,vs=!1;function er(e,t,r){for(r=r.child;r!==null;)dy(e,t,r),r=r.sibling}function dy(e,t,r){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(So,r)}catch{}switch(r.tag){case 5:Nt||kn(r,t);case 6:var n=mt,i=vs;mt=null,er(e,t,r),mt=n,vs=i,mt!==null&&(vs?(e=mt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):mt.removeChild(r.stateNode));break;case 18:mt!==null&&(vs?(e=mt,r=r.stateNode,e.nodeType===8?_c(e.parentNode,r):e.nodeType===1&&_c(e,r),Wi(e)):_c(mt,r.stateNode));break;case 4:n=mt,i=vs,mt=r.stateNode.containerInfo,vs=!0,er(e,t,r),mt=n,vs=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Kd(r,t,l),i=i.next}while(i!==n)}er(e,t,r);break;case 1:if(!Nt&&(kn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ue(r,t,o)}er(e,t,r);break;case 21:er(e,t,r);break;case 22:r.mode&1?(Nt=(n=Nt)||r.memoizedState!==null,er(e,t,r),Nt=n):er(e,t,r);break;default:er(e,t,r)}}function Qf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Ij),t.forEach(function(n){var i=Gj.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ps(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:mt=o.stateNode,vs=!1;break e;case 3:mt=o.stateNode.containerInfo,vs=!0;break e;case 4:mt=o.stateNode.containerInfo,vs=!0;break e}o=o.return}if(mt===null)throw Error(V(160));dy(a,l,i),mt=null,vs=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Ue(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uy(t,e),t=t.sibling}function uy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ps(t,e),_s(e),n&4){try{Pi(3,e,e.return),Ao(3,e)}catch(b){Ue(e,e.return,b)}try{Pi(5,e,e.return)}catch(b){Ue(e,e.return,b)}}break;case 1:ps(t,e),_s(e),n&512&&r!==null&&kn(r,r.return);break;case 5:if(ps(t,e),_s(e),n&512&&r!==null&&kn(r,r.return),e.flags&32){var i=e.stateNode;try{zi(i,"")}catch(b){Ue(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,l=r!==null?r.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Rp(i,a),jd(o,l);var d=jd(o,a);for(l=0;l<c.length;l+=2){var u=c[l],h=c[l+1];u==="style"?$p(i,h):u==="dangerouslySetInnerHTML"?Ip(i,h):u==="children"?zi(i,h):Gu(i,u,h,d)}switch(o){case"input":gd(i,a);break;case"textarea":Lp(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?An(i,!!a.multiple,v,!1):m!==!!a.multiple&&(a.defaultValue!=null?An(i,!!a.multiple,a.defaultValue,!0):An(i,!!a.multiple,a.multiple?[]:"",!1))}i[Qi]=a}catch(b){Ue(e,e.return,b)}}break;case 6:if(ps(t,e),_s(e),n&4){if(e.stateNode===null)throw Error(V(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(b){Ue(e,e.return,b)}}break;case 3:if(ps(t,e),_s(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wi(t.containerInfo)}catch(b){Ue(e,e.return,b)}break;case 4:ps(t,e),_s(e);break;case 13:ps(t,e),_s(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(kh=Ge())),n&4&&Qf(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Nt=(d=Nt)||u,ps(t,e),Nt=d):ps(t,e),_s(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(W=e,u=e.child;u!==null;){for(h=W=u;W!==null;){switch(m=W,v=m.child,m.tag){case 0:case 11:case 14:case 15:Pi(4,m,m.return);break;case 1:kn(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){Ue(n,r,b)}}break;case 5:kn(m,m.return);break;case 22:if(m.memoizedState!==null){Xf(h);continue}}v!==null?(v.return=m,W=v):Xf(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,d?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=h.stateNode,c=h.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Fp("display",l))}catch(b){Ue(e,e.return,b)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(b){Ue(e,e.return,b)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ps(t,e),_s(e),n&4&&Qf(e);break;case 21:break;default:ps(t,e),_s(e)}}function _s(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(cy(r)){var n=r;break e}r=r.return}throw Error(V(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(zi(i,""),n.flags&=-33);var a=Kf(e);Xd(e,a,i);break;case 3:case 4:var l=n.stateNode.containerInfo,o=Kf(e);Zd(e,o,l);break;default:throw Error(V(161))}}catch(c){Ue(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function $j(e,t,r){W=e,hy(e)}function hy(e,t,r){for(var n=(e.mode&1)!==0;W!==null;){var i=W,a=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||el;if(!l){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Nt;o=el;var d=Nt;if(el=l,(Nt=c)&&!d)for(W=i;W!==null;)l=W,c=l.child,l.tag===22&&l.memoizedState!==null?Jf(i):c!==null?(c.return=l,W=c):Jf(i);for(;a!==null;)W=a,hy(a),a=a.sibling;W=i,el=o,Nt=d}Zf(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,W=a):Zf(e)}}function Zf(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nt||Ao(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Nt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ys(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Df(t,a,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Df(t,l,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Wi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(V(163))}Nt||t.flags&512&&Qd(t)}catch(m){Ue(t,t.return,m)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function Xf(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function Jf(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ao(4,t)}catch(c){Ue(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Ue(t,i,c)}}var a=t.return;try{Qd(t)}catch(c){Ue(t,a,c)}break;case 5:var l=t.return;try{Qd(t)}catch(c){Ue(t,l,c)}}}catch(c){Ue(t,t.return,c)}if(t===e){W=null;break}var o=t.sibling;if(o!==null){o.return=t.return,W=o;break}W=t.return}}var Vj=Math.ceil,eo=Xs.ReactCurrentDispatcher,Nh=Xs.ReactCurrentOwner,us=Xs.ReactCurrentBatchConfig,he=0,ut=null,Xe=null,xt=0,Yt=0,Cn=_r(0),st=0,sa=null,en=0,Ro=0,Sh=0,Mi=null,Vt=null,kh=0,Gn=1/0,Os=null,to=!1,Jd=null,pr=null,tl=!1,cr=null,so=0,Ai=0,eu=null,jl=-1,Nl=0;function Dt(){return he&6?Ge():jl!==-1?jl:jl=Ge()}function gr(e){return e.mode&1?he&2&&xt!==0?xt&-xt:jj.transition!==null?(Nl===0&&(Nl=Qp()),Nl):(e=ge,e!==0||(e=window.event,e=e===void 0?16:rg(e.type)),e):1}function js(e,t,r,n){if(50<Ai)throw Ai=0,eu=null,Error(V(185));va(e,r,n),(!(he&2)||e!==ut)&&(e===ut&&(!(he&2)&&(Ro|=r),st===4&&lr(e,xt)),Ht(e,n),r===1&&he===0&&!(t.mode&1)&&(Gn=Ge()+500,Eo&&Er()))}function Ht(e,t){var r=e.callbackNode;jb(e,t);var n=Vl(e,e===ut?xt:0);if(n===0)r!==null&&of(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&of(r),t===1)e.tag===0?bj(ex.bind(null,e)):jg(ex.bind(null,e)),gj(function(){!(he&6)&&Er()}),r=null;else{switch(Zp(n)){case 1:r=Zu;break;case 4:r=qp;break;case 16:r=$l;break;case 536870912:r=Kp;break;default:r=$l}r=wy(r,my.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function my(e,t){if(jl=-1,Nl=0,he&6)throw Error(V(327));var r=e.callbackNode;if(Fn()&&e.callbackNode!==r)return null;var n=Vl(e,e===ut?xt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ro(e,n);else{t=n;var i=he;he|=2;var a=xy();(ut!==e||xt!==t)&&(Os=null,Gn=Ge()+500,Wr(e,t));do try{Bj();break}catch(o){fy(e,o)}while(1);dh(),eo.current=a,he=i,Xe!==null?t=0:(ut=null,xt=0,t=st)}if(t!==0){if(t===2&&(i=Td(e),i!==0&&(n=i,t=tu(e,i))),t===1)throw r=sa,Wr(e,0),lr(e,n),Ht(e,Ge()),r;if(t===6)lr(e,n);else{if(i=e.current.alternate,!(n&30)&&!Oj(i)&&(t=ro(e,n),t===2&&(a=Td(e),a!==0&&(n=a,t=tu(e,a))),t===1))throw r=sa,Wr(e,0),lr(e,n),Ht(e,Ge()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(V(345));case 2:Fr(e,Vt,Os);break;case 3:if(lr(e,n),(n&130023424)===n&&(t=kh+500-Ge(),10<t)){if(Vl(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Dt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Dd(Fr.bind(null,e,Vt,Os),t);break}Fr(e,Vt,Os);break;case 4:if(lr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-bs(n);a=1<<l,l=t[l],l>i&&(i=l),n&=~a}if(n=i,n=Ge()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Vj(n/1960))-n,10<n){e.timeoutHandle=Dd(Fr.bind(null,e,Vt,Os),n);break}Fr(e,Vt,Os);break;case 5:Fr(e,Vt,Os);break;default:throw Error(V(329))}}}return Ht(e,Ge()),e.callbackNode===r?my.bind(null,e):null}function tu(e,t){var r=Mi;return e.current.memoizedState.isDehydrated&&(Wr(e,t).flags|=256),e=ro(e,t),e!==2&&(t=Vt,Vt=r,t!==null&&su(t)),e}function su(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function Oj(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Ss(a(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function lr(e,t){for(t&=~Sh,t&=~Ro,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-bs(t),n=1<<r;e[r]=-1,t&=~n}}function ex(e){if(he&6)throw Error(V(327));Fn();var t=Vl(e,0);if(!(t&1))return Ht(e,Ge()),null;var r=ro(e,t);if(e.tag!==0&&r===2){var n=Td(e);n!==0&&(t=n,r=tu(e,n))}if(r===1)throw r=sa,Wr(e,0),lr(e,t),Ht(e,Ge()),r;if(r===6)throw Error(V(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fr(e,Vt,Os),Ht(e,Ge()),null}function Ch(e,t){var r=he;he|=1;try{return e(t)}finally{he=r,he===0&&(Gn=Ge()+500,Eo&&Er())}}function tn(e){cr!==null&&cr.tag===0&&!(he&6)&&Fn();var t=he;he|=1;var r=us.transition,n=ge;try{if(us.transition=null,ge=1,e)return e()}finally{ge=n,us.transition=r,he=t,!(he&6)&&Er()}}function Th(){Yt=Cn.current,Te(Cn)}function Wr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,pj(r)),Xe!==null)for(r=Xe.return;r!==null;){var n=r;switch(lh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hl();break;case 3:Hn(),Te(Bt),Te(Tt),ph();break;case 5:xh(n);break;case 4:Hn();break;case 13:Te(Me);break;case 19:Te(Me);break;case 10:uh(n.type._context);break;case 22:case 23:Th()}r=r.return}if(ut=e,Xe=e=yr(e.current,null),xt=Yt=t,st=0,sa=null,Sh=Ro=en=0,Vt=Mi=null,Or!==null){for(t=0;t<Or.length;t++)if(r=Or[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,a=r.pending;if(a!==null){var l=a.next;a.next=i,n.next=l}r.pending=n}Or=null}return e}function fy(e,t){do{var r=Xe;try{if(dh(),vl.current=Jl,Xl){for(var n=Re.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Xl=!1}if(Jr=0,ct=tt=Re=null,Ei=!1,Ji=0,Nh.current=null,r===null||r.return===null){st=1,sa=t,Xe=null;break}e:{var a=e,l=r.return,o=r,c=t;if(t=xt,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=zf(l);if(v!==null){v.flags&=-257,Bf(v,l,o,a,t),v.mode&1&&Of(a,d,t),t=v,c=d;var y=t.updateQueue;if(y===null){var b=new Set;b.add(c),t.updateQueue=b}else y.add(c);break e}else{if(!(t&1)){Of(a,d,t),_h();break e}c=Error(V(426))}}else if(Ee&&o.mode&1){var x=zf(l);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Bf(x,l,o,a,t),oh(Wn(c,o));break e}}a=c=Wn(c,o),st!==4&&(st=2),Mi===null?Mi=[a]:Mi.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var f=Zg(a,c,t);Lf(a,f);break e;case 1:o=c;var p=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(pr===null||!pr.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Xg(a,o,t);Lf(a,j);break e}}a=a.return}while(a!==null)}gy(r)}catch(k){t=k,Xe===r&&r!==null&&(Xe=r=r.return);continue}break}while(1)}function xy(){var e=eo.current;return eo.current=Jl,e===null?Jl:e}function _h(){(st===0||st===3||st===2)&&(st=4),ut===null||!(en&268435455)&&!(Ro&268435455)||lr(ut,xt)}function ro(e,t){var r=he;he|=2;var n=xy();(ut!==e||xt!==t)&&(Os=null,Wr(e,t));do try{zj();break}catch(i){fy(e,i)}while(1);if(dh(),he=r,eo.current=n,Xe!==null)throw Error(V(261));return ut=null,xt=0,st}function zj(){for(;Xe!==null;)py(Xe)}function Bj(){for(;Xe!==null&&!mb();)py(Xe)}function py(e){var t=vy(e.alternate,e,Yt);e.memoizedProps=e.pendingProps,t===null?gy(e):Xe=t,Nh.current=null}function gy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Dj(r,t),r!==null){r.flags&=32767,Xe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,Xe=null;return}}else if(r=Lj(r,t,Yt),r!==null){Xe=r;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);st===0&&(st=5)}function Fr(e,t,r){var n=ge,i=us.transition;try{us.transition=null,ge=1,Uj(e,t,r,n)}finally{us.transition=i,ge=n}return null}function Uj(e,t,r,n){do Fn();while(cr!==null);if(he&6)throw Error(V(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(V(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Nb(e,a),e===ut&&(Xe=ut=null,xt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tl||(tl=!0,wy($l,function(){return Fn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=us.transition,us.transition=null;var l=ge;ge=1;var o=he;he|=4,Nh.current=null,Fj(e,r),uy(r,e),cj(Rd),Ol=!!Ad,Rd=Ad=null,e.current=r,$j(r),fb(),he=o,ge=l,us.transition=a}else e.current=r;if(tl&&(tl=!1,cr=e,so=i),a=e.pendingLanes,a===0&&(pr=null),gb(r.stateNode),Ht(e,Ge()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(to)throw to=!1,e=Jd,Jd=null,e;return so&1&&e.tag!==0&&Fn(),a=e.pendingLanes,a&1?e===eu?Ai++:(Ai=0,eu=e):Ai=0,Er(),null}function Fn(){if(cr!==null){var e=Zp(so),t=us.transition,r=ge;try{if(us.transition=null,ge=16>e?16:e,cr===null)var n=!1;else{if(e=cr,cr=null,so=0,he&6)throw Error(V(331));var i=he;for(he|=4,W=e.current;W!==null;){var a=W,l=a.child;if(W.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(W=d;W!==null;){var u=W;switch(u.tag){case 0:case 11:case 15:Pi(8,u,a)}var h=u.child;if(h!==null)h.return=u,W=h;else for(;W!==null;){u=W;var m=u.sibling,v=u.return;if(oy(u),u===d){W=null;break}if(m!==null){m.return=v,W=m;break}W=v}}}var y=a.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}W=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,W=l;else e:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Pi(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,W=f;break e}W=a.return}}var p=e.current;for(W=p;W!==null;){l=W;var w=l.child;if(l.subtreeFlags&2064&&w!==null)w.return=l,W=w;else e:for(l=p;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ao(9,o)}}catch(k){Ue(o,o.return,k)}if(o===l){W=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,W=j;break e}W=o.return}}if(he=i,Er(),Rs&&typeof Rs.onPostCommitFiberRoot=="function")try{Rs.onPostCommitFiberRoot(So,e)}catch{}n=!0}return n}finally{ge=r,us.transition=t}}return!1}function tx(e,t,r){t=Wn(r,t),t=Zg(e,t,1),e=xr(e,t,1),t=Dt(),e!==null&&(va(e,1,t),Ht(e,t))}function Ue(e,t,r){if(e.tag===3)tx(e,e,r);else for(;t!==null;){if(t.tag===3){tx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(pr===null||!pr.has(n))){e=Wn(r,e),e=Xg(t,e,1),t=xr(t,e,1),e=Dt(),t!==null&&(va(t,1,e),Ht(t,e));break}}t=t.return}}function Hj(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Dt(),e.pingedLanes|=e.suspendedLanes&r,ut===e&&(xt&r)===r&&(st===4||st===3&&(xt&130023424)===xt&&500>Ge()-kh?Wr(e,0):Sh|=r),Ht(e,t)}function yy(e,t){t===0&&(e.mode&1?(t=Wa,Wa<<=1,!(Wa&130023424)&&(Wa=4194304)):t=1);var r=Dt();e=Ys(e,t),e!==null&&(va(e,t,r),Ht(e,r))}function Wj(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yy(e,r)}function Gj(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(V(314))}n!==null&&n.delete(t),yy(e,r)}var vy;vy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Bt.current)Ot=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ot=!1,Rj(e,t,r);Ot=!!(e.flags&131072)}else Ot=!1,Ee&&t.flags&1048576&&Ng(t,Yl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;bl(e,t),e=t.pendingProps;var i=zn(t,Tt.current);In(t,r),i=yh(null,t,n,e,i,r);var a=vh();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ut(n)?(a=!0,Wl(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mh(t),i.updater=Mo,t.stateNode=i,i._reactInternals=t,Bd(t,n,e,r),t=Wd(null,t,n,!0,a,r)):(t.tag=0,Ee&&a&&ah(t),At(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(bl(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=qj(n),e=ys(n,e),i){case 0:t=Hd(null,t,n,e,r);break e;case 1:t=Wf(null,t,n,e,r);break e;case 11:t=Uf(null,t,n,e,r);break e;case 14:t=Hf(null,t,n,ys(n.type,e),r);break e}throw Error(V(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ys(n,i),Hd(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ys(n,i),Wf(e,t,n,i,r);case 3:e:{if(sy(t),e===null)throw Error(V(387));n=t.pendingProps,a=t.memoizedState,i=a.element,Eg(e,t),Ql(t,n,null,r);var l=t.memoizedState;if(n=l.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=Wn(Error(V(423)),t),t=Gf(e,t,n,r,i);break e}else if(n!==i){i=Wn(Error(V(424)),t),t=Gf(e,t,n,r,i);break e}else for(Kt=fr(t.stateNode.containerInfo.firstChild),Qt=t,Ee=!0,ws=null,r=Tg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bn(),n===i){t=qs(e,t,r);break e}At(e,t,n,r)}t=t.child}return t;case 5:return Pg(t),e===null&&Vd(t),n=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,l=i.children,Ld(n,i)?l=null:a!==null&&Ld(n,a)&&(t.flags|=32),ty(e,t),At(e,t,l,r),t.child;case 6:return e===null&&Vd(t),null;case 13:return ry(e,t,r);case 4:return fh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Un(t,null,n,r):At(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ys(n,i),Uf(e,t,n,i,r);case 7:return At(e,t,t.pendingProps,r),t.child;case 8:return At(e,t,t.pendingProps.children,r),t.child;case 12:return At(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,a=t.memoizedProps,l=i.value,je(ql,n._currentValue),n._currentValue=l,a!==null)if(Ss(a.value,l)){if(a.children===i.children&&!Bt.current){t=qs(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Hs(-1,r&-r),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Od(a.return,r,t),o.lanes|=r;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(V(341));l.lanes|=r,o=l.alternate,o!==null&&(o.lanes|=r),Od(l,r,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}At(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,In(t,r),i=ms(i),n=n(i),t.flags|=1,At(e,t,n,r),t.child;case 14:return n=t.type,i=ys(n,t.pendingProps),i=ys(n.type,i),Hf(e,t,n,i,r);case 15:return Jg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ys(n,i),bl(e,t),t.tag=1,Ut(n)?(e=!0,Wl(t)):e=!1,In(t,r),Qg(t,n,i),Bd(t,n,i,r),Wd(null,t,n,!0,e,r);case 19:return ny(e,t,r);case 22:return ey(e,t,r)}throw Error(V(156,t.tag))};function wy(e,t){return Yp(e,t)}function Yj(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cs(e,t,r,n){return new Yj(e,t,r,n)}function Eh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function qj(e){if(typeof e=="function")return Eh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===qu)return 11;if(e===Ku)return 14}return 2}function yr(e,t){var r=e.alternate;return r===null?(r=cs(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Sl(e,t,r,n,i,a){var l=2;if(n=e,typeof e=="function")Eh(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case pn:return Gr(r.children,i,a,t);case Yu:l=8,i|=8;break;case hd:return e=cs(12,r,t,i|2),e.elementType=hd,e.lanes=a,e;case md:return e=cs(13,r,t,i),e.elementType=md,e.lanes=a,e;case fd:return e=cs(19,r,t,i),e.elementType=fd,e.lanes=a,e;case Pp:return Lo(r,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _p:l=10;break e;case Ep:l=9;break e;case qu:l=11;break e;case Ku:l=14;break e;case rr:l=16,n=null;break e}throw Error(V(130,e==null?e:typeof e,""))}return t=cs(l,r,t,i),t.elementType=e,t.type=n,t.lanes=a,t}function Gr(e,t,r,n){return e=cs(7,e,n,t),e.lanes=r,e}function Lo(e,t,r,n){return e=cs(22,e,n,t),e.elementType=Pp,e.lanes=r,e.stateNode={isHidden:!1},e}function Ic(e,t,r){return e=cs(6,e,null,t),e.lanes=r,e}function Fc(e,t,r){return t=cs(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Kj(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gc(0),this.expirationTimes=gc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gc(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ph(e,t,r,n,i,a,l,o,c){return e=new Kj(e,t,r,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=cs(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},mh(a),e}function Qj(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function by(e){if(!e)return Nr;e=e._reactInternals;e:{if(cn(e)!==e||e.tag!==1)throw Error(V(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(V(171))}if(e.tag===1){var r=e.type;if(Ut(r))return bg(e,r,t)}return t}function jy(e,t,r,n,i,a,l,o,c){return e=Ph(r,n,!0,e,i,a,l,o,c),e.context=by(null),r=e.current,n=Dt(),i=gr(r),a=Hs(n,i),a.callback=t??null,xr(r,a,i),e.current.lanes=i,va(e,i,n),Ht(e,n),e}function Do(e,t,r,n){var i=t.current,a=Dt(),l=gr(i);return r=by(r),t.context===null?t.context=r:t.pendingContext=r,t=Hs(a,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xr(i,t,l),e!==null&&(js(e,i,l,a),yl(e,i,l)),l}function no(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Mh(e,t){sx(e,t),(e=e.alternate)&&sx(e,t)}function Zj(){return null}var Ny=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ah(e){this._internalRoot=e}Io.prototype.render=Ah.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(V(409));Do(e,t,null,null)};Io.prototype.unmount=Ah.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tn(function(){Do(null,e,null,null)}),t[Gs]=null}};function Io(e){this._internalRoot=e}Io.prototype.unstable_scheduleHydration=function(e){if(e){var t=eg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ar.length&&t!==0&&t<ar[r].priority;r++);ar.splice(r,0,e),r===0&&sg(e)}};function Rh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function rx(){}function Xj(e,t,r,n,i){if(i){if(typeof n=="function"){var a=n;n=function(){var d=no(l);a.call(d)}}var l=jy(t,n,e,0,null,!1,!1,"",rx);return e._reactRootContainer=l,e[Gs]=l.current,qi(e.nodeType===8?e.parentNode:e),tn(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var d=no(c);o.call(d)}}var c=Ph(e,0,!1,null,null,!1,!1,"",rx);return e._reactRootContainer=c,e[Gs]=c.current,qi(e.nodeType===8?e.parentNode:e),tn(function(){Do(t,c,r,n)}),c}function $o(e,t,r,n,i){var a=r._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var o=i;i=function(){var c=no(l);o.call(c)}}Do(t,l,e,i)}else l=Xj(r,t,e,i,n);return no(l)}Xp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=bi(t.pendingLanes);r!==0&&(Xu(t,r|1),Ht(t,Ge()),!(he&6)&&(Gn=Ge()+500,Er()))}break;case 13:tn(function(){var n=Ys(e,1);if(n!==null){var i=Dt();js(n,e,1,i)}}),Mh(e,1)}};Ju=function(e){if(e.tag===13){var t=Ys(e,134217728);if(t!==null){var r=Dt();js(t,e,134217728,r)}Mh(e,134217728)}};Jp=function(e){if(e.tag===13){var t=gr(e),r=Ys(e,t);if(r!==null){var n=Dt();js(r,e,t,n)}Mh(e,t)}};eg=function(){return ge};tg=function(e,t){var r=ge;try{return ge=e,t()}finally{ge=r}};Sd=function(e,t,r){switch(t){case"input":if(gd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=_o(n);if(!i)throw Error(V(90));Ap(n),gd(n,i)}}}break;case"textarea":Lp(e,r);break;case"select":t=r.value,t!=null&&An(e,!!r.multiple,t,!1)}};zp=Ch;Bp=tn;var Jj={usingClientEntryPoint:!1,Events:[ba,wn,_o,Vp,Op,Ch]},xi={findFiberByHostInstance:Vr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e2={bundleType:xi.bundleType,version:xi.version,rendererPackageName:xi.rendererPackageName,rendererConfig:xi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wp(e),e===null?null:e.stateNode},findFiberByHostInstance:xi.findFiberByHostInstance||Zj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{So=sl.inject(e2),Rs=sl}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jj;Xt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rh(t))throw Error(V(200));return Qj(e,t,null,r)};Xt.createRoot=function(e,t){if(!Rh(e))throw Error(V(299));var r=!1,n="",i=Ny;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ph(e,1,!1,null,null,r,!1,n,i),e[Gs]=t.current,qi(e.nodeType===8?e.parentNode:e),new Ah(t)};Xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(V(188)):(e=Object.keys(e).join(","),Error(V(268,e)));return e=Wp(t),e=e===null?null:e.stateNode,e};Xt.flushSync=function(e){return tn(e)};Xt.hydrate=function(e,t,r){if(!Fo(t))throw Error(V(200));return $o(null,e,t,!0,r)};Xt.hydrateRoot=function(e,t,r){if(!Rh(e))throw Error(V(405));var n=r!=null&&r.hydratedSources||null,i=!1,a="",l=Ny;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=jy(t,null,e,1,r??null,i,!1,a,l),e[Gs]=t.current,qi(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Io(t)};Xt.render=function(e,t,r){if(!Fo(t))throw Error(V(200));return $o(null,e,t,!1,r)};Xt.unmountComponentAtNode=function(e){if(!Fo(e))throw Error(V(40));return e._reactRootContainer?(tn(function(){$o(null,null,e,!1,function(){e._reactRootContainer=null,e[Gs]=null})}),!0):!1};Xt.unstable_batchedUpdates=Ch;Xt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Fo(r))throw Error(V(200));if(e==null||e._reactInternals===void 0)throw Error(V(38));return $o(e,t,r,!1,n)};Xt.version="18.3.1-next-f1338f8080-20240426";function Sy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sy)}catch(e){console.error(e)}}Sy(),Sp.exports=Xt;var ky=Sp.exports,nx=ky;dd.createRoot=nx.createRoot,dd.hydrateRoot=nx.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ra(){return ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ra.apply(this,arguments)}var dr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(dr||(dr={}));const ix="popstate";function t2(e){e===void 0&&(e={});function t(n,i){let{pathname:a,search:l,hash:o}=n.location;return ru("",{pathname:a,search:l,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:io(i)}return r2(t,r,null,e)}function Je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function s2(){return Math.random().toString(36).substr(2,8)}function ax(e,t){return{usr:e.state,key:e.key,idx:t}}function ru(e,t,r,n){return r===void 0&&(r=null),ra({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xn(t):t,{state:r,key:t&&t.key||n||s2()})}function io(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function r2(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,l=i.history,o=dr.Pop,c=null,d=u();d==null&&(d=0,l.replaceState(ra({},l.state,{idx:d}),""));function u(){return(l.state||{idx:null}).idx}function h(){o=dr.Pop;let x=u(),f=x==null?null:x-d;d=x,c&&c({action:o,location:b.location,delta:f})}function m(x,f){o=dr.Push;let p=ru(b.location,x,f);r&&r(p,x),d=u()+1;let w=ax(p,d),j=b.createHref(p);try{l.pushState(w,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(j)}a&&c&&c({action:o,location:b.location,delta:1})}function v(x,f){o=dr.Replace;let p=ru(b.location,x,f);r&&r(p,x),d=u();let w=ax(p,d),j=b.createHref(p);l.replaceState(w,"",j),a&&c&&c({action:o,location:b.location,delta:0})}function y(x){let f=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof x=="string"?x:io(x);return p=p.replace(/ $/,"%20"),Je(f,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,f)}let b={get action(){return o},get location(){return e(i,l)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ix,h),c=x,()=>{i.removeEventListener(ix,h),c=null}},createHref(x){return t(i,x)},createURL:y,encodeLocation(x){let f=y(x);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:m,replace:v,go(x){return l.go(x)}};return b}var lx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lx||(lx={}));function n2(e,t,r){return r===void 0&&(r="/"),i2(e,t,r,!1)}function i2(e,t,r,n){let i=typeof t=="string"?Xn(t):t,a=Lh(i.pathname||"/",r);if(a==null)return null;let l=Ty(e);a2(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=g2(a);o=x2(l[c],d,n)}return o}function Ty(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,l,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(Je(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=vr([n,c.relativePath]),u=r.concat(c);a.children&&a.children.length>0&&(Je(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Ty(a.children,t,u,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:m2(d,a.index),routesMeta:u})};return e.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,l);else for(let c of _y(a.path))i(a,l,c)}),t}function _y(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let l=_y(n.join("/")),o=[];return o.push(...l.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function a2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:f2(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const l2=/^:[\w-]+$/,o2=3,c2=2,d2=1,u2=10,h2=-2,ox=e=>e==="*";function m2(e,t){let r=e.split("/"),n=r.length;return r.some(ox)&&(n+=h2),t&&(n+=c2),r.filter(i=>!ox(i)).reduce((i,a)=>i+(l2.test(a)?o2:a===""?d2:u2),n)}function f2(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function x2(e,t,r){r===void 0&&(r=!1);let{routesMeta:n}=e,i={},a="/",l=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,u=a==="/"?t:t.slice(a.length)||"/",h=cx({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),m=c.route;if(!h&&d&&r&&!n[n.length-1].route.index&&(h=cx({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),l.push({params:i,pathname:vr([a,h.pathname]),pathnameBase:b2(vr([a,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(a=vr([a,h.pathnameBase]))}return l}function cx(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=p2(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:m,isOptional:v}=u;if(m==="*"){let b=o[h]||"";l=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const y=o[h];return v&&!y?d[m]=void 0:d[m]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:e}}function p2(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Cy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function g2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Lh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function y2(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Xn(e):e;return{pathname:r?r.startsWith("/")?r:v2(r,t):t,search:j2(n),hash:N2(i)}}function v2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function $c(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w2(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Ey(e,t){let r=w2(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Py(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Xn(e):(i=ra({},e),Je(!i.pathname||!i.pathname.includes("?"),$c("?","pathname","search",i)),Je(!i.pathname||!i.pathname.includes("#"),$c("#","pathname","hash",i)),Je(!i.search||!i.search.includes("#"),$c("#","search","hash",i)));let a=e===""||i.pathname==="",l=a?"/":i.pathname,o;if(l==null)o=r;else{let h=t.length-1;if(!n&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),h-=1;i.pathname=m.join("/")}o=h>=0?t[h]:"/"}let c=y2(i,o),d=l&&l!=="/"&&l.endsWith("/"),u=(a||l===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const vr=e=>e.join("/").replace(/\/\/+/g,"/"),b2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,N2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function S2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const My=["post","put","patch","delete"];new Set(My);const k2=["get",...My];new Set(k2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function na(){return na=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},na.apply(this,arguments)}const Dh=g.createContext(null),C2=g.createContext(null),dn=g.createContext(null),Vo=g.createContext(null),Pr=g.createContext({outlet:null,matches:[],isDataRoute:!1}),Ay=g.createContext(null);function T2(e,t){let{relative:r}=t===void 0?{}:t;Na()||Je(!1);let{basename:n,navigator:i}=g.useContext(dn),{hash:a,pathname:l,search:o}=Ly(e,{relative:r}),c=l;return n!=="/"&&(c=l==="/"?n:vr([n,l])),i.createHref({pathname:c,search:o,hash:a})}function Na(){return g.useContext(Vo)!=null}function Jn(){return Na()||Je(!1),g.useContext(Vo).location}function Ry(e){g.useContext(dn).static||g.useLayoutEffect(e)}function Cs(){let{isDataRoute:e}=g.useContext(Pr);return e?O2():_2()}function _2(){Na()||Je(!1);let e=g.useContext(Dh),{basename:t,future:r,navigator:n}=g.useContext(dn),{matches:i}=g.useContext(Pr),{pathname:a}=Jn(),l=JSON.stringify(Ey(i,r.v7_relativeSplatPath)),o=g.useRef(!1);return Ry(()=>{o.current=!0}),g.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let h=Py(d,JSON.parse(l),a,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:vr([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,l,a,e])}function Ih(){let{matches:e}=g.useContext(Pr),t=e[e.length-1];return t?t.params:{}}function Ly(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=g.useContext(dn),{matches:i}=g.useContext(Pr),{pathname:a}=Jn(),l=JSON.stringify(Ey(i,n.v7_relativeSplatPath));return g.useMemo(()=>Py(e,JSON.parse(l),a,r==="path"),[e,l,a,r])}function E2(e,t){return P2(e,t)}function P2(e,t,r,n){Na()||Je(!1);let{navigator:i}=g.useContext(dn),{matches:a}=g.useContext(Pr),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=Jn(),u;if(t){var h;let x=typeof t=="string"?Xn(t):t;c==="/"||(h=x.pathname)!=null&&h.startsWith(c)||Je(!1),u=x}else u=d;let m=u.pathname||"/",v=m;if(c!=="/"){let x=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=n2(e,{pathname:v}),b=D2(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:vr([c,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:vr([c,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,r,n);return t&&b?g.createElement(Vo.Provider,{value:{location:na({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:dr.Pop}},b):b}function M2(){let e=V2(),t=S2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},a=null;return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),r?g.createElement("pre",{style:i},r):null,a)}const A2=g.createElement(M2,null);class R2 extends g.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?g.createElement(Pr.Provider,{value:this.props.routeContext},g.createElement(Ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function L2(e){let{routeContext:t,match:r,children:n}=e,i=g.useContext(Dh);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),g.createElement(Pr.Provider,{value:t},n)}function D2(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,o=(i=r)==null?void 0:i.errors;if(o!=null){let u=l.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||Je(!1),l=l.slice(0,Math.min(l.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<l.length;u++){let h=l[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:m,errors:v}=r,y=h.route.loader&&m[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((u,h,m)=>{let v,y=!1,b=null,x=null;r&&(v=o&&h.route.id?o[h.route.id]:void 0,b=h.route.errorElement||A2,c&&(d<0&&m===0?(z2("route-fallback",!1),y=!0,x=null):d===m&&(y=!0,x=h.route.hydrateFallbackElement||null)));let f=t.concat(l.slice(0,m+1)),p=()=>{let w;return v?w=b:y?w=x:h.route.Component?w=g.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=u,g.createElement(L2,{match:h,routeContext:{outlet:u,matches:f,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?g.createElement(R2,{location:r.location,revalidation:r.revalidation,component:b,error:v,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var Dy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Dy||{}),ao=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ao||{});function I2(e){let t=g.useContext(Dh);return t||Je(!1),t}function F2(e){let t=g.useContext(C2);return t||Je(!1),t}function $2(e){let t=g.useContext(Pr);return t||Je(!1),t}function Iy(e){let t=$2(),r=t.matches[t.matches.length-1];return r.route.id||Je(!1),r.route.id}function V2(){var e;let t=g.useContext(Ay),r=F2(ao.UseRouteError),n=Iy(ao.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function O2(){let{router:e}=I2(Dy.UseNavigateStable),t=Iy(ao.UseNavigateStable),r=g.useRef(!1);return Ry(()=>{r.current=!0}),g.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,na({fromRouteId:t},a)))},[e,t])}const dx={};function z2(e,t,r){!t&&!dx[e]&&(dx[e]=!0)}function B2(e,t){e==null||e.v7_startTransition,(e==null?void 0:e.v7_relativeSplatPath)===void 0&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}function $t(e){Je(!1)}function U2(e){let{basename:t="/",children:r=null,location:n,navigationType:i=dr.Pop,navigator:a,static:l=!1,future:o}=e;Na()&&Je(!1);let c=t.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:a,static:l,future:na({v7_relativeSplatPath:!1},o)}),[c,o,a,l]);typeof n=="string"&&(n=Xn(n));let{pathname:u="/",search:h="",hash:m="",state:v=null,key:y="default"}=n,b=g.useMemo(()=>{let x=Lh(u,c);return x==null?null:{location:{pathname:x,search:h,hash:m,state:v,key:y},navigationType:i}},[c,u,h,m,v,y,i]);return b==null?null:g.createElement(dn.Provider,{value:d},g.createElement(Vo.Provider,{children:r,value:b}))}function H2(e){let{children:t,location:r}=e;return E2(nu(t),r)}new Promise(()=>{});function nu(e,t){t===void 0&&(t=[]);let r=[];return g.Children.forEach(e,(n,i)=>{if(!g.isValidElement(n))return;let a=[...t,i];if(n.type===g.Fragment){r.push.apply(r,nu(n.props.children,a));return}n.type!==$t&&Je(!1),!n.props.index||!n.props.children||Je(!1);let l={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=nu(n.props.children,a)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iu.apply(this,arguments)}function W2(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,a;for(a=0;a<n.length;a++)i=n[a],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function G2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Y2(e,t){return e.button===0&&(!t||t==="_self")&&!G2(e)}function au(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function q2(e,t){let r=au(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(a=>{r.append(i,a)})}),r}const K2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Q2="6";try{window.__reactRouterVersion=Q2}catch{}const Z2="startTransition",ux=H1[Z2];function X2(e){let{basename:t,children:r,future:n,window:i}=e,a=g.useRef();a.current==null&&(a.current=t2({window:i,v5Compat:!0}));let l=a.current,[o,c]=g.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},u=g.useCallback(h=>{d&&ux?ux(()=>c(h)):c(h)},[c,d]);return g.useLayoutEffect(()=>l.listen(u),[l,u]),g.useEffect(()=>B2(n),[n]),g.createElement(U2,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:l,future:n})}const J2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xe=g.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:a,replace:l,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,m=W2(t,K2),{basename:v}=g.useContext(dn),y,b=!1;if(typeof d=="string"&&eN.test(d)&&(y=d,J2))try{let w=new URL(window.location.href),j=d.startsWith("//")?new URL(w.protocol+d):new URL(d),k=Lh(j.pathname,v);j.origin===w.origin&&k!=null?d=k+j.search+j.hash:b=!0}catch{}let x=T2(d,{relative:i}),f=tN(d,{replace:l,state:o,target:c,preventScrollReset:u,relative:i,viewTransition:h});function p(w){n&&n(w),w.defaultPrevented||f(w)}return g.createElement("a",iu({},m,{href:y||x,onClick:b||a?n:p,ref:r,target:c}))});var hx;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hx||(hx={}));var mx;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mx||(mx={}));function tN(e,t){let{target:r,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:o}=t===void 0?{}:t,c=Cs(),d=Jn(),u=Ly(e,{relative:l});return g.useCallback(h=>{if(Y2(h,r)){h.preventDefault();let m=n!==void 0?n:io(d)===io(u);c(e,{replace:m,state:i,preventScrollReset:a,relative:l,viewTransition:o})}},[d,c,u,n,i,r,e,a,l,o])}function sN(e){let t=g.useRef(au(e)),r=g.useRef(!1),n=Jn(),i=g.useMemo(()=>q2(n.search,r.current?null:t.current),[n.search]),a=Cs(),l=g.useCallback((o,c)=>{const d=au(typeof o=="function"?o(i):o);r.current=!0,a("?"+d,c)},[a,i]);return[i,l]}var rN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iN=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:l,children:o,...c},d)=>g.createElement("svg",{ref:d,...rN,width:i,height:i,stroke:n,strokeWidth:l?Number(a)*24/Number(i):a,className:`lucide lucide-${nN(e)}`,...c},[...t.map(([u,h])=>g.createElement(u,h)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${e}`,r};var F=iN;const aN=F("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]),lN=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),oN=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),cN=F("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),fx=F("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),dN=F("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),uN=F("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),ia=F("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Yr=F("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),Fy=F("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),hN=F("BookmarkPlus",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}],["line",{x1:"12",x2:"12",y1:"7",y2:"13",key:"1cppfj"}],["line",{x1:"15",x2:"9",y1:"10",y2:"10",key:"1gty7f"}]]),$y=F("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),gt=F("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),mN=F("CheckCircle2",[["path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z",key:"14v8dr"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Ri=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),wr=F("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),Vy=F("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),ei=F("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),ks=F("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),Ks=F("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Oy=F("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),yt=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),fN=F("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),xN=F("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),pN=F("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),lo=F("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),zy=F("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Rt=F("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),lu=F("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),aa=F("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),gN=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),yN=F("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),vN=F("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]),wN=F("FileJson",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]),$n=F("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Ce=F("Film",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"2.18",ry:"2.18",key:"vury4c"}],["line",{x1:"7",x2:"7",y1:"2",y2:"22",key:"t1e4qh"}],["line",{x1:"17",x2:"17",y1:"2",y2:"22",key:"1tliql"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"2",x2:"7",y1:"7",y2:"7",key:"1wdzzh"}],["line",{x1:"2",x2:"7",y1:"17",y2:"17",key:"2fufxq"}],["line",{x1:"17",x2:"22",y1:"17",y2:"17",key:"1xg577"}],["line",{x1:"17",x2:"22",y1:"7",y2:"7",key:"acrv2l"}]]),sn=F("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),bN=F("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),jN=F("FolderDown",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m15 13-3 3-3-3",key:"6j2sf0"}]]),NN=F("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]),SN=F("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),qt=F("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["path",{d:"M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z",key:"nb9nel"}]]),rn=F("Grid",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"3",x2:"21",y1:"9",y2:"9",key:"1vqk6q"}],["line",{x1:"3",x2:"21",y1:"15",y2:"15",key:"o2sbyz"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}],["line",{x1:"15",x2:"15",y1:"3",y2:"21",key:"1hpv9i"}]]),rt=F("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),xx=F("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),kN=F("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),By=F("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),CN=F("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),TN=F("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]),Uy=F("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]),_N=F("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),Hy=F("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),EN=F("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),Sa=F("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]),PN=F("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),MN=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),AN=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),RN=F("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),LN=F("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),px=F("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),DN=F("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),IN=F("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),FN=F("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),ou=F("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Wy=F("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),Fh=F("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),$N=F("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Li=F("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),de=F("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Ds=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),rl=F("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),VN=F("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Ct=F("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),ON=F("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]),Gy=F("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),qr=F("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),zN=F("Share",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]),BN=F("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),$h=F("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),UN=F("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]),pi=F("Signal",[["path",{d:"M2 20h.01",key:"4haj6o"}],["path",{d:"M7 20v-4",key:"j294jx"}],["path",{d:"M12 20v-8",key:"i3yub9"}],["path",{d:"M17 20V8",key:"1tkaf5"}],["path",{d:"M22 4v16",key:"sih9yq"}]]),Vh=F("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),br=F("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),ne=F("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),cu=F("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),oo=F("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),HN=F("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),Oo=F("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),nn=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Vc=F("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),la=F("Tv",[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]]),WN=F("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),Mt=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ds=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Yy=F("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]),GN=F("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]),os=F("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),gx=F("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),ka=()=>{const[e,t]=g.useState({isMobile:!1,isTablet:!1,isDesktop:!0});return g.useEffect(()=>{const r=()=>{const n=window.innerWidth;t({isMobile:n<768,isTablet:n>=768&&n<1024,isDesktop:n>=1024})};return r(),window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r)}},[]),e},YN="modulepreload",qN=function(e){return"/cineflix/"+e},yx={},oa=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(a=>{if(a=qN(a),a in yx)return;yx[a]=!0;const l=a.endsWith(".css"),o=l?'[rel="stylesheet"]':"";if(!!n)for(let u=i.length-1;u>=0;u--){const h=i[u];if(h.href===a&&(!l||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${o}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":YN,l||(d.as="script",d.crossOrigin=""),d.href=a,document.head.appendChild(d),l)return new Promise((u,h)=>{d.addEventListener("load",u),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${a}`)))})})).then(()=>t()).catch(a=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a})};function qy(e,t){return function(){return e.apply(t,arguments)}}const{toString:KN}=Object.prototype,{getPrototypeOf:Oh}=Object,{iterator:zo,toStringTag:Ky}=Symbol,Bo=(e=>t=>{const r=KN.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ts=e=>(e=e.toLowerCase(),t=>Bo(t)===e),Uo=e=>t=>typeof t===e,{isArray:ti}=Array,ca=Uo("undefined");function Ca(e){return e!==null&&!ca(e)&&e.constructor!==null&&!ca(e.constructor)&&Wt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Qy=Ts("ArrayBuffer");function QN(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Qy(e.buffer),t}const ZN=Uo("string"),Wt=Uo("function"),Zy=Uo("number"),Ta=e=>e!==null&&typeof e=="object",XN=e=>e===!0||e===!1,kl=e=>{if(Bo(e)!=="object")return!1;const t=Oh(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Ky in e)&&!(zo in e)},JN=e=>{if(!Ta(e)||Ca(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},e4=Ts("Date"),t4=Ts("File"),s4=Ts("Blob"),r4=Ts("FileList"),n4=e=>Ta(e)&&Wt(e.pipe),i4=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Wt(e.append)&&((t=Bo(e))==="formdata"||t==="object"&&Wt(e.toString)&&e.toString()==="[object FormData]"))},a4=Ts("URLSearchParams"),[l4,o4,c4,d4]=["ReadableStream","Request","Response","Headers"].map(Ts),u4=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _a(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,i;if(typeof e!="object"&&(e=[e]),ti(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{if(Ca(e))return;const a=r?Object.getOwnPropertyNames(e):Object.keys(e),l=a.length;let o;for(n=0;n<l;n++)o=a[n],t.call(null,e[o],o,e)}}function Xy(e,t){if(Ca(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,i;for(;n-- >0;)if(i=r[n],t===i.toLowerCase())return i;return null}const Br=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Jy=e=>!ca(e)&&e!==Br;function du(){const{caseless:e}=Jy(this)&&this||{},t={},r=(n,i)=>{const a=e&&Xy(t,i)||i;kl(t[a])&&kl(n)?t[a]=du(t[a],n):kl(n)?t[a]=du({},n):ti(n)?t[a]=n.slice():t[a]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&_a(arguments[n],r);return t}const h4=(e,t,r,{allOwnKeys:n}={})=>(_a(t,(i,a)=>{r&&Wt(i)?e[a]=qy(i,r):e[a]=i},{allOwnKeys:n}),e),m4=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),f4=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},x4=(e,t,r,n)=>{let i,a,l;const o={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),a=i.length;a-- >0;)l=i[a],(!n||n(l,e,t))&&!o[l]&&(t[l]=e[l],o[l]=!0);e=r!==!1&&Oh(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},p4=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},g4=e=>{if(!e)return null;if(ti(e))return e;let t=e.length;if(!Zy(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},y4=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Oh(Uint8Array)),v4=(e,t)=>{const n=(e&&e[zo]).call(e);let i;for(;(i=n.next())&&!i.done;){const a=i.value;t.call(e,a[0],a[1])}},w4=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},b4=Ts("HTMLFormElement"),j4=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),vx=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),N4=Ts("RegExp"),ev=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};_a(r,(i,a)=>{let l;(l=t(i,a,e))!==!1&&(n[a]=l||i)}),Object.defineProperties(e,n)},S4=e=>{ev(e,(t,r)=>{if(Wt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(Wt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},k4=(e,t)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return ti(e)?n(e):n(String(e).split(t)),r},C4=()=>{},T4=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function _4(e){return!!(e&&Wt(e.append)&&e[Ky]==="FormData"&&e[zo])}const E4=e=>{const t=new Array(10),r=(n,i)=>{if(Ta(n)){if(t.indexOf(n)>=0)return;if(Ca(n))return n;if(!("toJSON"in n)){t[i]=n;const a=ti(n)?[]:{};return _a(n,(l,o)=>{const c=r(l,i+1);!ca(c)&&(a[o]=c)}),t[i]=void 0,a}}return n};return r(e,0)},P4=Ts("AsyncFunction"),M4=e=>e&&(Ta(e)||Wt(e))&&Wt(e.then)&&Wt(e.catch),tv=((e,t)=>e?setImmediate:t?((r,n)=>(Br.addEventListener("message",({source:i,data:a})=>{i===Br&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Br.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Wt(Br.postMessage)),A4=typeof queueMicrotask<"u"?queueMicrotask.bind(Br):typeof process<"u"&&process.nextTick||tv,R4=e=>e!=null&&Wt(e[zo]),P={isArray:ti,isArrayBuffer:Qy,isBuffer:Ca,isFormData:i4,isArrayBufferView:QN,isString:ZN,isNumber:Zy,isBoolean:XN,isObject:Ta,isPlainObject:kl,isEmptyObject:JN,isReadableStream:l4,isRequest:o4,isResponse:c4,isHeaders:d4,isUndefined:ca,isDate:e4,isFile:t4,isBlob:s4,isRegExp:N4,isFunction:Wt,isStream:n4,isURLSearchParams:a4,isTypedArray:y4,isFileList:r4,forEach:_a,merge:du,extend:h4,trim:u4,stripBOM:m4,inherits:f4,toFlatObject:x4,kindOf:Bo,kindOfTest:Ts,endsWith:p4,toArray:g4,forEachEntry:v4,matchAll:w4,isHTMLForm:b4,hasOwnProperty:vx,hasOwnProp:vx,reduceDescriptors:ev,freezeMethods:S4,toObjectSet:k4,toCamelCase:j4,noop:C4,toFiniteNumber:T4,findKey:Xy,global:Br,isContextDefined:Jy,isSpecCompliantForm:_4,toJSONObject:E4,isAsyncFn:P4,isThenable:M4,setImmediate:tv,asap:A4,isIterable:R4};function ie(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}P.inherits(ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:P.toJSONObject(this.config),code:this.code,status:this.status}}});const sv=ie.prototype,rv={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{rv[e]={value:e}});Object.defineProperties(ie,rv);Object.defineProperty(sv,"isAxiosError",{value:!0});ie.from=(e,t,r,n,i,a)=>{const l=Object.create(sv);return P.toFlatObject(e,l,function(c){return c!==Error.prototype},o=>o!=="isAxiosError"),ie.call(l,e.message,t,r,n,i),l.cause=e,l.name=e.name,a&&Object.assign(l,a),l};const L4=null;function uu(e){return P.isPlainObject(e)||P.isArray(e)}function nv(e){return P.endsWith(e,"[]")?e.slice(0,-2):e}function wx(e,t,r){return e?e.concat(t).map(function(i,a){return i=nv(i),!r&&a?"["+i+"]":i}).join(r?".":""):t}function D4(e){return P.isArray(e)&&!e.some(uu)}const I4=P.toFlatObject(P,{},null,function(t){return/^is[A-Z]/.test(t)});function Ho(e,t,r){if(!P.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=P.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,x){return!P.isUndefined(x[b])});const n=r.metaTokens,i=r.visitor||u,a=r.dots,l=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&P.isSpecCompliantForm(t);if(!P.isFunction(i))throw new TypeError("visitor must be a function");function d(y){if(y===null)return"";if(P.isDate(y))return y.toISOString();if(P.isBoolean(y))return y.toString();if(!c&&P.isBlob(y))throw new ie("Blob is not supported. Use a Buffer instead.");return P.isArrayBuffer(y)||P.isTypedArray(y)?c&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,b,x){let f=y;if(y&&!x&&typeof y=="object"){if(P.endsWith(b,"{}"))b=n?b:b.slice(0,-2),y=JSON.stringify(y);else if(P.isArray(y)&&D4(y)||(P.isFileList(y)||P.endsWith(b,"[]"))&&(f=P.toArray(y)))return b=nv(b),f.forEach(function(w,j){!(P.isUndefined(w)||w===null)&&t.append(l===!0?wx([b],j,a):l===null?b:b+"[]",d(w))}),!1}return uu(y)?!0:(t.append(wx(x,b,a),d(y)),!1)}const h=[],m=Object.assign(I4,{defaultVisitor:u,convertValue:d,isVisitable:uu});function v(y,b){if(!P.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+b.join("."));h.push(y),P.forEach(y,function(f,p){(!(P.isUndefined(f)||f===null)&&i.call(t,f,P.isString(p)?p.trim():p,b,m))===!0&&v(f,b?b.concat(p):[p])}),h.pop()}}if(!P.isObject(e))throw new TypeError("data must be an object");return v(e),t}function bx(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function zh(e,t){this._pairs=[],e&&Ho(e,this,t)}const iv=zh.prototype;iv.append=function(t,r){this._pairs.push([t,r])};iv.toString=function(t){const r=t?function(n){return t.call(this,n,bx)}:bx;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function F4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function av(e,t,r){if(!t)return e;const n=r&&r.encode||F4;P.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let a;if(i?a=i(t,r):a=P.isURLSearchParams(t)?t.toString():new zh(t,r).toString(n),a){const l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class $4{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){P.forEach(this.handlers,function(n){n!==null&&t(n)})}}const jx=$4,lv={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},V4=typeof URLSearchParams<"u"?URLSearchParams:zh,O4=typeof FormData<"u"?FormData:null,z4=typeof Blob<"u"?Blob:null,B4={isBrowser:!0,classes:{URLSearchParams:V4,FormData:O4,Blob:z4},protocols:["http","https","file","blob","url","data"]},Bh=typeof window<"u"&&typeof document<"u",hu=typeof navigator=="object"&&navigator||void 0,U4=Bh&&(!hu||["ReactNative","NativeScript","NS"].indexOf(hu.product)<0),H4=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),W4=Bh&&window.location.href||"http://localhost",G4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Bh,hasStandardBrowserEnv:U4,hasStandardBrowserWebWorkerEnv:H4,navigator:hu,origin:W4},Symbol.toStringTag,{value:"Module"})),St={...G4,...B4};function Y4(e,t){return Ho(e,new St.classes.URLSearchParams,{visitor:function(r,n,i,a){return St.isNode&&P.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function q4(e){return P.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function K4(e){const t={},r=Object.keys(e);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],t[a]=e[a];return t}function ov(e){function t(r,n,i,a){let l=r[a++];if(l==="__proto__")return!0;const o=Number.isFinite(+l),c=a>=r.length;return l=!l&&P.isArray(i)?i.length:l,c?(P.hasOwnProp(i,l)?i[l]=[i[l],n]:i[l]=n,!o):((!i[l]||!P.isObject(i[l]))&&(i[l]=[]),t(r,n,i[l],a)&&P.isArray(i[l])&&(i[l]=K4(i[l])),!o)}if(P.isFormData(e)&&P.isFunction(e.entries)){const r={};return P.forEachEntry(e,(n,i)=>{t(q4(n),i,r,0)}),r}return null}function Q4(e,t,r){if(P.isString(e))try{return(t||JSON.parse)(e),P.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const Uh={transitional:lv,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=P.isObject(t);if(a&&P.isHTMLForm(t)&&(t=new FormData(t)),P.isFormData(t))return i?JSON.stringify(ov(t)):t;if(P.isArrayBuffer(t)||P.isBuffer(t)||P.isStream(t)||P.isFile(t)||P.isBlob(t)||P.isReadableStream(t))return t;if(P.isArrayBufferView(t))return t.buffer;if(P.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Y4(t,this.formSerializer).toString();if((o=P.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Ho(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),Q4(t)):t}],transformResponse:[function(t){const r=this.transitional||Uh.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(P.isResponse(t)||P.isReadableStream(t))return t;if(t&&P.isString(t)&&(n&&!this.responseType||i)){const l=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(o){if(l)throw o.name==="SyntaxError"?ie.from(o,ie.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:St.classes.FormData,Blob:St.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};P.forEach(["delete","get","head","post","put","patch"],e=>{Uh.headers[e]={}});const Hh=Uh,Z4=P.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),X4=e=>{const t={};let r,n,i;return e&&e.split(`
`).forEach(function(l){i=l.indexOf(":"),r=l.substring(0,i).trim().toLowerCase(),n=l.substring(i+1).trim(),!(!r||t[r]&&Z4[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Nx=Symbol("internals");function gi(e){return e&&String(e).trim().toLowerCase()}function Cl(e){return e===!1||e==null?e:P.isArray(e)?e.map(Cl):String(e)}function J4(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const e3=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Oc(e,t,r,n,i){if(P.isFunction(n))return n.call(this,t,r);if(i&&(t=r),!!P.isString(t)){if(P.isString(n))return t.indexOf(n)!==-1;if(P.isRegExp(n))return n.test(t)}}function t3(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function s3(e,t){const r=P.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(i,a,l){return this[n].call(this,t,i,a,l)},configurable:!0})})}class Wo{constructor(t){t&&this.set(t)}set(t,r,n){const i=this;function a(o,c,d){const u=gi(c);if(!u)throw new Error("header name must be a non-empty string");const h=P.findKey(i,u);(!h||i[h]===void 0||d===!0||d===void 0&&i[h]!==!1)&&(i[h||c]=Cl(o))}const l=(o,c)=>P.forEach(o,(d,u)=>a(d,u,c));if(P.isPlainObject(t)||t instanceof this.constructor)l(t,r);else if(P.isString(t)&&(t=t.trim())&&!e3(t))l(X4(t),r);else if(P.isObject(t)&&P.isIterable(t)){let o={},c,d;for(const u of t){if(!P.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?P.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}l(o,r)}else t!=null&&a(r,t,n);return this}get(t,r){if(t=gi(t),t){const n=P.findKey(this,t);if(n){const i=this[n];if(!r)return i;if(r===!0)return J4(i);if(P.isFunction(r))return r.call(this,i,n);if(P.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=gi(t),t){const n=P.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||Oc(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let i=!1;function a(l){if(l=gi(l),l){const o=P.findKey(n,l);o&&(!r||Oc(n,n[o],o,r))&&(delete n[o],i=!0)}}return P.isArray(t)?t.forEach(a):a(t),i}clear(t){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!t||Oc(this,this[a],a,t,!0))&&(delete this[a],i=!0)}return i}normalize(t){const r=this,n={};return P.forEach(this,(i,a)=>{const l=P.findKey(n,a);if(l){r[l]=Cl(i),delete r[a];return}const o=t?t3(a):String(a).trim();o!==a&&delete r[a],r[o]=Cl(i),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return P.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=t&&P.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(i=>n.set(i)),n}static accessor(t){const n=(this[Nx]=this[Nx]={accessors:{}}).accessors,i=this.prototype;function a(l){const o=gi(l);n[o]||(s3(i,l),n[o]=!0)}return P.isArray(t)?t.forEach(a):a(t),this}}Wo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);P.reduceDescriptors(Wo.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});P.freezeMethods(Wo);const Ns=Wo;function zc(e,t){const r=this||Hh,n=t||r,i=Ns.from(n.headers);let a=n.data;return P.forEach(e,function(o){a=o.call(r,a,i.normalize(),t?t.status:void 0)}),i.normalize(),a}function cv(e){return!!(e&&e.__CANCEL__)}function si(e,t,r){ie.call(this,e??"canceled",ie.ERR_CANCELED,t,r),this.name="CanceledError"}P.inherits(si,ie,{__CANCEL__:!0});function dv(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new ie("Request failed with status code "+r.status,[ie.ERR_BAD_REQUEST,ie.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function r3(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function n3(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i=0,a=0,l;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[a];l||(l=d),r[i]=c,n[i]=d;let h=a,m=0;for(;h!==i;)m+=r[h++],h=h%e;if(i=(i+1)%e,i===a&&(a=(a+1)%e),d-l<t)return;const v=u&&d-u;return v?Math.round(m*1e3/v):void 0}}function i3(e,t){let r=0,n=1e3/t,i,a;const l=(d,u=Date.now())=>{r=u,i=null,a&&(clearTimeout(a),a=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-r;h>=n?l(d,u):(i=d,a||(a=setTimeout(()=>{a=null,l(i)},n-h)))},()=>i&&l(i)]}const co=(e,t,r=3)=>{let n=0;const i=n3(50,250);return i3(a=>{const l=a.loaded,o=a.lengthComputable?a.total:void 0,c=l-n,d=i(c),u=l<=o;n=l;const h={loaded:l,total:o,progress:o?l/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-l)/d:void 0,event:a,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},r)},Sx=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},kx=e=>(...t)=>P.asap(()=>e(...t)),a3=St.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,St.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(St.origin),St.navigator&&/(msie|trident)/i.test(St.navigator.userAgent)):()=>!0,l3=St.hasStandardBrowserEnv?{write(e,t,r,n,i,a){const l=[e+"="+encodeURIComponent(t)];P.isNumber(r)&&l.push("expires="+new Date(r).toGMTString()),P.isString(n)&&l.push("path="+n),P.isString(i)&&l.push("domain="+i),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function o3(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function c3(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function uv(e,t,r){let n=!o3(t);return e&&(n||r==!1)?c3(e,t):t}const Cx=e=>e instanceof Ns?{...e}:e;function an(e,t){t=t||{};const r={};function n(d,u,h,m){return P.isPlainObject(d)&&P.isPlainObject(u)?P.merge.call({caseless:m},d,u):P.isPlainObject(u)?P.merge({},u):P.isArray(u)?u.slice():u}function i(d,u,h,m){if(P.isUndefined(u)){if(!P.isUndefined(d))return n(void 0,d,h,m)}else return n(d,u,h,m)}function a(d,u){if(!P.isUndefined(u))return n(void 0,u)}function l(d,u){if(P.isUndefined(u)){if(!P.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function o(d,u,h){if(h in t)return n(d,u);if(h in e)return n(void 0,d)}const c={url:a,method:a,data:a,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:o,headers:(d,u,h)=>i(Cx(d),Cx(u),h,!0)};return P.forEach(Object.keys({...e,...t}),function(u){const h=c[u]||i,m=h(e[u],t[u],u);P.isUndefined(m)&&h!==o||(r[u]=m)}),r}const hv=e=>{const t=an({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:l,auth:o}=t;t.headers=l=Ns.from(l),t.url=av(uv(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let c;if(P.isFormData(r)){if(St.hasStandardBrowserEnv||St.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if((c=l.getContentType())!==!1){const[d,...u]=c?c.split(";").map(h=>h.trim()).filter(Boolean):[];l.setContentType([d||"multipart/form-data",...u].join("; "))}}if(St.hasStandardBrowserEnv&&(n&&P.isFunction(n)&&(n=n(t)),n||n!==!1&&a3(t.url))){const d=i&&a&&l3.read(a);d&&l.set(i,d)}return t},d3=typeof XMLHttpRequest<"u",u3=d3&&function(e){return new Promise(function(r,n){const i=hv(e);let a=i.data;const l=Ns.from(i.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=i,u,h,m,v,y;function b(){v&&v(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function f(){if(!x)return;const w=Ns.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),k={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:e,request:x};dv(function(C){r(C),b()},function(C){n(C),b()},k),x=null}"onloadend"in x?x.onloadend=f:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(f)},x.onabort=function(){x&&(n(new ie("Request aborted",ie.ECONNABORTED,e,x)),x=null)},x.onerror=function(){n(new ie("Network Error",ie.ERR_NETWORK,e,x)),x=null},x.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const k=i.transitional||lv;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),n(new ie(j,k.clarifyTimeoutError?ie.ETIMEDOUT:ie.ECONNABORTED,e,x)),x=null},a===void 0&&l.setContentType(null),"setRequestHeader"in x&&P.forEach(l.toJSON(),function(j,k){x.setRequestHeader(k,j)}),P.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),o&&o!=="json"&&(x.responseType=i.responseType),d&&([m,y]=co(d,!0),x.addEventListener("progress",m)),c&&x.upload&&([h,v]=co(c),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",v)),(i.cancelToken||i.signal)&&(u=w=>{x&&(n(!w||w.type?new si(null,e,x):w),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const p=r3(i.url);if(p&&St.protocols.indexOf(p)===-1){n(new ie("Unsupported protocol "+p+":",ie.ERR_BAD_REQUEST,e));return}x.send(a||null)})},h3=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,i;const a=function(d){if(!i){i=!0,o();const u=d instanceof Error?d:this.reason;n.abort(u instanceof ie?u:new si(u instanceof Error?u.message:u))}};let l=t&&setTimeout(()=>{l=null,a(new ie(`timeout ${t} of ms exceeded`,ie.ETIMEDOUT))},t);const o=()=>{e&&(l&&clearTimeout(l),l=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),e=null)};e.forEach(d=>d.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>P.asap(o),c}},m3=h3,f3=function*(e,t){let r=e.byteLength;if(!t||r<t){yield e;return}let n=0,i;for(;n<r;)i=n+t,yield e.slice(n,i),n=i},x3=async function*(e,t){for await(const r of p3(e))yield*f3(r,t)},p3=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Tx=(e,t,r,n)=>{const i=x3(e,t);let a=0,l,o=c=>{l||(l=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await i.next();if(d){o(),c.close();return}let h=u.byteLength;if(r){let m=a+=h;r(m)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),i.return()}},{highWaterMark:2})},Go=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",mv=Go&&typeof ReadableStream=="function",g3=Go&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),fv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},y3=mv&&fv(()=>{let e=!1;const t=new Request(St.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),_x=64*1024,mu=mv&&fv(()=>P.isReadableStream(new Response("").body)),uo={stream:mu&&(e=>e.body)};Go&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!uo[t]&&(uo[t]=P.isFunction(e[t])?r=>r[t]():(r,n)=>{throw new ie(`Response type '${t}' is not supported`,ie.ERR_NOT_SUPPORT,n)})})})(new Response);const v3=async e=>{if(e==null)return 0;if(P.isBlob(e))return e.size;if(P.isSpecCompliantForm(e))return(await new Request(St.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(P.isArrayBufferView(e)||P.isArrayBuffer(e))return e.byteLength;if(P.isURLSearchParams(e)&&(e=e+""),P.isString(e))return(await g3(e)).byteLength},w3=async(e,t)=>{const r=P.toFiniteNumber(e.getContentLength());return r??v3(t)},b3=Go&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:a,timeout:l,onDownloadProgress:o,onUploadProgress:c,responseType:d,headers:u,withCredentials:h="same-origin",fetchOptions:m}=hv(e);d=d?(d+"").toLowerCase():"text";let v=m3([i,a&&a.toAbortSignal()],l),y;const b=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let x;try{if(c&&y3&&r!=="get"&&r!=="head"&&(x=await w3(u,n))!==0){let k=new Request(t,{method:"POST",body:n,duplex:"half"}),S;if(P.isFormData(n)&&(S=k.headers.get("content-type"))&&u.setContentType(S),k.body){const[C,T]=Sx(x,co(kx(c)));n=Tx(k.body,_x,C,T)}}P.isString(h)||(h=h?"include":"omit");const f="credentials"in Request.prototype;y=new Request(t,{...m,signal:v,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:f?h:void 0});let p=await fetch(y,m);const w=mu&&(d==="stream"||d==="response");if(mu&&(o||w&&b)){const k={};["status","statusText","headers"].forEach(L=>{k[L]=p[L]});const S=P.toFiniteNumber(p.headers.get("content-length")),[C,T]=o&&Sx(S,co(kx(o),!0))||[];p=new Response(Tx(p.body,_x,C,()=>{T&&T(),b&&b()}),k)}d=d||"text";let j=await uo[P.findKey(uo,d)||"text"](p,e);return!w&&b&&b(),await new Promise((k,S)=>{dv(k,S,{data:j,headers:Ns.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:y})})}catch(f){throw b&&b(),f&&f.name==="TypeError"&&/Load failed|fetch/i.test(f.message)?Object.assign(new ie("Network Error",ie.ERR_NETWORK,e,y),{cause:f.cause||f}):ie.from(f,f&&f.code,e,y)}}),fu={http:L4,xhr:u3,fetch:b3};P.forEach(fu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Ex=e=>`- ${e}`,j3=e=>P.isFunction(e)||e===null||e===!1,xv={getAdapter:e=>{e=P.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let a=0;a<t;a++){r=e[a];let l;if(n=r,!j3(r)&&(n=fu[(l=String(r)).toLowerCase()],n===void 0))throw new ie(`Unknown adapter '${l}'`);if(n)break;i[l||"#"+a]=n}if(!n){const a=Object.entries(i).map(([o,c])=>`adapter ${o} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=t?a.length>1?`since :
`+a.map(Ex).join(`
`):" "+Ex(a[0]):"as no adapter specified";throw new ie("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n},adapters:fu};function Bc(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new si(null,e)}function Px(e){return Bc(e),e.headers=Ns.from(e.headers),e.data=zc.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),xv.getAdapter(e.adapter||Hh.adapter)(e).then(function(n){return Bc(e),n.data=zc.call(e,e.transformResponse,n),n.headers=Ns.from(n.headers),n},function(n){return cv(n)||(Bc(e),n&&n.response&&(n.response.data=zc.call(e,e.transformResponse,n.response),n.response.headers=Ns.from(n.response.headers))),Promise.reject(n)})}const pv="1.11.0",Yo={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Yo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Mx={};Yo.transitional=function(t,r,n){function i(a,l){return"[Axios v"+pv+"] Transitional option '"+a+"'"+l+(n?". "+n:"")}return(a,l,o)=>{if(t===!1)throw new ie(i(l," has been removed"+(r?" in "+r:"")),ie.ERR_DEPRECATED);return r&&!Mx[l]&&(Mx[l]=!0,console.warn(i(l," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(a,l,o):!0}};Yo.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function N3(e,t,r){if(typeof e!="object")throw new ie("options must be an object",ie.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const a=n[i],l=t[a];if(l){const o=e[a],c=o===void 0||l(o,a,e);if(c!==!0)throw new ie("option "+a+" must be "+c,ie.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ie("Unknown option "+a,ie.ERR_BAD_OPTION)}}const Tl={assertOptions:N3,validators:Yo},Es=Tl.validators;class ho{constructor(t){this.defaults=t||{},this.interceptors={request:new jx,response:new jx}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=an(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&Tl.assertOptions(n,{silentJSONParsing:Es.transitional(Es.boolean),forcedJSONParsing:Es.transitional(Es.boolean),clarifyTimeoutError:Es.transitional(Es.boolean)},!1),i!=null&&(P.isFunction(i)?r.paramsSerializer={serialize:i}:Tl.assertOptions(i,{encode:Es.function,serialize:Es.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Tl.assertOptions(r,{baseUrl:Es.spelling("baseURL"),withXsrfToken:Es.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let l=a&&P.merge(a.common,a[r.method]);a&&P.forEach(["delete","get","head","post","put","patch","common"],y=>{delete a[y]}),r.headers=Ns.concat(l,a);const o=[];let c=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(r)===!1||(c=c&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const d=[];this.interceptors.response.forEach(function(b){d.push(b.fulfilled,b.rejected)});let u,h=0,m;if(!c){const y=[Px.bind(this),void 0];for(y.unshift(...o),y.push(...d),m=y.length,u=Promise.resolve(r);h<m;)u=u.then(y[h++],y[h++]);return u}m=o.length;let v=r;for(h=0;h<m;){const y=o[h++],b=o[h++];try{v=y(v)}catch(x){b.call(this,x);break}}try{u=Px.call(this,v)}catch(y){return Promise.reject(y)}for(h=0,m=d.length;h<m;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=an(this.defaults,t);const r=uv(t.baseURL,t.url,t.allowAbsoluteUrls);return av(r,t.params,t.paramsSerializer)}}P.forEach(["delete","get","head","options"],function(t){ho.prototype[t]=function(r,n){return this.request(an(n||{},{method:t,url:r,data:(n||{}).data}))}});P.forEach(["post","put","patch"],function(t){function r(n){return function(a,l,o){return this.request(an(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:l}))}}ho.prototype[t]=r(),ho.prototype[t+"Form"]=r(!0)});const _l=ho;class Wh{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const l=new Promise(o=>{n.subscribe(o),a=o}).then(i);return l.cancel=function(){n.unsubscribe(a)},l},t(function(a,l,o){n.reason||(n.reason=new si(a,l,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Wh(function(i){t=i}),cancel:t}}}const S3=Wh;function k3(e){return function(r){return e.apply(null,r)}}function C3(e){return P.isObject(e)&&e.isAxiosError===!0}const xu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xu).forEach(([e,t])=>{xu[t]=e});const T3=xu;function gv(e){const t=new _l(e),r=qy(_l.prototype.request,t);return P.extend(r,_l.prototype,t,{allOwnKeys:!0}),P.extend(r,t,null,{allOwnKeys:!0}),r.create=function(i){return gv(an(e,i))},r}const et=gv(Hh);et.Axios=_l;et.CanceledError=si;et.CancelToken=S3;et.isCancel=cv;et.VERSION=pv;et.toFormData=Ho;et.AxiosError=ie;et.Cancel=et.CanceledError;et.all=function(t){return Promise.all(t)};et.spread=k3;et.isAxiosError=C3;et.mergeConfig=an;et.AxiosHeaders=Ns;et.formToJSON=e=>ov(P.isHTMLForm(e)?new FormData(e):e);et.getAdapter=xv.getAdapter;et.HttpStatusCode=T3;et.default=et;const yv=et,_3="7b28648bb27efe6ee3ce7c316c535d8b",Gh="https://api.themoviedb.org/3",qo="https://image.tmdb.org/t/p",U=yv.create({baseURL:Gh,params:{api_key:_3}});class Ax extends Error{constructor(r,n,i,a){super(r);ts(this,"status");ts(this,"code");ts(this,"details");this.name="ControlledApiError",this.status=n,this.code=i,this.details=a}}const vv=8e3;U.defaults.timeout=vv;U.defaults.headers.common={...U.defaults.headers.common||{},Accept:"application/json"};const E3=e=>{if(!e||typeof e!="string")return"/";try{const t=new URL(e,Gh);return`${"/"+t.pathname.split("/").filter(Boolean).filter(a=>a!=="..").join("/")}${t.search||""}`}catch{let t=e.trim();t=t.replace(/^https?:\/\/[^/]+/i,"");const r=t.split("?"),n=r[0].split("/").filter(a=>a!=="..").join("/"),i=r[1]?`?${r[1]}`:"";return n.startsWith("/")?`${n}${i}`:`/${n}${i}`}},P3=e=>{if(!e||typeof e!="object")return{};const t={},r=/^[a-zA-Z0-9_.-]+$/;for(const n of Object.keys(e)){if(!r.test(n))continue;const i=e[n];if(i!=null)if(typeof i=="string"){const a=i.trim().slice(0,500);t[n]=a}else if(typeof i=="number"){if(!Number.isFinite(i))continue;t[n]=i}else if(typeof i=="boolean")t[n]=i;else if(Array.isArray(i)){const a=i.map(l=>typeof l=="string"?l.trim().slice(0,200):typeof l=="number"&&Number.isFinite(l)?String(l):"").filter(Boolean);a.length&&(t[n]=a.join(","))}else continue}return t},M3=e=>{var r;if(!e)return!1;if(e.code==="ECONNABORTED")return!0;const t=(r=e==null?void 0:e.response)==null?void 0:r.status;return!t||t>=500&&t<600};U.get=async(e,t={})=>{var o;const r=E3(e),n=P3(t==null?void 0:t.params),i={...U.defaults.params||{},...n},a={...t,params:i,timeout:(t==null?void 0:t.timeout)||vv,headers:{...U.defaults.headers.common||{},...(t==null?void 0:t.headers)||{}}},l=2;for(let c=1;c<=l;c++)try{const d=`${Gh}${r}`;return await yv.get(d,a)}catch(d){if(c<l&&M3(d)){await De(200*c);continue}const u=(o=d==null?void 0:d.response)==null?void 0:o.status,h=u?`TMDB API error (status ${u})`:"TMDB network error",m=new Ax(h,u,d==null?void 0:d.code,void 0);throw m.original={message:d==null?void 0:d.message},m}throw new Ax("Unknown TMDB request failure")};let nl=null,rs={collections:[],lastFetched:0,discoveryProgress:{moviesScanned:0,collectionsFound:0,currentStep:"Not started"}};const A3=2*60*60*1e3,wv=100,De=e=>new Promise(t=>setTimeout(t,e)),Yh=()=>{rs={collections:[],lastFetched:0,discoveryProgress:{moviesScanned:0,collectionsFound:0,currentStep:"Cache cleared"}},console.log("Collections cache cleared")},R3=e=>Date.now()-e<A3,L3=async()=>{if(nl)return nl;try{const t=(await U.get("/configuration")).data.images;return nl=t,t}catch(e){console.error("Error fetching image configuration:",e);const t={base_url:"http://image.tmdb.org/t/p/",secure_base_url:"https://image.tmdb.org/t/p/",backdrop_sizes:["w300","w780","w1280","original"],logo_sizes:["w45","w92","w154","w185","w300","w500","original"],poster_sizes:["w92","w154","w185","w342","w500","w780","original"],profile_sizes:["w45","w185","h632","original"],still_sizes:["w92","w185","w300","original"]};return nl=t,t}},ze=(e,t="w500")=>e?`${qo}/${t}${e}`:"",be=(e,t="w500")=>e?`${qo}/${t}${e}`:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjkwMCIgdmlld0JveD0iMCAwIDYwMCA5MDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI2MDAiIGhlaWdodD0iOTAwIiBmaWxsPSIjMTQxNDE0Ii8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjU2MCIgaGVpZ2h0PSI4NjAiIHJ4PSIxMiIgZmlsbD0iIzJBMkEyQSIgc3Ryb2tlPSIjMzc0MTUxIiBzdHJva2Utd2lkdGg9IjIiLz4KPHN2ZyB4PSIyNzAiIHk9IjQwMCIgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiPgo8cGF0aCBkPSJNMTQgMlYyMEwxOSAxNVYxMUwxNCA2VjJaIiBmaWxsPSIjRTUwOTE0Ii8+CjxwYXRoIGQ9Ik0xMyAySDVDMy45IDIgMyAyLjkgMyA0VjIwQzMgMjEuMSAzLjkgMjIgNSAyMkgxM1YyWiIgZmlsbD0iI0U1MDkxNCIvPgo8L3N2Zz4KPHRleHQgeD0iMzAwIiB5PSI1MDAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZmlsbD0iIzlDQTNBRiIgdGV4dC1hbmNob3I9Im1pZGRsZSI+Tm8gUG9zdGVyPC90ZXh0Pgo8L3N2Zz4=",ri=(e,t="w1280")=>e?`${qo}/${t}${e}`:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTI4MCIgaGVpZ2h0PSI3MjAiIHZpZXdCb3g9IjAgMCAxMjgwIDcyMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjEyODAiIGhlaWdodD0iNzIwIiBmaWxsPSIjMTQxNDE0Ii8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjEyNDAiIGhlaWdodD0iNjgwIiByeD0iMTIiIGZpbGw9IiMyQTJBMkEiIHN0cm9rZT0iIzM3NDE1MSIgc3Ryb2tlLXdpZHRoPSIyIi8+CjxzdmcgeD0iNjEwIiB5PSIzMDAiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIj4KPHN0eWxlPi5jbHMtMXtmaWxsOiNFNTA5MTQ7fTwvc3R5bGU+CjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTggNVYxOUwxOSAxMkw4IDVaIi8+Cjwvc3ZnPgo8dGV4dCB4PSI2NDAiIHk9IjQwMCIgZm9udC1mYW1pbHk9IkFyaWFsLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE4IiBmaWxsPSIjOUNBM0FGIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5ObyBCYWNrZHJvcDwvdGV4dD4KPC9zdmc+",bv=(e,t="w300")=>e?`${qo}/${t}${e}`:"",Sr=async(e=1)=>(await U.get("/trending/movie/week",{params:{page:e}})).data,Ea=async(e=1)=>(await U.get("/movie/popular",{params:{page:e}})).data,Ko=async(e=1)=>(await U.get("/movie/top_rated",{params:{page:e}})).data,Pa=async(e=1)=>(await U.get("/movie/now_playing",{params:{page:e}})).data,Qo=async(e=1)=>(await U.get("/movie/upcoming",{params:{page:e}})).data,nt=async e=>{const r=(await U.get(`/movie/${e}`)).data,{logoCache:n}=await oa(()=>import("./logoCache-60c269ae.js"),[]),i=n.getLogo(e,"movie");if(i)return r.logo_path=i.logoPath,r;try{const l=(await U.get(`/movie/${e}/images`)).data.logos;if(l&&l.length>0){const o=l.find(c=>c.iso_639_1==="en"||c.iso_639_1===null);r.logo_path=o?o.file_path:l[0].file_path,n.setLogo(e,"movie",r.logo_path)}else n.setLogo(e,"movie",null)}catch(a){console.warn(`Failed to fetch logos for movie ${e}:`,a),n.setLogo(e,"movie",null,!0)}return r},jv=async e=>(await U.get(`/movie/${e}/external_ids`)).data,Ma=async e=>(await U.get(`/movie/${e}/videos`)).data.results,mo=async e=>(await U.get(`/movie/${e}/credits`)).data,qh=async(e,t=1)=>(await U.get(`/movie/${e}/similar`,{params:{page:t}})).data,Nv=async(e,t=1)=>{try{const[r,n,i]=await Promise.all([U.get(`/movie/${e.id}/similar`,{params:{page:t}}),U.get(`/movie/${e.id}/recommendations`,{params:{page:t}}),U.get(`/movie/${e.id}/credits`)]),a=r.data.results||[],l=n.data.results||[],o=i.data;let c=[];if(o!=null&&o.crew){const b=o.crew.find(x=>x.job==="Director");if(b)try{c=(await fo(b.id)).cast.filter(f=>f.id!==e.id).sort((f,p)=>(p.popularity||0)-(f.popularity||0)).slice(0,5)}catch(x){console.error("Error fetching director movies:",x)}}let d=[];if(e.genres&&e.genres.length>0)try{const b=e.genres[0];d=(await U.get("/discover/movie",{params:{with_genres:b.id,"vote_average.gte":Math.max(0,(e.vote_average||0)-1),"vote_average.lte":(e.vote_average||0)+1,sort_by:"popularity.desc",page:1}})).data.results.filter(f=>f.id!==e.id).slice(0,8)}catch(b){console.error("Error fetching genre movies:",b)}let u=[];if(e.production_companies&&e.production_companies.length>0)try{const b=e.production_companies[0];u=(await U.get("/discover/movie",{params:{with_companies:b.id,sort_by:"popularity.desc",page:1}})).data.results.filter(f=>f.id!==e.id).slice(0,6)}catch(b){console.error("Error fetching company movies:",b)}let h=[];if(o!=null&&o.cast){const b=o.cast.slice(0,3);for(const x of b)try{const p=(await fo(x.id)).cast.filter(w=>w.id!==e.id).sort((w,j)=>(j.popularity||0)-(w.popularity||0)).slice(0,3);h.push(...p)}catch(f){console.error("Error fetching cast movies:",f)}}return[...a,...l,...c,...d,...u,...h].filter((b,x,f)=>x===f.findIndex(p=>p.id===b.id)).map(b=>{var S;let x=0;a.find(C=>C.id===b.id)&&(x+=50),l.find(C=>C.id===b.id)&&(x+=40);const f=((S=e.genres)==null?void 0:S.filter(C=>{var T;return(T=b.genres)==null?void 0:T.some(L=>L.id===C.id)}).length)||0;x+=f*10;const p=Math.abs((e.vote_average||0)-(b.vote_average||0));x+=Math.max(0,20-p*2);const w=new Date(e.release_date).getFullYear(),j=new Date(b.release_date).getFullYear(),k=Math.abs(w-j);return x+=Math.max(0,15-k),x+=Math.min(20,(b.popularity||0)/10),{...b,relevanceScore:x}}).sort((b,x)=>(x.relevanceScore||0)-(b.relevanceScore||0)).slice(0,20).map(({relevanceScore:b,...x})=>x)}catch(r){return console.error("Error fetching enhanced similar movies:",r),(await U.get(`/movie/${e.id}/similar`,{params:{page:t}})).data.results||[]}},Sv=async e=>{try{const t=e.slice(0,3),r=[];for(const n of t)try{const i=await U.get("/search/movie",{params:{query:n,page:1,sort_by:"popularity.desc"}});r.push(...i.data.results.slice(0,5))}catch(i){console.error(`Error searching for keyword "${n}":`,i)}return r.filter((n,i,a)=>i===a.findIndex(l=>l.id===n.id))}catch(t){return console.error("Error fetching movies by keywords:",t),[]}},pu=async(e,t=1)=>(await U.get(`/movie/${e}/recommendations`,{params:{page:t}})).data,kv=async e=>(await U.get(`/person/${e}`)).data,fo=async e=>(await U.get(`/person/${e}/movie_credits`)).data,da=async(e=1)=>(await U.get("/trending/tv/week",{params:{page:e}})).data,Kh=async(e=1)=>(await U.get("/tv/popular",{params:{page:e}})).data,Cv=async(e=1)=>(await U.get("/tv/top_rated",{params:{page:e}})).data,Qh=async(e=1)=>(await U.get("/tv/airing_today",{params:{page:e}})).data,Zh=async e=>{const r=(await U.get(`/tv/${e}`)).data,{logoCache:n}=await oa(()=>import("./logoCache-60c269ae.js"),[]),i=n.getLogo(e,"tv");if(i)return r.logo_path=i.logoPath,r;try{const l=(await U.get(`/tv/${e}/images`)).data.logos;if(l&&l.length>0){const o=l.find(c=>c.iso_639_1==="en"||c.iso_639_1===null);r.logo_path=o?o.file_path:l[0].file_path,n.setLogo(e,"tv",r.logo_path)}else n.setLogo(e,"tv",null)}catch(a){console.warn(`Failed to fetch logos for TV show ${e}:`,a),n.setLogo(e,"tv",null,!0)}return r},Tv=async e=>(await U.get(`/tv/${e}/external_ids`)).data,Zo=async e=>(await U.get(`/tv/${e}/videos`)).data.results,_v=async e=>(await U.get(`/tv/${e}/credits`)).data,Xh=async(e,t=1)=>(await U.get(`/tv/${e}/similar`,{params:{page:t}})).data,El=async(e,t=1)=>(await U.get(`/tv/${e}/recommendations`,{params:{page:t}})).data,Ev=async(e,t=1)=>{try{const[r,n]=await Promise.all([U.get(`/tv/${e.id}/similar`,{params:{page:t}}),U.get(`/tv/${e.id}/recommendations`,{params:{page:t}})]),i=r.data.results||[],a=n.data.results||[],o=[...i,...a].filter((c,d,u)=>d===u.findIndex(h=>h.id===c.id));if(e.genres&&e.genres.length>0){const c=e.genres[0];try{((await U.get("/discover/tv",{params:{with_genres:c.id,sort_by:"popularity.desc",page:1,"vote_count.gte":100}})).data.results||[]).forEach(h=>{o.find(m=>m.id===h.id)||o.push(h)})}catch(d){console.error("Error fetching genre-based shows:",d)}}return o.filter(c=>c.id!==e.id).sort((c,d)=>{var m,v;const u=(m=e.genres)!=null&&m.some(y=>{var b;return(b=c.genre_ids)==null?void 0:b.includes(y.id)})?1:0,h=(v=e.genres)!=null&&v.some(y=>{var b;return(b=d.genre_ids)==null?void 0:b.includes(y.id)})?1:0;return u!==h?h-u:d.vote_count-c.vote_count}).slice(0,20)}catch(r){return console.error("Error fetching enhanced similar TV shows:",r),(await U.get(`/tv/${e.id}/similar`,{params:{page:t}})).data.results||[]}},Pv=async e=>{try{const r=e.slice(0,3).map(l=>U.get("/search/tv",{params:{query:l,page:1,"vote_count.gte":50}}));return(await Promise.all(r)).flatMap(l=>l.data.results||[]).filter((l,o,c)=>o===c.findIndex(d=>d.id===l.id)).sort((l,o)=>o.vote_count-l.vote_count).slice(0,15)}catch(t){return console.error("Error fetching TV shows by keywords:",t),[]}},Jh=async e=>(await U.get(`/tv/${e}`)).data.seasons,xo=async(e,t)=>(await U.get(`/tv/${e}/season/${t}`)).data,D3=async(e,t,r)=>(await U.get(`/tv/${e}/season/${t}/episode/${r}`)).data,Aa=async()=>(await U.get("/genre/movie/list")).data.genres,Xo=async()=>(await U.get("/genre/tv/list")).data.genres,em=async(e,t=1)=>(await U.get("/search/multi",{params:{query:e,page:t}})).data,Jo=async(e,t=1)=>(await U.get("/discover/movie",{params:{with_genres:e,page:t}})).data,tm=async(e,t=1)=>(await U.get("/discover/tv",{params:{with_genres:e,page:t}})).data,ht=async e=>{var t,r;try{const i=(await U.get(`/collection/${e}`)).data,a=await Promise.all(i.parts.map(async u=>{try{return await nt(u.id)||u}catch{return u}})),l=a.reduce((u,h)=>u+(h.runtime||0),0),o=a.sort((u,h)=>new Date(u.release_date||"").getTime()-new Date(h.release_date||"").getTime()),c=((t=o[0])==null?void 0:t.release_date)||"",d=((r=o[o.length-1])==null?void 0:r.release_date)||"";return{...i,parts:o,film_count:i.parts.length,total_runtime:l,first_release_date:c,latest_release_date:d,type:eS(i.parts.length),status:tS(i.parts),genre_categories:sS(o),studio:rS(o)}}catch(n){return console.error(`Error fetching collection ${e}:`,n),null}},ec=async(e,t=1)=>{try{return(await U.get("/search/collection",{params:{query:e,page:t}})).data}catch(r){return console.error("Error searching collections:",r),null}},un=async(e=200,t=!1,r)=>{var n;if(!t&&R3(rs.lastFetched)&&rs.collections.length>0)return console.log(` Returning ${rs.collections.length} cached collections (fast load)`),r&&r({scanned:rs.collections.length,found:rs.collections.length,step:` Loaded ${rs.collections.length} cached collections`}),rs.collections.slice(0,e);t&&Yh();try{console.log(" Starting lightning-fast collection discovery from TMDB...");const i=new Map;let a=0;const l=u=>{rs.discoveryProgress={moviesScanned:a,collectionsFound:i.size,currentStep:u},r&&r({scanned:a,found:i.size,step:u})},o=new Promise((u,h)=>{setTimeout(()=>h(new Error("Discovery timeout - using fallback")),45e3)}),c=async()=>{l(" Quick scan of popular movies..."),await I3(i,l,u=>{a=u}),l(" Finding major franchises..."),await F3(i,l),l(" Sampling top genres..."),await $3(i,l)};await Promise.race([c(),o]);const d=Array.from(i.values()).filter(u=>u&&u.film_count>=2).sort((u,h)=>h.film_count-u.film_count);return rs.collections=d,rs.lastFetched=Date.now(),l(` Lightning discovery complete! Found ${d.length} collections`),console.log(` Successfully discovered ${d.length} collections in record time!`),d.slice(0,e)}catch(i){return console.error(" Error in collection discovery:",i),(n=i.message)!=null&&n.includes("timeout")?(console.log(" Discovery timed out, using backup method for reliability"),r&&r({scanned:0,found:0,step:" Switching to backup discovery method..."})):r&&r({scanned:0,found:0,step:" Discovery failed, trying backup method..."}),await V3(e,r)}},I3=async(e,t,r)=>{var a;const n=[{name:"Popular Movies",endpoint:"/movie/popular"},{name:"Trending Movies",endpoint:"/trending/movie/week"}];let i=0;for(const{name:l,endpoint:o}of n){t(`Scanning ${l}...`);try{const d=((a=(await U.get(o,{params:{page:1}})).data.results)==null?void 0:a.slice(0,10))||[];for(const u of d)try{const h=await nt(u.id);if(i++,r(i),h!=null&&h.belongs_to_collection&&!e.has(h.belongs_to_collection.id)){const m=await ht(h.belongs_to_collection.id);m&&m.film_count>=2&&(e.set(m.id,m),console.log(` Found collection: ${m.name} (${m.film_count} films)`))}await De(wv)}catch{}await De(50)}catch(c){console.warn(`Error scanning ${l}:`,c)}}},F3=async(e,t)=>{const r=["Marvel","Star Wars","Harry Potter","Fast Furious","Batman","Lord of the Rings","Jurassic","Toy Story","Shrek","Matrix"];for(const n of r){t(`Searching for ${n}...`);try{const i=await ec(n);if(i!=null&&i.results)for(const a of i.results.slice(0,1)){if(!e.has(a.id)){const l=await ht(a.id);l&&l.film_count>=2&&(e.set(a.id,l),console.log(` Found franchise: ${l.name}`))}await De(50)}await De(30)}catch(i){console.warn(`Search failed for ${n}:`,i)}}},$3=async(e,t)=>{var n;const r=[{id:28,name:"Action"},{id:16,name:"Animation"},{id:14,name:"Fantasy"},{id:27,name:"Horror"}];for(const i of r){t(`Sampling ${i.name} collections...`);try{const l=((n=(await U.get("/discover/movie",{params:{with_genres:i.id,sort_by:"popularity.desc",page:1}})).data.results)==null?void 0:n.slice(0,5))||[];for(const o of l)try{const c=await nt(o.id);if(c!=null&&c.belongs_to_collection&&!e.has(c.belongs_to_collection.id)){const d=await ht(c.belongs_to_collection.id);d&&d.film_count>=2&&(e.set(d.id,d),console.log(` Found ${i.name} collection: ${d.name}`))}await De(50)}catch{}await De(30)}catch(a){console.warn(`Error sampling ${i.name} collections:`,a)}}},V3=async(e,t)=>{var n;const r=[];try{t&&t({scanned:0,found:0,step:"Using backup discovery method..."});const a=((n=(await U.get("/movie/popular")).data.results)==null?void 0:n.slice(0,15))||[];let l=0;for(const o of a)try{const c=await nt(o.id);if(l++,c!=null&&c.belongs_to_collection){const d=await ht(c.belongs_to_collection.id);d&&d.film_count>=2&&(r.find(h=>h.id===d.id)||(r.push(d),console.log(` Basic discovery found: ${d.name}`)))}if(t&&t({scanned:l,found:r.length,step:`Found ${r.length} collections...`}),await De(50),r.length>=e)break}catch{}return t&&t({scanned:l,found:r.length,step:` Backup method found ${r.length} collections`}),r.sort((o,c)=>c.film_count-o.film_count)}catch(i){return console.error(" Even basic discovery failed:",i),[]}},O3=()=>rs.discoveryProgress,Qe={collections:[],currentPage:0,totalPages:9999,lastFetched:0,genreIndex:0,moviePageIndex:1,searchTermIndex:0},Mv=()=>{Qe.collections=[],Qe.currentPage=0,Qe.lastFetched=0,Qe.genreIndex=0,Qe.moviePageIndex=1,Qe.searchTermIndex=0,console.log(" Pagination cache cleared")},gu=async(e=20)=>{try{console.log(` Loading next batch of ${e} collections...`);const t=new Map;let r=0;const n=12;for(;t.size<e&&r<n;){r++;const l=t.size;r===1?(await z3(t,Qe.moviePageIndex,8),Qe.moviePageIndex++):r===2?(await B3(t,Qe.genreIndex,5),Qe.genreIndex++):r===3?await U3(t,5):r===4?(await H3(t,Qe.searchTermIndex,5),Qe.searchTermIndex++):r===5?await W3(t,8):r===6?await G3(t,Math.floor(Qe.moviePageIndex/2)+1,6):r===7?await Rx(t,"week",6):r===8?await Rx(t,"day",6):r===9?await Y3(t,4):r===10?await q3(t,4):r===11?await K3(t,4):r===12&&await Q3(t,8),t.size===l&&console.log(` Method ${r} returned no new collections, trying next method...`)}const i=Array.from(t.values()).filter(l=>!Qe.collections.some(o=>o.id===l.id)).sort((l,o)=>o.film_count-l.film_count).slice(0,e);Qe.collections.push(...i),Qe.currentPage++,Qe.lastFetched=Date.now(),console.log(` Loaded ${i.length} new collections (total cached: ${Qe.collections.length})`);const a=i.length>0||Qe.currentPage<100;return{collections:i,hasMore:a}}catch(t){return console.error(" Error loading next batch:",t),{collections:[],hasMore:!0}}},z3=async(e,t,r)=>{var n;try{const a=((n=(await U.get("/movie/popular",{params:{page:t}})).data.results)==null?void 0:n.slice(0,r))||[];for(const l of a)try{const o=await nt(l.id);if(o!=null&&o.belongs_to_collection&&!e.has(o.belongs_to_collection.id)){const c=await ht(o.belongs_to_collection.id);c&&c.film_count>=2&&e.set(c.id,c)}await De(50)}catch{}}catch(i){console.warn(`Error discovering from popular movies page ${t}:`,i)}},B3=async(e,t,r)=>{var a;const n=[{id:28,name:"Action"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:18,name:"Drama"},{id:14,name:"Fantasy"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:53,name:"Thriller"},{id:37,name:"Western"}],i=n[t%n.length];try{const o=((a=(await U.get("/discover/movie",{params:{with_genres:i.id,sort_by:"popularity.desc",page:Math.floor(t/n.length)+1}})).data.results)==null?void 0:a.slice(0,r))||[];for(const c of o)try{const d=await nt(c.id);if(d!=null&&d.belongs_to_collection&&!e.has(d.belongs_to_collection.id)){const u=await ht(d.belongs_to_collection.id);u&&u.film_count>=2&&e.set(u.id,u)}await De(50)}catch{}}catch(l){console.warn(`Error discovering from ${i.name} genre:`,l)}},U3=async(e,t)=>{var i;const n=new Date().getFullYear()-Math.floor(Math.random()*30);try{const l=((i=(await U.get("/discover/movie",{params:{primary_release_year:n,sort_by:"popularity.desc",page:1}})).data.results)==null?void 0:i.slice(0,t))||[];for(const o of l)try{const c=await nt(o.id);if(c!=null&&c.belongs_to_collection&&!e.has(c.belongs_to_collection.id)){const d=await ht(c.belongs_to_collection.id);d&&d.film_count>=2&&e.set(d.id,d)}await De(50)}catch{}}catch(a){console.warn(`Error discovering from year ${n}:`,a)}},H3=async(e,t,r)=>{const n=["collection","saga","trilogy","series","franchise","universe","chronicles","adventures","legend","story","tales","journey","war","battle","hero","super","magic","dragon","space","world","kingdom","empire","destiny","revenge","return"],i=n[t%n.length];try{const a=await ec(i);if(a!=null&&a.results){const l=a.results.slice(0,r);for(const o of l){if(!e.has(o.id)){const c=await ht(o.id);c&&c.film_count>=2&&e.set(o.id,c)}await De(50)}}}catch(a){console.warn(`Error searching for "${i}":`,a)}},W3=async(e,t)=>{var i;const r=["/movie/now_playing","/movie/upcoming"],n=r[Math.floor(Math.random()*r.length)];try{const l=((i=(await U.get(n)).data.results)==null?void 0:i.slice(0,t))||[];for(const o of l)try{const c=await nt(o.id);if(c!=null&&c.belongs_to_collection&&!e.has(c.belongs_to_collection.id)){const d=await ht(c.belongs_to_collection.id);d&&d.film_count>=2&&e.set(d.id,d)}await De(50)}catch{}}catch(a){console.warn(`Error discovering from ${n}:`,a)}},G3=async(e,t,r)=>{var n;try{const a=((n=(await U.get("/movie/top_rated",{params:{page:t}})).data.results)==null?void 0:n.slice(0,r))||[];for(const l of a)try{const o=await nt(l.id);if(o!=null&&o.belongs_to_collection&&!e.has(o.belongs_to_collection.id)){const c=await ht(o.belongs_to_collection.id);c&&c.film_count>=2&&e.set(c.id,c)}await De(50)}catch{}}catch(i){console.warn(`Error discovering from top rated movies page ${t}:`,i)}},Rx=async(e,t,r)=>{var n;try{const a=((n=(await U.get(`/trending/movie/${t}`)).data.results)==null?void 0:n.slice(0,r))||[];for(const l of a)try{const o=await nt(l.id);if(o!=null&&o.belongs_to_collection&&!e.has(o.belongs_to_collection.id)){const c=await ht(o.belongs_to_collection.id);c&&c.film_count>=2&&e.set(c.id,c)}await De(50)}catch{}}catch(i){console.warn(`Error discovering from trending movies (${t}):`,i)}},Y3=async(e,t)=>{var r,n;try{const a=((r=(await U.get("/person/popular")).data.results)==null?void 0:r.slice(0,t))||[];for(const l of a)try{const c=((n=(await U.get(`/person/${l.id}/movie_credits`)).data.cast)==null?void 0:n.slice(0,5))||[];for(const d of c)try{const u=await nt(d.id);if(u!=null&&u.belongs_to_collection&&!e.has(u.belongs_to_collection.id)){const h=await ht(u.belongs_to_collection.id);h&&h.film_count>=2&&e.set(h.id,h)}await De(40)}catch{}await De(100)}catch{}}catch(i){console.warn("Error discovering from popular actors:",i)}},q3=async(e,t)=>{var i;const n=[1896,138,1032,1327,525,4027,2710,10987,7879,488,4945,1224].slice(0,t);for(const a of n)try{const o=((i=(await U.get(`/person/${a}/movie_credits`)).data.crew)==null?void 0:i.filter(c=>c.job==="Director").slice(0,4))||[];for(const c of o)try{const d=await nt(c.id);if(d!=null&&d.belongs_to_collection&&!e.has(d.belongs_to_collection.id)){const u=await ht(d.belongs_to_collection.id);u&&u.film_count>=2&&e.set(u.id,u)}await De(40)}catch{}await De(100)}catch{}},K3=async(e,t)=>{var i;const n=[420,3,2,174,33,1632,25,4,5,7,1429,436].slice(0,t);for(const a of n)try{const o=((i=(await U.get("/discover/movie",{params:{with_companies:a,sort_by:"popularity.desc",page:1}})).data.results)==null?void 0:i.slice(0,3))||[];for(const c of o)try{const d=await nt(c.id);if(d!=null&&d.belongs_to_collection&&!e.has(d.belongs_to_collection.id)){const u=await ht(d.belongs_to_collection.id);u&&u.film_count>=2&&e.set(u.id,u)}await De(40)}catch{}await De(80)}catch{}},Q3=async(e,t)=>{const r=[async()=>{var a;return((a=(await U.get("/discover/movie",{params:{sort_by:"revenue.desc","primary_release_date.gte":"1980-01-01",page:Math.floor(Math.random()*10)+1}})).data.results)==null?void 0:a.slice(0,t))||[]},async()=>{var a;return((a=(await U.get("/discover/movie",{params:{sort_by:"vote_count.desc","primary_release_date.gte":"1970-01-01",page:Math.floor(Math.random()*20)+1}})).data.results)==null?void 0:a.slice(0,t))||[]},async()=>{var o;const i=[51540,158431,162846,180547,209714],a=i[Math.floor(Math.random()*i.length)];return((o=(await U.get("/discover/movie",{params:{with_keywords:a,sort_by:"popularity.desc",page:Math.floor(Math.random()*5)+1}})).data.results)==null?void 0:o.slice(0,t))||[]}],n=r[Math.floor(Math.random()*r.length)];try{const i=await n();for(const a of i)try{const l=await nt(a.id);if(l!=null&&l.belongs_to_collection&&!e.has(l.belongs_to_collection.id)){const o=await ht(l.belongs_to_collection.id);o&&o.film_count>=2&&e.set(o.id,o)}await De(50)}catch{}}catch(i){console.warn("Error in random deep discovery:",i)}},Av=()=>Qe.collections,Z3=async()=>await un(50),Rv=async e=>{const t=await un();switch(e){case"popular":return t.filter(r=>["Marvel","Star Wars","Harry Potter","Fast","Bond","Batman","Spider"].some(n=>r.name.toLowerCase().includes(n.toLowerCase()))).slice(0,10);case"complete":return t.filter(r=>r.status==="complete").slice(0,10);case"trilogies":return t.filter(r=>r.type==="trilogy").slice(0,10);case"extended":return t.filter(r=>r.type==="extended_series"&&r.film_count>=5).slice(0,10);case"superhero":return t.filter(r=>["Marvel","Batman","Superman","Spider","X-Men","Wonder Woman","Avengers"].some(n=>r.name.toLowerCase().includes(n.toLowerCase()))).slice(0,10);case"action":return t.filter(r=>r.genre_categories.includes("Action")).slice(0,10);default:return t.slice(0,10)}},X3=async()=>{const e=await un(),t=new Date().getFullYear();return e.filter(r=>Math.max(...r.parts.map(i=>new Date(i.release_date||"").getFullYear()))>=t-2).slice(0,20)},Lv=async(e,t={})=>{if(!e.trim())return[];try{const r=await un(),n=e.toLowerCase().split(" ").filter(l=>l.length>1);let i=r.filter(l=>{const o=[l.name,l.overview,...l.genre_categories,l.type,l.status].join(" ").toLowerCase(),c=n.some(m=>o.includes(m)),d=l.parts.some(m=>{const v=[m.title,m.overview||""].join(" ").toLowerCase();return n.some(y=>v.includes(y))}),u=n.some(m=>["superhero","action","adventure","comedy","horror","thriller","animation","family","fantasy","sci-fi","crime","drama","marvel","dc","disney","pixar","sequel","prequel","trilogy","universe","saga","series","franchise","collection"].some(y=>y.includes(m)||m.includes(y))),h=n.some(m=>["batman","superman","spider-man","iron man","captain america","thor","hulk","wolverine","deadpool","wonder woman","bond","bourne","potter","gandalf","frodo","vader","luke","indiana jones","terminator","alien","predator","godzilla"].some(y=>y.includes(m)||m.includes(y)||l.name.toLowerCase().includes(y)));return c||d||u||h});return t.minFilms!==void 0&&(i=i.filter(l=>l.film_count>=t.minFilms)),t.maxFilms!==void 0&&(i=i.filter(l=>l.film_count<=t.maxFilms)),t.genres&&t.genres.length>0&&(i=i.filter(l=>t.genres.some(o=>l.genre_categories.includes(o)))),t.status&&t.status.length>0&&(i=i.filter(l=>t.status.includes(l.status))),t.type&&t.type.length>0&&(i=i.filter(l=>t.type.includes(l.type))),i.map(l=>{let o=0;const c=e.toLowerCase(),d=l.name.toLowerCase();return d===c?o+=100:d.startsWith(c)?o+=50:d.includes(c)&&(o+=25),o+=Math.min(l.film_count*2,20),l.genre_categories.some(u=>u.toLowerCase().includes(c))&&(o+=15),{collection:l,score:o}}).sort((l,o)=>o.score-l.score).map(l=>l.collection)}catch(r){return console.error("Error in comprehensive search:",r),[]}},Dv=async e=>{if(!e.trim())return[];try{console.log(` Direct TMDB search for: "${e}"`);const t=await ec(e);if(!(t!=null&&t.results)||t.results.length===0)return[];const r=[];for(const n of t.results.slice(0,10))try{const i=await ht(n.id);i&&i.film_count>=2&&r.push(i),await De(wv)}catch(i){console.warn(`Failed to get details for collection ${n.id}:`,i)}return console.log(` Direct search found ${r.length} collections`),r}catch(t){return console.error("Error in direct TMDB search:",t),[]}},J3=async e=>{if(!e.trim())return[];try{const t=await Lv(e);if(t.length>=5)return console.log(` Using ${t.length} local search results`),t;console.log(" Enhancing with direct TMDB search...");const r=await Dv(e),n=new Map;t.forEach(a=>{n.set(a.id,a)}),r.forEach(a=>{n.has(a.id)||n.set(a.id,a)});const i=Array.from(n.values());return console.log(` Hybrid search returned ${i.length} total results`),i}catch(t){return console.error("Error in hybrid search:",t),[]}},Iv=async()=>{const e=await un(),t=e.reduce((l,o)=>l+o.film_count,0),r=new Map,n=new Map;e.forEach(l=>{l.genre_categories.forEach(o=>{r.set(o,(r.get(o)||0)+1)}),n.set(l.status,(n.get(l.status)||0)+1)});const i=Array.from(r.entries()).sort((l,o)=>o[1]-l[1]).slice(0,10).map(([l])=>l),a=Object.fromEntries(n);return{totalCollections:e.length,totalFilms:t,averageFilmsPerCollection:Math.round(t/e.length),topGenres:i,completionStats:a}},eS=e=>e===3?"trilogy":e===4?"quadrilogy":e===5?"pentology":e===6?"hexalogy":e===7?"septology":e===8?"octology":e===9?"nonology":e>9?"extended_series":"incomplete_series",tS=e=>{if(e.length<3)return"incomplete";const t=new Date().getFullYear(),r=Math.max(...e.map(n=>new Date(n.release_date||"").getFullYear()));return t-r<=3?"ongoing":"complete"},sS=e=>{const t={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"},r=new Set;return e.forEach(n=>{var i;(i=n.genre_ids)==null||i.forEach(a=>{t[a]&&r.add(t[a])})}),Array.from(r)},rS=e=>e[0]?"Various Studios":"Unknown",sm=async e=>{const{logoCache:t}=await oa(()=>import("./logoCache-60c269ae.js"),[]);await t.preloadLogos(e)},nS=async(e=1)=>{const t=await Sr(e);return t.results.length>0&&sm(t.results.map(r=>({id:r.id,type:"movie"}))).catch(r=>console.warn("Failed to preload movie logos:",r)),t},iS=async(e=1)=>{const t=await da(e);return t.results.length>0&&sm(t.results.map(r=>({id:r.id,type:"tv"}))).catch(r=>console.warn("Failed to preload TV show logos:",r)),t},aS=async e=>{try{return await e()}catch(t){return console.error("API call failed:",t),null}},lS=Object.freeze(Object.defineProperty({__proto__:null,batchFetchLogos:sm,clearCollectionsCache:Yh,clearPaginationCache:Mv,discoverAllCollections:un,discoverMoviesByGenre:Jo,discoverTVShowsByGenre:tm,getAiringTodayTVShows:Qh,getBackdropUrl:ri,getCachedCollections:Av,getCollectionDetails:ht,getCollectionStats:Iv,getCollectionsByCategory:Rv,getDiscoveryProgress:O3,getEnhancedSimilarMovies:Nv,getEnhancedSimilarTVShows:Ev,getImageConfig:L3,getImageUrl:ze,getLogoUrl:bv,getMovieCredits:mo,getMovieDetails:nt,getMovieExternalIds:jv,getMovieGenres:Aa,getMovieRecommendations:pu,getMovieVideos:Ma,getMoviesByKeywords:Sv,getNextCollectionsBatch:gu,getNowPlayingMovies:Pa,getPersonDetails:kv,getPersonMovieCredits:fo,getPopularCollections:Z3,getPopularMovies:Ea,getPopularTVShows:Kh,getPosterUrl:be,getSimilarMovies:qh,getSimilarTVShows:Xh,getTVGenres:Xo,getTVShowCredits:_v,getTVShowDetails:Zh,getTVShowEpisodeDetails:D3,getTVShowExternalIds:Tv,getTVShowRecommendations:El,getTVShowSeasonDetails:xo,getTVShowSeasons:Jh,getTVShowVideos:Zo,getTVShowsByKeywords:Pv,getTopRatedMovies:Ko,getTopRatedTVShows:Cv,getTrendingCollections:X3,getTrendingMovies:Sr,getTrendingMoviesWithLogos:nS,getTrendingTVShows:da,getTrendingTVShowsWithLogos:iS,getUpcomingMovies:Qo,safeApiCall:aS,searchCollections:ec,searchCollectionsAdvanced:Lv,searchCollectionsDirect:Dv,searchCollectionsHybrid:J3,searchContent:em},Symbol.toStringTag,{value:"Module"}));class Pt extends Error{constructor(t){super(t),this.name="ValidationError"}}class oS extends Error{constructor(t){super(t),this.name="StorageError"}}function cS(e,t){if(e===null)return t;try{return JSON.parse(e)}catch{return t}}function Uc(e,t){if(t==="movie")return e.runtime||120;{const r=e,n=r.episode_run_time&&r.episode_run_time[0]||45,i=r.number_of_episodes||20;return n*i}}class dS{constructor(t=localStorage,r=console){ts(this,"storageKey","cineflix_my_list");ts(this,"collectionsKey","cineflix_collections");ts(this,"preferencesKey","cineflix_list_preferences");this.storage=t,this.logger=r}safeGetItem(t,r){try{const n=this.storage.getItem(t);return cS(n,r)}catch(n){return this.logger.error("Storage read failed for key:",t,n),r}}safeSetItem(t,r){try{this.storage.setItem(t,JSON.stringify(r))}catch(n){throw this.logger.error("Storage write failed for key:",t,n),new oS(`Failed to save data for key ${t}`)}}validateContentType(t){if(t!=="movie"&&t!=="tv")throw new Pt('contentType must be "movie" or "tv"')}validateId(t){if(typeof t!="string"||t.trim()==="")throw new Pt("id must be a non-empty string")}findItemIndex(t,r){return t.findIndex(r)}getMyList(){return this.safeGetItem(this.storageKey,[])}addToList(t,r){if(this.validateContentType(r),!t||t.id==null)throw new Pt("content must be provided and contain an id");const n=this.getMyList(),i=n.find(l=>l.contentId===t.id&&l.contentType===r);if(i)return i;const a={id:`${t.id}-${r}-${Date.now()}`,contentId:t.id,contentType:r,content:t,dateAdded:new Date().toISOString(),status:"notStarted",progress:0,priority:"medium",customTags:[],estimatedRuntime:Uc(t,r),isInContinueWatching:!1,isLiked:!1};return n.push(a),this.saveList(n),a}removeFromList(t){this.validateId(t);const r=this.getMyList().filter(n=>n.id!==t);this.saveList(r)}toggleLike(t,r){if(typeof t!="number")throw new Pt("contentId must be a number");this.validateContentType(r);const n=this.getMyList(),i=this.findItemIndex(n,a=>a.contentId===t&&a.contentType===r);return i===-1?!1:(n[i].isLiked=!n[i].isLiked,n[i].likedAt=n[i].isLiked?new Date().toISOString():void 0,this.saveList(n),n[i].isLiked)}isLiked(t,r){if(typeof t!="number")throw new Pt("contentId must be a number");this.validateContentType(r);const n=this.getMyList().find(i=>i.contentId===t&&i.contentType===r);return!!(n!=null&&n.isLiked)}getLikedContent(){return this.getMyList().filter(t=>t.isLiked)}likeContent(t,r){if(this.validateContentType(r),!t||t.id==null)throw new Pt("content must be provided and contain an id");const n=this.getMyList(),i=this.findItemIndex(n,l=>l.contentId===t.id&&l.contentType===r);if(i!==-1)return n[i].isLiked=!0,n[i].likedAt=new Date().toISOString(),this.saveList(n),n[i];const a={id:`${t.id}-${r}-${Date.now()}`,contentId:t.id,contentType:r,content:t,dateAdded:new Date().toISOString(),status:"notStarted",progress:0,priority:"medium",customTags:[],estimatedRuntime:Uc(t,r),isInContinueWatching:!1,isLiked:!0,likedAt:new Date().toISOString()};return n.push(a),this.saveList(n),a}unlikeContent(t,r){if(typeof t!="number")throw new Pt("contentId must be a number");this.validateContentType(r);const n=this.getMyList(),i=this.findItemIndex(n,a=>a.contentId===t&&a.contentType===r);i!==-1&&(n[i].isLiked=!1,n[i].likedAt=void 0,this.saveList(n))}updateItem(t,r){if(this.validateId(t),!r||typeof r!="object")throw new Pt("updates must be an object");const n=this.getMyList(),i=this.findItemIndex(n,a=>a.id===t);i!==-1&&(n[i]={...n[i],...r},this.saveList(n))}isInList(t,r){if(typeof t!="number")throw new Pt("contentId must be a number");return this.validateContentType(r),this.getMyList().some(n=>n.contentId===t&&n.contentType===r)}getFilteredItems(t,r,n){if(!t||typeof t!="object")throw new Pt("filters must be provided");let a=[...this.getMyList()];if(t.contentType!=="all"&&(a=a.filter(l=>{var o,c;return t.contentType==="documentary"?((o=l.content.genre_ids)==null?void 0:o.includes(99))||((c=l.content.genres)==null?void 0:c.some(d=>(d.name||"").toLowerCase().includes("documentary"))):l.contentType===t.contentType})),t.status!=="all"&&(a=a.filter(l=>l.status===t.status)),t.genres&&t.genres.length>0&&(a=a.filter(l=>{var o,c;return((o=l.content.genre_ids)==null?void 0:o.some(d=>t.genres.includes(d)))||((c=l.content.genres)==null?void 0:c.some(d=>t.genres.includes(d.id)))})),t.customTags&&t.customTags.length>0&&(a=a.filter(l=>t.customTags.some(o=>l.customTags.includes(o)))),t.priority&&t.priority!=="all"&&(a=a.filter(l=>l.priority===t.priority)),t.liked&&t.liked!=="all"&&(a=a.filter(l=>t.liked==="liked"?l.isLiked===!0:t.liked==="notLiked"?l.isLiked===!1:!0)),t.dateAdded&&t.dateAdded!=="all"){const l=new Date,o=new Date;switch(t.dateAdded){case"lastWeek":o.setDate(l.getDate()-7);break;case"lastMonth":o.setMonth(l.getMonth()-1);break;case"lastYear":o.setFullYear(l.getFullYear()-1);break}a=a.filter(c=>new Date(c.dateAdded)>=o)}return t.runtime&&t.runtime!=="all"&&(a=a.filter(l=>{const o=l.estimatedRuntime;switch(t.runtime){case"short":return o<=90;case"medium":return o>90&&o<=150;case"long":return o>150;default:return!0}})),a.sort((l,o)=>{let c,d;switch(r){case"dateAdded":c=new Date(l.dateAdded),d=new Date(o.dateAdded);break;case"title":c=l.content.title||l.content.name||"",d=o.content.title||o.content.name||"";break;case"rating":c=l.content.vote_average??0,d=o.content.vote_average??0;break;case"runtime":c=l.estimatedRuntime,d=o.estimatedRuntime;break;case"releaseYear":c=new Date(l.content.release_date||l.content.first_air_date||"1900"),d=new Date(o.content.release_date||o.content.first_air_date||"1900");break;default:return 0}return c<d?n==="asc"?-1:1:c>d?n==="asc"?1:-1:0}),a}searchItems(t,r=!0,n=!0){if(typeof t!="string")throw new Pt("query must be a string");const i=this.getMyList(),a=t.toLowerCase();return i.filter(l=>{const o=(l.content.title||l.content.name||"").toLowerCase(),c=(l.content.overview||"").toLowerCase();let d=o.includes(a)||c.includes(a);return r&&l.personalNotes&&(d=d||l.personalNotes.toLowerCase().includes(a)),n&&l.customTags.length>0&&(d=d||l.customTags.some(u=>u.toLowerCase().includes(a))),d})}getListStats(){const t=this.getMyList(),r=t.length,n=t.filter(y=>y.contentType==="movie").length,i=t.filter(y=>y.contentType==="tv").length,a=Math.round(t.reduce((y,b)=>y+(b.estimatedRuntime||0),0)/60),l=t.filter(y=>y.status==="completed").length,o=r>0?Math.round(l/r*100):0,c=t.filter(y=>y.personalRating!=null),d=c.length>0?c.reduce((y,b)=>y+(b.personalRating||0),0)/c.length:0,u={};t.forEach(y=>{var b;(b=y.content.genres)==null||b.forEach(x=>{u[x.name]=(u[x.name]||0)+1})});const h={notStarted:t.filter(y=>y.status==="notStarted").length,inProgress:t.filter(y=>y.status==="inProgress").length,completed:t.filter(y=>y.status==="completed").length,dropped:t.filter(y=>y.status==="dropped").length},m={},v=new Date;for(let y=11;y>=0;y--){const x=new Date(v.getFullYear(),v.getMonth()-y,1).toISOString().substring(0,7);m[x]=0}return t.forEach(y=>{const b=y.dateAdded.substring(0,7);m.hasOwnProperty(b)&&m[b]++}),{totalItems:r,totalMovies:n,totalTVShows:i,totalHours:a,completionRate:o,averageRating:Math.round(d*10)/10,genreDistribution:u,statusDistribution:h,monthlyAdditions:m}}performBulkOperation(t){if(!t||!Array.isArray(t.itemIds))throw new Pt("operation must contain an itemIds array");const r=this.getMyList();t.itemIds.forEach(n=>{const i=r.findIndex(a=>a.id===n);if(i!==-1)switch(t.type){case"remove":r.splice(i,1);break;case"markWatched":r[i].status="completed",r[i].progress=100;break;case"markUnwatched":r[i].status="notStarted",r[i].progress=0;break;case"setPriority":r[i].priority=t.payload;break;case"addTags":{const a=(t.payload||[]).filter(l=>!r[i].customTags.includes(l));r[i].customTags.push(...a)}break;case"removeTags":r[i].customTags=r[i].customTags.filter(a=>!(t.payload||[]).includes(a));break;default:this.logger.warn("Unknown bulk operation type:",t.type)}}),this.saveList(r)}getCollections(){return this.safeGetItem(this.collectionsKey,[])}createCollection(t,r){if(!t||typeof t!="string")throw new Pt("name must be a non-empty string");const n=this.getCollections(),i={id:`collection_${Date.now()}`,name:t,description:r,items:[],createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),isPublic:!1};return n.push(i),this.safeSetItem(this.collectionsKey,n),i}getPreferences(){return this.safeGetItem(this.preferencesKey,{defaultViewMode:"grid",defaultSortOption:"dateAdded",defaultSortDirection:"desc",autoRemoveCompleted:!1,autoRemoveAfterDays:30,showProgressBars:!0,enableNotifications:!0,compactModeItemsPerRow:10})}savePreferences(t){if(!t||typeof t!="object")throw new Pt("preferences must be an object");this.safeSetItem(this.preferencesKey,t)}saveList(t){this.safeSetItem(this.storageKey,t)}_calculateRuntime(t,r){return Uc(t,r)}getContinueWatching(){return this.getMyList().filter(t=>t.status==="inProgress"&&t.progress>0&&t.progress<100).sort((t,r)=>new Date(r.lastWatched||r.dateAdded).getTime()-new Date(t.lastWatched||t.dateAdded).getTime()).slice(0,10)}getRecentlyAdded(t=10){if(typeof t!="number"||t<=0)throw new Pt("limit must be a positive number");return this.getMyList().sort((r,n)=>new Date(n.dateAdded).getTime()-new Date(r.dateAdded).getTime()).slice(0,t)}getAllTags(){const r=this.getMyList().flatMap(n=>n.customTags||[]);return[...new Set(r)].sort()}}const We=new dS,uS=e=>e>=100?"completed":e>0?"inProgress":"notStarted",Lx=(e,t,r)=>e.find(n=>n.contentId===t&&n.contentType===r),tc=e=>{const t=(e==null?void 0:e.storageClient)??We,r=e==null?void 0:e.onPersistenceError,n=e==null?void 0:e.onRetry,[i,a]=g.useState([]),[l,o]=g.useState(!0),c=g.useCallback((j,k)=>{try{console.error(k||"Persistence error:",j),typeof r=="function"&&r(j),typeof n=="function"&&n()}catch(S){console.error("Error while handling persistence error:",S)}},[r,n]),d=g.useCallback(()=>{o(!0);try{const j=t.getMyList();a(Array.isArray(j)?j:[])}catch(j){c(j,"Error loading My List:")}finally{o(!1)}},[t,c]),u=g.useCallback((j,k)=>{try{return t.isInList(j,k)}catch(S){return c(S,"Error checking item in My List:"),!1}},[t,c]),h=g.useCallback((j,k)=>{try{const S=t.addToList(j,k);return a(C=>[...C,S]),S}catch(S){throw c(S,"Error adding to My List:"),S}},[t,c]),m=g.useCallback(j=>{try{t.removeFromList(j),a(k=>k.filter(S=>S.id!==j))}catch(k){throw c(k,"Error removing from My List:"),k}},[t,c]),v=g.useCallback((j,k)=>{try{const S=t.getMyList(),C=Lx(S,j,k);C&&m(C.id)}catch(S){throw c(S,"Error removing from My List by content id:"),S}},[t,m,c]),y=g.useCallback((j,k)=>{try{t.updateItem(j,k),a(S=>S.map(C=>C.id===j?{...C,...k}:C))}catch(S){throw c(S,"Error updating My List item:"),S}},[t,c]),b=g.useCallback((j,k,S)=>{try{const C=t.getMyList(),T=Lx(C,j,k);if(T){const L=uS(S);y(T.id,{progress:S,status:L,lastWatched:new Date().toISOString(),isInContinueWatching:S>0&&S<100})}}catch(C){throw c(C,"Error updating progress:"),C}},[t,y,c]),x=g.useCallback(()=>{try{return t.getListStats()}catch(j){return c(j,"Error getting My List stats:"),null}},[t,c]),f=g.useCallback(()=>{try{return t.getContinueWatching()}catch(j){return c(j,"Error getting continue watching items:"),[]}},[t,c]),p=g.useCallback(j=>{try{return t.getRecentlyAdded(j)}catch(k){return c(k,"Error getting recently added items:"),[]}},[t,c]),w=g.useCallback((j,k)=>u(j.id,k)?(v(j.id,k),!1):(h(j,k),!0),[u,v,h]);return g.useEffect(()=>{d()},[d]),{myListItems:i,isLoading:l,isInList:u,addToList:h,removeFromList:m,removeByContentId:v,updateItem:y,updateProgress:b,toggleInList:w,getStats:x,getContinueWatching:f,getRecentlyAdded:p,loadMyList:d}},hS=({isOpen:e,onClose:t,isDarkMode:r,onToggleTheme:n})=>{const i=Cs(),{addToList:a,removeFromList:l,isInList:o,myListItems:c}=tc(),{isMobile:d,isTablet:u}=ka(),[h,m]=g.useState(""),[v,y]=g.useState([]),[b,x]=g.useState(!1),[f,p]=g.useState("all"),[w,j]=g.useState("grid"),[k,S]=g.useState(!1),[C,T]=g.useState(!1),[L,A]=g.useState([]),[K,Y]=g.useState([]),[Z,te]=g.useState([]),[G]=g.useState(["Marvel","Star Wars","Harry Potter","The Office","Breaking Bad","Stranger Things","Game of Thrones","The Batman","Top Gun","Avatar"]),[q,E]=g.useState([]),[_,D]=g.useState(1),[z,M]=g.useState(!0),[B,se]=g.useState(!1),[H,fe]=g.useState({genres:[],releaseYear:{min:1900,max:new Date().getFullYear()},rating:{min:0,max:10},duration:{min:0,max:300},language:"",sortBy:"relevance",sortOrder:"desc"}),Ye=g.useRef(null),_e=g.useRef(null),pe=g.useRef(null);g.useEffect(()=>{(async()=>{try{const[$e,at]=await Promise.all([Aa(),Xo()]),es=[...$e,...at].reduce((_t,Vs)=>(_t.find(li=>li.id===Vs.id)||_t.push(Vs),_t),[]);A(es)}catch($e){console.error("Error loading genres:",$e)}})();const R=localStorage.getItem("search_history");R&&Y(JSON.parse(R));const ae=localStorage.getItem("recent_searches");ae&&te(JSON.parse(ae));const ve=localStorage.getItem("saved_searches");ve&&E(JSON.parse(ve))},[]),g.useEffect(()=>{e&&Ye.current&&setTimeout(()=>{var I;(I=Ye.current)==null||I.focus()},100)},[e]),g.useEffect(()=>{d&&j("grid")},[d]),g.useEffect(()=>{!d&&!u&&se(!1)},[d,u]),g.useEffect(()=>{const I=R=>{(R.metaKey||R.ctrlKey)&&R.key==="k"&&R.preventDefault(),e&&R.key==="Escape"&&t()};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[e,t]);const le=g.useRef(),ye=g.useCallback(async(I,R=!0)=>{if(!I.trim()){y([]);return}x(!0);try{const ve=await em(I,R?1:_);let $e=ve.results;if(f!=="all"&&($e=$e.filter(at=>f==="movie"?at.media_type==="movie":f==="tv"?at.media_type==="tv":f==="documentary"?at.genre_ids.includes(99):f==="kids"?at.genre_ids.includes(10751):!0)),$e=Ie($e),R?(y($e),D(1)):y(at=>[...at,...$e]),M(ve.page<ve.total_pages),R&&I.trim()){const at=[I,...K.filter(_t=>_t!==I)].slice(0,20);Y(at),localStorage.setItem("search_history",JSON.stringify(at));const es=[I,...Z.filter(_t=>_t!==I)].slice(0,5);te(es),localStorage.setItem("recent_searches",JSON.stringify(es))}}catch(ae){console.error("Search error:",ae)}finally{x(!1)}},[K,Z,f,_,H]),Ne=I=>{m(I),le.current&&clearTimeout(le.current),le.current=setTimeout(()=>{ye(I,!0)},300)},Ie=I=>I.filter(R=>{if(H.genres.length>0&&!H.genres.some($e=>R.genre_ids.includes($e))||R.vote_average<H.rating.min||R.vote_average>H.rating.max)return!1;const ae=R.media_type==="movie"?new Date(R.release_date||"").getFullYear():new Date(R.first_air_date||"").getFullYear();return!(ae<H.releaseYear.min||ae>H.releaseYear.max)}),oe=I=>[...I].sort((R,ae)=>{let ve=0;switch(H.sortBy){case"rating":ve=R.vote_average-ae.vote_average;break;case"release_date":const $e=new Date(R.release_date||R.first_air_date||"").getTime(),at=new Date(ae.release_date||ae.first_air_date||"").getTime();ve=$e-at;break;case"popularity":ve=R.vote_average-ae.vote_average;break;default:return 0}return H.sortOrder==="desc"?-ve:ve}),vt=()=>{if(h.trim()&&!q.includes(h)){const I=[...q,h];E(I),localStorage.setItem("saved_searches",JSON.stringify(I))}},Fe=()=>{if("webkitSpeechRecognition"in window||"SpeechRecognition"in window){const I=window.webkitSpeechRecognition||window.SpeechRecognition,R=new I;R.continuous=!1,R.interimResults=!1,R.lang="en-US",R.onstart=()=>{T(!0)},R.onresult=ae=>{const ve=ae.results[0][0].transcript;m(ve),ye(ve,!0)},R.onend=()=>{T(!1)},R.onerror=ae=>{console.error("Speech recognition error:",ae.error),T(!1)},R.start()}},Q=()=>{D(I=>I+1),ye(h,!1)},qe=oe(v);if(!e)return null;const Gt=d?"fixed inset-0 z-[60] flex flex-col bg-black/95 backdrop-blur-sm":"fixed inset-0 z-[60] flex items-start justify-center bg-black/80 backdrop-blur-sm",it=d?"w-full h-full flex flex-col overflow-hidden":`w-full max-w-7xl mx-4 mt-4 mb-8 rounded-2xl shadow-2xl overflow-hidden transition-all duration-300 ${r?"bg-gray-900/30":"bg-white/30"} backdrop-blur-xl border ${r?"border-gray-700/30":"border-gray-200/30"}`;return s.jsx("div",{className:Gt,children:s.jsxs("div",{ref:_e,className:it,style:d?{}:{height:"calc(100vh - 4rem)"},children:[s.jsxs("div",{className:`flex flex-col ${d?"p-4 pb-2":"p-6"} border-b ${r?"border-gray-700/30 bg-gray-800/20":"border-gray-200/30 bg-gray-50/20"}`,children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[s.jsx("div",{className:"relative flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Ct,{className:`absolute left-3 ${d?"top-3.5":"top-1/2 transform -translate-y-1/2"} w-5 h-5 ${r?"text-gray-400":"text-gray-500"}`}),s.jsx("input",{ref:Ye,type:"text",value:h,onChange:I=>Ne(I.target.value),placeholder:d?"Search...":"Search movies, TV shows, collections...",className:`w-full pl-10 pr-12 ${d?"py-3 text-base":"py-4 text-lg"} rounded-xl outline-none transition-all duration-300 ${r?"bg-gray-800/50 text-white placeholder-gray-400 border border-gray-600/50 focus:border-netflix-red/50":"bg-white/50 text-gray-900 placeholder-gray-500 border border-gray-300/50 focus:border-netflix-red/50"} focus:ring-2 focus:ring-netflix-red/20`}),s.jsx("button",{onClick:Fe,className:`absolute right-3 ${d?"top-3":"top-1/2 transform -translate-y-1/2"} p-2 rounded-lg transition-colors ${C?"text-netflix-red bg-netflix-red/10":r?"text-gray-400 hover:text-white hover:bg-gray-700/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100/50"}`,title:"Voice search",children:s.jsx(IN,{className:`w-5 h-5 ${C?"animate-pulse":""}`})})]})}),s.jsx("button",{onClick:t,className:`${d?"p-3":"p-2"} rounded-lg transition-colors ${r?"text-gray-400 hover:text-white hover:bg-gray-700/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100/50"}`,children:s.jsx(os,{className:`${d?"w-6 h-6":"w-5 h-5"}`})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[v.length>0&&s.jsxs("div",{className:`text-sm ${r?"text-gray-400":"text-gray-500"}`,children:[v.length," results"]}),!d&&h&&s.jsxs("button",{onClick:vt,className:`flex items-center space-x-1 px-3 py-1 rounded-lg text-sm transition-colors ${r?"text-gray-400 hover:text-white hover:bg-gray-700/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100/50"}`,children:[s.jsx(hN,{className:"w-4 h-4"}),s.jsx("span",{children:"Save"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[!d&&s.jsxs("div",{className:`flex rounded-lg p-1 ${r?"bg-gray-800":"bg-gray-100"}`,children:[s.jsx("button",{onClick:()=>j("grid"),className:`p-2 rounded-md transition-colors ${w==="grid"?"bg-netflix-red text-white":r?"text-gray-400 hover:text-white":"text-gray-500 hover:text-gray-700"}`,children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>j("list"),className:`p-2 rounded-md transition-colors ${w==="list"?"bg-netflix-red text-white":r?"text-gray-400 hover:text-white":"text-gray-500 hover:text-gray-700"}`,children:s.jsx(Sa,{className:"w-4 h-4"})})]}),s.jsxs("button",{onClick:()=>{d?se(!B):S(!k)},className:`flex items-center space-x-2 ${d?"px-3 py-2":"px-4 py-2"} rounded-lg transition-colors ${k||B?"bg-netflix-red text-white":r?"text-gray-400 hover:text-white hover:bg-gray-700/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100/50"}`,children:[s.jsx(sn,{className:"w-4 h-4"}),!d&&s.jsx("span",{children:"Filters"}),d&&(B?s.jsx(Oy,{className:"w-4 h-4"}):s.jsx(ei,{className:"w-4 h-4"}))]}),!d&&s.jsx("button",{onClick:n,className:`p-2 rounded-lg transition-colors ${r?"text-gray-400 hover:text-white hover:bg-gray-700/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100/50"}`,children:r?s.jsx(cu,{className:"w-5 h-5"}):s.jsx(ou,{className:"w-5 h-5"})})]})]}),d&&B&&s.jsxs("div",{className:`mt-3 p-4 rounded-lg border ${r?"border-gray-700/30 bg-gray-800/30":"border-gray-200/30 bg-gray-50/30"}`,children:[s.jsx("div",{className:"mb-4",children:s.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-2 scrollbar-hide",children:[{id:"all",label:"All",icon:qt},{id:"movie",label:"Movies",icon:de},{id:"tv",label:"TV",icon:ds},{id:"documentary",label:"Docs",icon:ne},{id:"kids",label:"Kids",icon:rt}].map(({id:I,label:R,icon:ae})=>s.jsxs("button",{onClick:()=>p(I),className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm transition-colors whitespace-nowrap ${f===I?"bg-netflix-red text-white":r?"text-gray-400 hover:text-white bg-gray-700/50":"text-gray-600 hover:text-gray-900 bg-gray-100"}`,children:[s.jsx(ae,{className:"w-4 h-4"}),s.jsx("span",{children:R})]},I))})}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:`text-sm font-medium mb-2 block ${r?"text-gray-300":"text-gray-700"}`,children:"Sort By"}),s.jsxs("select",{value:H.sortBy,onChange:I=>fe(R=>({...R,sortBy:I.target.value})),className:`w-full px-3 py-3 rounded-lg text-base border transition-colors ${r?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[s.jsx("option",{value:"relevance",children:"Relevance"}),s.jsx("option",{value:"rating",children:"Rating"}),s.jsx("option",{value:"release_date",children:"Release Date"}),s.jsx("option",{value:"popularity",children:"Popularity"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:`text-sm font-medium mb-2 block ${r?"text-gray-300":"text-gray-700"}`,children:["Minimum Rating: ",H.rating.min]}),s.jsx("input",{type:"range",min:"0",max:"10",step:"0.5",value:H.rating.min,onChange:I=>fe(R=>({...R,rating:{...R.rating,min:parseFloat(I.target.value)}})),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]})]})]}),s.jsxs("div",{className:`flex ${d?"flex-col":""} flex-1 overflow-hidden`,children:[!d&&s.jsx("div",{className:`w-80 flex-shrink-0 border-r ${r?"border-gray-700/30 bg-gray-800/20":"border-gray-200/30 bg-gray-50/20"} ${k?"block":"hidden"}`,children:s.jsxs("div",{className:"p-6 h-full overflow-y-auto",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:`text-sm font-semibold mb-3 ${r?"text-gray-300":"text-gray-700"}`,children:"Categories"}),s.jsx("div",{className:"space-y-1",children:[{id:"all",label:"All Content",icon:qt},{id:"movie",label:"Movies",icon:de},{id:"tv",label:"TV Shows",icon:ds},{id:"documentary",label:"Documentaries",icon:ne},{id:"kids",label:"Kids",icon:rt}].map(({id:I,label:R,icon:ae})=>s.jsxs("button",{onClick:()=>p(I),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-sm transition-colors ${f===I?"bg-netflix-red text-white":r?"text-gray-400 hover:text-white hover:bg-gray-700/50":"text-gray-600 hover:text-gray-900 hover:bg-gray-100/50"}`,children:[s.jsx(ae,{className:"w-4 h-4"}),s.jsx("span",{children:R})]},I))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:`text-sm font-semibold mb-3 ${r?"text-gray-300":"text-gray-700"}`,children:"Sort By"}),s.jsxs("select",{value:H.sortBy,onChange:I=>fe(R=>({...R,sortBy:I.target.value})),className:`w-full px-3 py-2 rounded-lg text-sm border transition-colors ${r?"bg-gray-800 border-gray-600 text-white":"bg-white border-gray-300 text-gray-900"}`,children:[s.jsx("option",{value:"relevance",children:"Relevance"}),s.jsx("option",{value:"rating",children:"Rating"}),s.jsx("option",{value:"release_date",children:"Release Date"}),s.jsx("option",{value:"popularity",children:"Popularity"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:`text-sm font-semibold mb-3 ${r?"text-gray-300":"text-gray-700"}`,children:"Genres"}),s.jsx("div",{className:"max-h-48 overflow-y-auto space-y-1",children:L.map(I=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:H.genres.includes(I.id),onChange:R=>{R.target.checked?fe(ae=>({...ae,genres:[...ae.genres,I.id]})):fe(ae=>({...ae,genres:ae.genres.filter(ve=>ve!==I.id)}))},className:"rounded border-gray-300 text-netflix-red focus:ring-netflix-red"}),s.jsx("span",{className:`text-sm ${r?"text-gray-300":"text-gray-700"}`,children:I.name})]},I.id))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:`text-sm font-semibold mb-3 ${r?"text-gray-300":"text-gray-700"}`,children:"Rating"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:["Min: ",H.rating.min]}),s.jsx("input",{type:"range",min:"0",max:"10",step:"0.1",value:H.rating.min,onChange:I=>fe(R=>({...R,rating:{...R.rating,min:parseFloat(I.target.value)}})),className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:["Max: ",H.rating.max]}),s.jsx("input",{type:"range",min:"0",max:"10",step:"0.1",value:H.rating.max,onChange:I=>fe(R=>({...R,rating:{...R.rating,max:parseFloat(I.target.value)}})),className:"w-full"})]})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:`text-sm font-semibold mb-3 ${r?"text-gray-300":"text-gray-700"}`,children:"Release Year"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:["From: ",H.releaseYear.min]}),s.jsx("input",{type:"range",min:"1900",max:new Date().getFullYear(),value:H.releaseYear.min,onChange:I=>fe(R=>({...R,releaseYear:{...R.releaseYear,min:parseInt(I.target.value)}})),className:"w-full"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:`text-xs ${r?"text-gray-400":"text-gray-500"}`,children:["To: ",H.releaseYear.max]}),s.jsx("input",{type:"range",min:"1900",max:new Date().getFullYear(),value:H.releaseYear.max,onChange:I=>fe(R=>({...R,releaseYear:{...R.releaseYear,max:parseInt(I.target.value)}})),className:"w-full"})]})]})]}),K.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:`text-sm font-semibold mb-3 ${r?"text-gray-300":"text-gray-700"}`,children:"Recent Searches"}),s.jsx("div",{className:"space-y-1",children:Z.slice(0,5).map((I,R)=>s.jsxs("button",{onClick:()=>{m(I),ye(I,!0)},className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-colors ${r?"text-gray-400 hover:text-white hover:bg-gray-700/50":"text-gray-600 hover:text-gray-900 hover:bg-gray-100/50"}`,children:[s.jsx(kN,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:I})]},R))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:`text-sm font-semibold mb-3 ${r?"text-gray-300":"text-gray-700"}`,children:"Trending"}),s.jsx("div",{className:"space-y-1",children:G.slice(0,5).map((I,R)=>s.jsxs("button",{onClick:()=>{m(I),ye(I,!0)},className:`w-full flex items-center space-x-2 px-3 py-2 rounded-lg text-sm transition-colors ${r?"text-gray-400 hover:text-white hover:bg-gray-700/50":"text-gray-600 hover:text-gray-900 hover:bg-gray-100/50"}`,children:[s.jsx(nn,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:I})]},R))})]})]})}),s.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:s.jsxs("div",{ref:pe,className:`flex-1 ${d?"p-4":"p-6"} overflow-y-auto`,children:[!h&&!b&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[s.jsx(Ct,{className:`${d?"w-12 h-12":"w-16 h-16"} mb-4 ${r?"text-gray-600":"text-gray-400"}`}),s.jsx("h3",{className:`${d?"text-lg":"text-xl"} font-semibold mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"Search for movies and TV shows"}),s.jsx("p",{className:"text-sm mb-6 text-gray-500",children:d?"Try popular searches below":"Use the search bar above or browse trending searches"}),s.jsx("div",{className:`flex flex-wrap gap-2 justify-center ${d?"max-w-sm":"max-w-md"}`,children:G.slice(0,d?6:8).map((I,R)=>s.jsx("button",{onClick:()=>{m(I),ye(I,!0)},className:`${d?"px-4 py-2":"px-3 py-1"} rounded-full text-sm transition-colors ${r?"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50 hover:text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200 hover:text-gray-900"}`,children:I},R))})]}),b&&v.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[s.jsx("div",{className:`animate-spin rounded-full ${d?"h-8 w-8":"h-12 w-12"} border-b-2 border-netflix-red mb-4`}),s.jsx("p",{className:`text-sm ${r?"text-gray-400":"text-gray-500"}`,children:"Searching..."})]}),h&&!b&&v.length===0&&s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center",children:[s.jsx(Ct,{className:`${d?"w-12 h-12":"w-16 h-16"} mb-4 ${r?"text-gray-600":"text-gray-400"}`}),s.jsx("h3",{className:`${d?"text-lg":"text-xl"} font-semibold mb-2 ${r?"text-gray-300":"text-gray-700"}`,children:"No results found"}),s.jsx("p",{className:"text-sm mb-4 text-gray-500",children:"Try adjusting your search or filters"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:`text-xs ${r?"text-gray-600":"text-gray-400"}`,children:"Try searching for:"}),s.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:["Marvel","Action","Comedy","Drama"].map((I,R)=>s.jsx("button",{onClick:()=>{m(I),ye(I,!0)},className:`${d?"px-4 py-2":"px-3 py-1"} rounded-full text-sm transition-colors ${r?"bg-gray-700/50 text-gray-300 hover:bg-gray-600/50":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:I},R))})]})]}),qe.length>0&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:w==="grid"?d?"grid grid-cols-2 gap-3":u?"grid grid-cols-3 gap-4":"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6":"space-y-4",children:qe.map(I=>s.jsx(mS,{item:I,viewMode:w,isDarkMode:r,isMobile:d,onNavigate:R=>{i(`/${R.media_type}/${R.id}`),t()},onAddToList:R=>{const ae={id:R.id,title:R.title,name:R.name,poster_path:R.poster_path,vote_average:R.vote_average,release_date:R.release_date,first_air_date:R.first_air_date,overview:R.overview,genre_ids:R.genre_ids};if(o(R.id,R.media_type)){const ve=c.find($e=>$e.contentId===R.id&&$e.contentType===R.media_type);ve&&l(ve.id)}else a(ae,R.media_type)},isInMyList:o(I.id,I.media_type)},`${I.id}-${I.media_type}`))}),z&&s.jsx("div",{className:"flex justify-center mt-8",children:s.jsx("button",{onClick:Q,disabled:b,className:`${d?"px-8 py-4 text-base":"px-6 py-3"} rounded-lg font-medium transition-colors ${b?r?"bg-gray-700 text-gray-500 cursor-not-allowed":"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-netflix-red text-white hover:bg-red-700"}`,children:b?"Loading...":"Load More"})})]})]})})]})]})})},mS=({item:e,viewMode:t,isDarkMode:r,onNavigate:n,onAddToList:i,isInMyList:a,isMobile:l})=>{const{isMobile:o,isTablet:c}=ka(),d=!o&&!c,u=e.title||e.name||"",h=e.release_date||e.first_air_date||"",m=h?new Date(h).getFullYear():"",v=e.vote_average,y=()=>{n(e)},b=f=>{f.stopPropagation(),n(e)},x=f=>{f.stopPropagation(),i(e)};return t==="list"?s.jsxs("div",{onClick:y,className:`flex items-center space-x-3 ${l?"p-3":"p-4"} rounded-lg transition-colors ${d?"hover:scale-[1.02]":""} cursor-pointer touch-target ${r?"hover:bg-gray-800/50":"hover:bg-gray-100/50"}`,children:[s.jsx("img",{src:be(e.poster_path,"w154"),alt:u,className:`${l?"w-12 h-18":"w-16 h-24"} object-cover rounded-lg flex-shrink-0`,loading:"lazy"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:`font-semibold mb-1 truncate ${l?"text-sm":"text-base"} ${r?"text-white":"text-gray-900"}`,children:u}),!l&&s.jsx("p",{className:`text-sm mb-2 line-clamp-2 ${r?"text-gray-400":"text-gray-600"}`,children:e.overview}),s.jsxs("div",{className:`flex items-center ${l?"space-x-2":"space-x-4"} text-xs ${l?"":"text-sm"}`,children:[s.jsx("span",{className:"text-gray-500",children:m}),v>0&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ne,{className:`${l?"w-3 h-3":"w-4 h-4"} text-yellow-500 fill-current`}),s.jsx("span",{className:`${r?"text-gray-400":"text-gray-600"}`,children:v.toFixed(1)})]}),s.jsx("span",{className:`px-2 py-1 rounded text-xs ${e.media_type==="movie"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:e.media_type==="movie"?"Movie":"TV"})]})]}),s.jsxs("div",{className:`flex items-center ${l?"space-x-1":"space-x-2"}`,children:[s.jsx("button",{onClick:b,className:`${l?"p-2.5":"p-2"} rounded-lg transition-colors touch-target ${r?"text-gray-400 hover:text-white hover:bg-gray-700/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,title:"Play",children:s.jsx(de,{className:`${l?"w-4 h-4":"w-5 h-5"}`})}),s.jsx("button",{onClick:x,className:`${l?"p-2.5":"p-2"} rounded-lg transition-colors touch-target ${a?"text-netflix-red hover:text-red-400":r?"text-gray-400 hover:text-white hover:bg-gray-700/50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,title:a?"Remove from My List":"Add to My List",children:a?s.jsx(rt,{className:`${l?"w-4 h-4":"w-5 h-5"} fill-current`}):s.jsx(Ds,{className:`${l?"w-4 h-4":"w-5 h-5"}`})})]})]}):s.jsxs("div",{onClick:y,className:`group cursor-pointer rounded-xl ${l?"p-1":"p-2"} transition-all duration-300 touch-target`,children:[s.jsxs("div",{className:`relative ${l?"mb-2":"mb-3"} rounded-xl overflow-hidden ring-1 ring-white/10 bg-white/5 backdrop-blur-md shadow-lg ${d?"group-hover:shadow-[0_12px_40px_rgba(255,0,0,0.18)] group-hover:ring-netflix-red/40":""}`,children:[s.jsx("img",{src:be(e.poster_path),alt:u,className:"w-full aspect-[2/3] object-cover",loading:"lazy"}),l?s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/85 via-black/30 to-transparent opacity-0 group-active:opacity-100 transition-opacity duration-200",children:s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("button",{onClick:b,className:"w-10 h-10 bg-white text-black rounded-full flex items-center justify-center shadow-lg touch-target active:scale-95 transition-transform",title:"Play",children:s.jsx(de,{className:"w-4 h-4"})}),s.jsx("button",{onClick:x,className:`${a?"bg-netflix-red text-white":"bg-black/50 text-white"} w-10 h-10 rounded-full backdrop-blur-md border border-white/20 touch-target active:scale-95 transition-transform`,title:a?"Remove from My List":"Add to My List",children:a?s.jsx(rt,{className:"w-4 h-4 fill-current"}):s.jsx(Ds,{className:"w-4 h-4"})})]})})}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-black/85 via-black/30 to-transparent ${d?"opacity-0 group-hover:opacity-100":"opacity-0"} transition-opacity duration-300`}),s.jsx("div",{className:`absolute inset-0 flex items-center justify-center ${d?"opacity-0 group-hover:opacity-100":"opacity-0"} transition-opacity duration-300`,children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:b,className:"w-11 h-11 bg-white text-black rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-transform",title:"Play",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsx("button",{onClick:x,className:`${a?"bg-netflix-red text-white":"bg-black/50 text-white"} w-11 h-11 rounded-full backdrop-blur-md border border-white/20 hover:scale-110 transition-transform`,title:a?"Remove from My List":"Add to My List",children:a?s.jsx(rt,{className:"w-5 h-5 fill-current"}):s.jsx(Ds,{className:"w-5 h-5"})})]})})]}),v>0&&s.jsxs("div",{className:`absolute ${l?"top-1 right-1":"top-2 right-2"} bg-black/70 backdrop-blur-sm rounded-md ${l?"px-1.5 py-0.5":"px-2 py-1"} flex items-center gap-1`,children:[s.jsx(ne,{className:`${l?"w-2.5 h-2.5":"w-3 h-3"} text-yellow-400 fill-yellow-400`}),s.jsx("span",{className:`text-white ${l?"text-[10px]":"text-xs"} font-medium`,children:v.toFixed(1)})]}),s.jsx("div",{className:`absolute ${l?"top-1 left-1":"top-2 left-2"} ${l?"px-1.5 py-0.5":"px-2 py-1"} rounded ${l?"text-[8px]":"text-[10px]"} font-bold tracking-wide ${e.media_type==="movie","bg-black/70 text-white"}`,children:e.media_type==="movie"?"MOVIE":"TV"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:`font-semibold ${l?"text-xs":"text-sm"} mb-1 line-clamp-2 ${r?"text-white":"text-gray-900"}`,children:u}),s.jsx("p",{className:`${l?"text-[10px]":"text-xs"} text-gray-500`,children:m})]})]})},fS=()=>{const[e,t]=g.useState(!1),[r,n]=g.useState(!1),[i,a]=g.useState(!1),[l,o]=g.useState(!1),[c,d]=g.useState(!0),[u,h]=g.useState(!1),[m,v]=g.useState(!1),y=Jn(),b=g.useRef(null),x=g.useRef(null),f=g.useRef(null),p=g.useRef(null),w=async()=>{try{document.fullscreenElement?await document.exitFullscreen():await document.documentElement.requestFullscreen()}catch(S){console.error("Error toggling fullscreen:",S)}};g.useEffect(()=>{const S=()=>{t(window.scrollY>10)},C=A=>{x.current&&!x.current.contains(A.target)&&n(!1),f.current&&!f.current.contains(A.target)&&a(!1),p.current&&!p.current.contains(A.target)&&o(!1)},T=A=>{(A.metaKey||A.ctrlKey)&&A.key==="k"&&(A.preventDefault(),h(!0)),A.key==="F11"&&(A.preventDefault(),w()),A.key==="Escape"&&l&&o(!1)},L=()=>{v(!!document.fullscreenElement)};return l?document.body.style.overflow="hidden":document.body.style.overflow="unset",window.addEventListener("scroll",S),document.addEventListener("mousedown",C),document.addEventListener("keydown",T),document.addEventListener("fullscreenchange",L),()=>{window.removeEventListener("scroll",S),document.removeEventListener("mousedown",C),document.removeEventListener("keydown",T),document.removeEventListener("fullscreenchange",L),document.body.style.overflow="unset"}},[l]);const j=[{id:1,title:"New Marvel movie added",time:"2 min ago",type:"new"},{id:2,title:"Your watchlist updated",time:"1 hour ago",type:"update"},{id:3,title:"New season available",time:"3 hours ago",type:"new"}],k=[{name:"Home",path:"/",icon:By},{name:"Movies",path:"/movies",icon:Ce},{name:"TV Shows",path:"/tv-shows",icon:la},{name:"Collections",path:"/collections",icon:ne},{name:"New & Popular",path:"/new-popular",icon:nn},{name:"My List",path:"/my-list",icon:$y}];return s.jsxs(s.Fragment,{children:[s.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 transition-all duration-500 ${e?"bg-black/20 backdrop-blur-xl border-b border-white/10 shadow-2xl":"bg-black/10 backdrop-blur-md"}`,children:s.jsx("div",{className:"w-full mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex items-center justify-between h-14 sm:h-16",children:[s.jsxs("div",{className:"flex items-center space-x-4 sm:space-x-8",children:[s.jsx(xe,{to:"/",className:"flex-shrink-0 transition-all duration-300 hover:scale-105 group",children:s.jsx("img",{src:"/cineflix/cineflix-logo.png",alt:"CineFlix",className:"h-20 sm:h-40 lg:h-48 w-auto"})}),s.jsx("div",{className:"hidden lg:flex items-center space-x-1",children:k.map(S=>{const C=S.icon;return s.jsxs(xe,{to:S.path,className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 relative group ${y.pathname===S.path?"text-white bg-netflix-red shadow-lg":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[s.jsx(C,{className:"w-4 h-4"}),s.jsx("span",{children:S.name})]},S.path)})}),s.jsx("button",{onClick:()=>o(!l),className:"lg:hidden text-white p-2 rounded-lg hover:bg-white/10 transition-colors backdrop-blur-sm","aria-label":"Toggle mobile menu",children:l?s.jsx(os,{className:"w-5 h-5 sm:w-6 sm:h-6"}):s.jsx(LN,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),s.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[s.jsxs("div",{ref:b,className:"relative",children:[s.jsxs("button",{onClick:()=>h(!0),className:"lg:hidden flex items-center justify-center w-10 h-10 sm:w-12 sm:h-12 bg-black/30 backdrop-blur-md rounded-full transition-all duration-300 border border-white/20 hover:border-netflix-red/50 hover:bg-black/50 hover:scale-110 group relative","aria-label":"Search",title:"Search (Tap to open)",children:[s.jsx(Ct,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white group-hover:text-netflix-red transition-colors"}),s.jsx("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2 bg-black/80 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap",children:"Search"})]}),s.jsxs("button",{onClick:()=>h(!0),className:"hidden lg:flex items-center bg-black/20 backdrop-blur-md rounded-xl transition-all duration-300 border border-white/20 hover:border-netflix-red/50 hover:bg-black/30 group",children:[s.jsx(Ct,{className:"w-5 h-5 text-gray-400 ml-3 group-hover:text-white transition-colors"}),s.jsx("span",{className:"text-gray-400 px-3 py-3 group-hover:text-white transition-colors text-sm",children:"Search movies, TV shows..."}),s.jsxs("kbd",{className:"flex items-center space-x-1 bg-gray-700/50 text-gray-400 text-xs px-2 py-1 rounded mr-3 group-hover:bg-gray-600/50 group-hover:text-gray-300 transition-colors",children:[s.jsx("span",{children:""}),s.jsx("span",{children:"K"})]})]})]}),s.jsx("button",{onClick:()=>d(!c),className:"p-2 text-gray-300 hover:text-white hover:bg-white/10 rounded-lg transition-colors backdrop-blur-sm",title:"Toggle theme",children:c?s.jsx(cu,{className:"w-4 h-4 sm:w-5 sm:h-5"}):s.jsx(ou,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),s.jsx("button",{onClick:w,className:"hidden sm:block p-2 text-gray-300 hover:text-white hover:bg-white/10 rounded-lg transition-colors backdrop-blur-sm",title:m?"Exit fullscreen (F11)":"Enter fullscreen (F11)",children:m?s.jsx(FN,{className:"w-5 h-5"}):s.jsx(RN,{className:"w-5 h-5"})}),s.jsxs("div",{ref:f,className:"relative",children:[s.jsxs("button",{onClick:()=>a(!i),className:"relative p-2 text-gray-300 hover:text-white hover:bg-white/10 rounded-lg transition-colors backdrop-blur-sm",children:[s.jsx(Fy,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-netflix-red rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-xs text-white font-bold",children:j.length})})]}),i&&s.jsxs("div",{className:"absolute right-0 mt-2 w-72 sm:w-80 bg-black/40 backdrop-blur-xl rounded-xl shadow-2xl border border-white/10 py-2 z-50",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-700/50",children:s.jsx("h3",{className:"text-white font-semibold",children:"Notifications"})}),j.map(S=>s.jsx("div",{className:"px-4 py-3 hover:bg-gray-700/50 transition-colors",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:`w-2 h-2 rounded-full mt-2 ${S.type==="new"?"bg-green-500":"bg-blue-500"}`}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-white",children:S.title}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:S.time})]})]})},S.id)),s.jsx("div",{className:"px-4 py-3 border-t border-gray-700/50",children:s.jsx("button",{className:"text-sm text-netflix-red hover:text-red-400 transition-colors",children:"View all notifications"})})]})]}),s.jsxs("div",{ref:x,className:"relative",children:[s.jsxs("button",{onClick:()=>n(!r),className:"flex items-center space-x-2 p-2 hover:bg-white/10 rounded-lg transition-colors backdrop-blur-sm",children:[s.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-br from-netflix-red via-red-600 to-red-700 rounded-full flex items-center justify-center ring-2 ring-gray-700/50",children:s.jsx(Mt,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),s.jsx(ei,{className:`hidden sm:block w-4 h-4 text-gray-300 transition-transform duration-300 ${r?"rotate-180":""}`})]}),r&&s.jsxs("div",{className:"absolute right-0 mt-2 w-64 sm:w-72 bg-black/40 backdrop-blur-xl rounded-xl shadow-2xl border border-white/10 py-2 z-50",children:[s.jsx("div",{className:"px-4 py-3 border-b border-gray-700/50",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br from-netflix-red via-red-600 to-red-700 rounded-full flex items-center justify-center",children:s.jsx(Mt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-white font-semibold text-sm sm:text-base",children:"John Doe"}),s.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"Premium Member"})]})]})}),s.jsxs("div",{className:"py-2",children:[s.jsxs(xe,{to:"/profile",className:"flex items-center space-x-3 px-4 py-3 text-sm text-gray-300 hover:bg-gray-700/50 hover:text-white transition-colors",children:[s.jsx(Mt,{className:"w-4 h-4"}),s.jsx("span",{children:"My Profile"})]}),s.jsxs(xe,{to:"/my-list",className:"flex items-center space-x-3 px-4 py-3 text-sm text-gray-300 hover:bg-gray-700/50 hover:text-white transition-colors",children:[s.jsx(rt,{className:"w-4 h-4"}),s.jsx("span",{children:"My List"})]}),s.jsxs(xe,{to:"/watchlist",className:"flex items-center space-x-3 px-4 py-3 text-sm text-gray-300 hover:bg-gray-700/50 hover:text-white transition-colors",children:[s.jsx(yt,{className:"w-4 h-4"}),s.jsx("span",{children:"Continue Watching"})]}),s.jsxs(xe,{to:"/downloads",className:"flex items-center space-x-3 px-4 py-3 text-sm text-gray-300 hover:bg-gray-700/50 hover:text-white transition-colors",children:[s.jsx(Rt,{className:"w-4 h-4"}),s.jsx("span",{children:"Downloads"})]}),s.jsxs(xe,{to:"/account",className:"flex items-center space-x-3 px-4 py-3 text-sm text-gray-300 hover:bg-gray-700/50 hover:text-white transition-colors",children:[s.jsx(Gy,{className:"w-4 h-4"}),s.jsx("span",{children:"Account Settings"})]})]}),s.jsx("div",{className:"border-t border-gray-700/50 py-2",children:s.jsxs("button",{className:"flex items-center space-x-3 w-full px-4 py-3 text-sm text-gray-300 hover:bg-gray-700/50 hover:text-white transition-colors",children:[s.jsx(AN,{className:"w-4 h-4"}),s.jsx("span",{children:"Sign Out"})]})})]})]}),s.jsxs("button",{className:"hidden sm:flex items-center space-x-2 bg-netflix-red hover:bg-red-700 text-white px-3 sm:px-4 py-2 rounded-lg font-medium transition-all duration-300 hover:scale-105 text-sm",children:[s.jsx(lo,{className:"w-4 h-4"}),s.jsx("span",{children:"Sign In"})]})]})]})})}),l&&s.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",ref:p,children:[s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>o(!1)}),s.jsx("div",{className:"fixed top-14 sm:top-16 left-0 right-0 bg-black/20 backdrop-blur-xl border-b border-white/10 shadow-2xl",children:s.jsxs("div",{className:"p-4 sm:p-6 space-y-3",children:[s.jsxs("div",{className:"mb-4 p-4 bg-gradient-to-r from-netflix-red/10 to-red-600/5 rounded-xl border border-netflix-red/20",children:[s.jsx("h3",{className:"text-white font-semibold text-sm mb-2 text-center",children:"Quick Search"}),s.jsxs("button",{onClick:()=>{h(!0),o(!1)},className:"flex items-center justify-center space-x-3 w-full px-6 py-4 text-base font-medium bg-netflix-red/20 hover:bg-netflix-red/30 text-white border border-netflix-red/40 hover:border-netflix-red/60 rounded-xl transition-all duration-300 hover:scale-105 shadow-lg",children:[s.jsx(Ct,{className:"w-6 h-6 text-netflix-red"}),s.jsx("span",{children:"Search Movies & TV Shows"})]}),s.jsx("p",{className:"text-xs text-gray-400 text-center mt-2",children:"Find your favorite content instantly"})]}),k.map(S=>{const C=S.icon;return s.jsxs(xe,{to:S.path,onClick:()=>o(!1),className:`flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-300 ${y.pathname===S.path?"text-white bg-netflix-red shadow-lg":"text-gray-300 hover:text-white hover:bg-white/10"}`,children:[s.jsx(C,{className:"w-5 h-5"}),s.jsx("span",{children:S.name})]},S.path)}),s.jsxs("div",{className:"pt-4 border-t border-gray-700/50 mt-4",children:[s.jsxs("button",{onClick:()=>{d(!c),o(!1)},className:"flex items-center space-x-3 w-full px-4 py-3 text-sm text-gray-300 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:[c?s.jsx(cu,{className:"w-5 h-5"}):s.jsx(ou,{className:"w-5 h-5"}),s.jsx("span",{children:"Toggle Theme"})]}),s.jsxs("button",{className:"flex items-center space-x-3 w-full px-4 py-3 text-sm text-gray-300 hover:text-white hover:bg-white/10 rounded-lg transition-colors",children:[s.jsx(lo,{className:"w-5 h-5"}),s.jsx("span",{children:"Sign In"})]})]})]})})]}),s.jsx(hS,{isOpen:u,onClose:()=>h(!1),isDarkMode:c,onToggleTheme:()=>d(!c)})]})},rm=g.createContext({});function nm(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const im=typeof window<"u",Fv=im?g.useLayoutEffect:g.useEffect,sc=g.createContext(null);function am(e,t){e.indexOf(t)===-1&&e.push(t)}function lm(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const Qs=(e,t,r)=>r>t?t:r<e?e:r;let om=()=>{};const Zs={},$v=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Vv(e){return typeof e=="object"&&e!==null}const Ov=e=>/^0[^.\s]+$/u.test(e);function cm(e){let t;return()=>(t===void 0&&(t=e()),t)}const hs=e=>e,xS=(e,t)=>r=>t(e(r)),Ra=(...e)=>e.reduce(xS),ua=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class dm{constructor(){this.subscriptions=[]}add(t){return am(this.subscriptions,t),()=>lm(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let a=0;a<i;a++){const l=this.subscriptions[a];l&&l(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Is=e=>e*1e3,Fs=e=>e/1e3;function zv(e,t){return t?e*(1e3/t):0}const Bv=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,pS=1e-7,gS=12;function yS(e,t,r,n,i){let a,l,o=0;do l=t+(r-t)/2,a=Bv(l,n,i)-e,a>0?r=l:t=l;while(Math.abs(a)>pS&&++o<gS);return l}function La(e,t,r,n){if(e===t&&r===n)return hs;const i=a=>yS(a,0,1,e,r);return a=>a===0||a===1?a:Bv(i(a),t,n)}const Uv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Hv=e=>t=>1-e(1-t),Wv=La(.33,1.53,.69,.99),um=Hv(Wv),Gv=Uv(um),Yv=e=>(e*=2)<1?.5*um(e):.5*(2-Math.pow(2,-10*(e-1))),hm=e=>1-Math.sin(Math.acos(e)),qv=Hv(hm),Kv=Uv(hm),vS=La(.42,0,1,1),wS=La(0,0,.58,1),Qv=La(.42,0,.58,1),bS=e=>Array.isArray(e)&&typeof e[0]!="number",Zv=e=>Array.isArray(e)&&typeof e[0]=="number",jS={linear:hs,easeIn:vS,easeInOut:Qv,easeOut:wS,circIn:hm,circInOut:Kv,circOut:qv,backIn:um,backInOut:Gv,backOut:Wv,anticipate:Yv},NS=e=>typeof e=="string",Dx=e=>{if(Zv(e)){om(e.length===4);const[t,r,n,i]=e;return La(t,r,n,i)}else if(NS(e))return jS[e];return e},il=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Ix={value:null,addProjectionMetrics:null};function SS(e,t){let r=new Set,n=new Set,i=!1,a=!1;const l=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},c=0;function d(h){l.has(h)&&(u.schedule(h),e()),c++,h(o)}const u={schedule:(h,m=!1,v=!1)=>{const b=v&&i?r:n;return m&&l.add(h),b.has(h)||b.add(h),h},cancel:h=>{n.delete(h),l.delete(h)},process:h=>{if(o=h,i){a=!0;return}i=!0,[r,n]=[n,r],r.forEach(d),t&&Ix.value&&Ix.value.frameloop[t].push(c),c=0,r.clear(),i=!1,a&&(a=!1,u.process(h))}};return u}const kS=40;function Xv(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,l=il.reduce((w,j)=>(w[j]=SS(a,t?j:void 0),w),{}),{setup:o,read:c,resolveKeyframes:d,preUpdate:u,update:h,preRender:m,render:v,postRender:y}=l,b=()=>{const w=Zs.useManualTiming?i.timestamp:performance.now();r=!1,Zs.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(w-i.timestamp,kS),1)),i.timestamp=w,i.isProcessing=!0,o.process(i),c.process(i),d.process(i),u.process(i),h.process(i),m.process(i),v.process(i),y.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(b))},x=()=>{r=!0,n=!0,i.isProcessing||e(b)};return{schedule:il.reduce((w,j)=>{const k=l[j];return w[j]=(S,C=!1,T=!1)=>(r||x(),k.schedule(S,C,T)),w},{}),cancel:w=>{for(let j=0;j<il.length;j++)l[il[j]].cancel(w)},state:i,steps:l}}const{schedule:Pe,cancel:kr,state:ft,steps:Hc}=Xv(typeof requestAnimationFrame<"u"?requestAnimationFrame:hs,!0);let Pl;function CS(){Pl=void 0}const zt={now:()=>(Pl===void 0&&zt.set(ft.isProcessing||Zs.useManualTiming?ft.timestamp:performance.now()),Pl),set:e=>{Pl=e,queueMicrotask(CS)}},Jv=e=>t=>typeof t=="string"&&t.startsWith(e),mm=Jv("--"),TS=Jv("var(--"),fm=e=>TS(e)?_S.test(e.split("/*")[0].trim()):!1,_S=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ni={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ha={...ni,transform:e=>Qs(0,1,e)},al={...ni,default:1},Di=e=>Math.round(e*1e5)/1e5,xm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ES(e){return e==null}const PS=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,pm=(e,t)=>r=>!!(typeof r=="string"&&PS.test(r)&&r.startsWith(e)||t&&!ES(r)&&Object.prototype.hasOwnProperty.call(r,t)),ew=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,a,l,o]=n.match(xm);return{[e]:parseFloat(i),[t]:parseFloat(a),[r]:parseFloat(l),alpha:o!==void 0?parseFloat(o):1}},MS=e=>Qs(0,255,e),Wc={...ni,transform:e=>Math.round(MS(e))},Ur={test:pm("rgb","red"),parse:ew("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Wc.transform(e)+", "+Wc.transform(t)+", "+Wc.transform(r)+", "+Di(ha.transform(n))+")"};function AS(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const yu={test:pm("#"),parse:AS,transform:Ur.transform},Da=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),tr=Da("deg"),$s=Da("%"),J=Da("px"),RS=Da("vh"),LS=Da("vw"),Fx=(()=>({...$s,parse:e=>$s.parse(e)/100,transform:e=>$s.transform(e*100)}))(),Tn={test:pm("hsl","hue"),parse:ew("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+$s.transform(Di(t))+", "+$s.transform(Di(r))+", "+Di(ha.transform(n))+")"},Ze={test:e=>Ur.test(e)||yu.test(e)||Tn.test(e),parse:e=>Ur.test(e)?Ur.parse(e):Tn.test(e)?Tn.parse(e):yu.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ur.transform(e):Tn.transform(e),getAnimatableNone:e=>{const t=Ze.parse(e);return t.alpha=0,Ze.transform(t)}},DS=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IS(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(xm))==null?void 0:t.length)||0)+(((r=e.match(DS))==null?void 0:r.length)||0)>0}const tw="number",sw="color",FS="var",$S="var(",$x="${}",VS=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ma(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const o=t.replace(VS,c=>(Ze.test(c)?(n.color.push(a),i.push(sw),r.push(Ze.parse(c))):c.startsWith($S)?(n.var.push(a),i.push(FS),r.push(c)):(n.number.push(a),i.push(tw),r.push(parseFloat(c))),++a,$x)).split($x);return{values:r,split:o,indexes:n,types:i}}function rw(e){return ma(e).values}function nw(e){const{split:t,types:r}=ma(e),n=t.length;return i=>{let a="";for(let l=0;l<n;l++)if(a+=t[l],i[l]!==void 0){const o=r[l];o===tw?a+=Di(i[l]):o===sw?a+=Ze.transform(i[l]):a+=i[l]}return a}}const OS=e=>typeof e=="number"?0:Ze.test(e)?Ze.getAnimatableNone(e):e;function zS(e){const t=rw(e);return nw(e)(t.map(OS))}const Cr={test:IS,parse:rw,createTransformer:nw,getAnimatableNone:zS};function Gc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function BS({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,a=0,l=0;if(!t)i=a=l=r;else{const o=r<.5?r*(1+t):r+t-r*t,c=2*r-o;i=Gc(c,o,e+1/3),a=Gc(c,o,e),l=Gc(c,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:n}}function po(e,t){return r=>r>0?t:e}const Ae=(e,t,r)=>e+(t-e)*r,Yc=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},US=[yu,Ur,Tn],HS=e=>US.find(t=>t.test(e));function Vx(e){const t=HS(e);if(!t)return!1;let r=t.parse(e);return t===Tn&&(r=BS(r)),r}const Ox=(e,t)=>{const r=Vx(e),n=Vx(t);if(!r||!n)return po(e,t);const i={...r};return a=>(i.red=Yc(r.red,n.red,a),i.green=Yc(r.green,n.green,a),i.blue=Yc(r.blue,n.blue,a),i.alpha=Ae(r.alpha,n.alpha,a),Ur.transform(i))},vu=new Set(["none","hidden"]);function WS(e,t){return vu.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function GS(e,t){return r=>Ae(e,t,r)}function gm(e){return typeof e=="number"?GS:typeof e=="string"?fm(e)?po:Ze.test(e)?Ox:KS:Array.isArray(e)?iw:typeof e=="object"?Ze.test(e)?Ox:YS:po}function iw(e,t){const r=[...e],n=r.length,i=e.map((a,l)=>gm(a)(a,t[l]));return a=>{for(let l=0;l<n;l++)r[l]=i[l](a);return r}}function YS(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=gm(e[i])(e[i],t[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function qS(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],l=e.indexes[a][n[a]],o=e.values[l]??0;r[i]=o,n[a]++}return r}const KS=(e,t)=>{const r=Cr.createTransformer(t),n=ma(e),i=ma(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?vu.has(e)&&!i.values.length||vu.has(t)&&!n.values.length?WS(e,t):Ra(iw(qS(n,i),i.values),r):po(e,t)};function aw(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ae(e,t,r):gm(e)(e,t)}const QS=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>Pe.update(t,r),stop:()=>kr(t),now:()=>ft.isProcessing?ft.timestamp:zt.now()}},lw=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let a=0;a<i;a++)n+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},go=2e4;function ym(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<go;)t+=r,n=e.next(t);return t>=go?1/0:t}function ZS(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(ym(n),go);return{type:"keyframes",ease:a=>n.next(i*a).value/t,duration:Fs(i)}}const XS=5;function ow(e,t,r){const n=Math.max(t-XS,0);return zv(r-e(n),t-n)}const Be={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qc=.001;function JS({duration:e=Be.duration,bounce:t=Be.bounce,velocity:r=Be.velocity,mass:n=Be.mass}){let i,a,l=1-t;l=Qs(Be.minDamping,Be.maxDamping,l),e=Qs(Be.minDuration,Be.maxDuration,Fs(e)),l<1?(i=d=>{const u=d*l,h=u*e,m=u-r,v=wu(d,l),y=Math.exp(-h);return qc-m/v*y},a=d=>{const h=d*l*e,m=h*r+r,v=Math.pow(l,2)*Math.pow(d,2)*e,y=Math.exp(-h),b=wu(Math.pow(d,2),l);return(-i(d)+qc>0?-1:1)*((m-v)*y)/b}):(i=d=>{const u=Math.exp(-d*e),h=(d-r)*e+1;return-qc+u*h},a=d=>{const u=Math.exp(-d*e),h=(r-d)*(e*e);return u*h});const o=5/e,c=tk(i,a,o);if(e=Is(e),isNaN(c))return{stiffness:Be.stiffness,damping:Be.damping,duration:e};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:l*2*Math.sqrt(n*d),duration:e}}}const ek=12;function tk(e,t,r){let n=r;for(let i=1;i<ek;i++)n=n-e(n)/t(n);return n}function wu(e,t){return e*Math.sqrt(1-t*t)}const sk=["duration","bounce"],rk=["stiffness","damping","mass"];function zx(e,t){return t.some(r=>e[r]!==void 0)}function nk(e){let t={velocity:Be.velocity,stiffness:Be.stiffness,damping:Be.damping,mass:Be.mass,isResolvedFromDuration:!1,...e};if(!zx(e,rk)&&zx(e,sk))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*Qs(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Be.mass,stiffness:i,damping:a}}else{const r=JS(e);t={...t,...r,mass:Be.mass},t.isResolvedFromDuration=!0}return t}function yo(e=Be.visualDuration,t=Be.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],l=r.keyframes[r.keyframes.length-1],o={done:!1,value:a},{stiffness:c,damping:d,mass:u,duration:h,velocity:m,isResolvedFromDuration:v}=nk({...r,velocity:-Fs(r.velocity||0)}),y=m||0,b=d/(2*Math.sqrt(c*u)),x=l-a,f=Fs(Math.sqrt(c/u)),p=Math.abs(x)<5;n||(n=p?Be.restSpeed.granular:Be.restSpeed.default),i||(i=p?Be.restDelta.granular:Be.restDelta.default);let w;if(b<1){const k=wu(f,b);w=S=>{const C=Math.exp(-b*f*S);return l-C*((y+b*f*x)/k*Math.sin(k*S)+x*Math.cos(k*S))}}else if(b===1)w=k=>l-Math.exp(-f*k)*(x+(y+f*x)*k);else{const k=f*Math.sqrt(b*b-1);w=S=>{const C=Math.exp(-b*f*S),T=Math.min(k*S,300);return l-C*((y+b*f*x)*Math.sinh(T)+k*x*Math.cosh(T))/k}}const j={calculatedDuration:v&&h||null,next:k=>{const S=w(k);if(v)o.done=k>=h;else{let C=k===0?y:0;b<1&&(C=k===0?Is(y):ow(w,k,S));const T=Math.abs(C)<=n,L=Math.abs(l-S)<=i;o.done=T&&L}return o.value=o.done?l:S,o},toString:()=>{const k=Math.min(ym(j),go),S=lw(C=>j.next(k*C).value,k,30);return k+"ms "+S},toTransition:()=>{}};return j}yo.applyToOptions=e=>{const t=ZS(e,100,yo);return e.ease=t.ease,e.duration=Is(t.duration),e.type="keyframes",e};function bu({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:l,min:o,max:c,restDelta:d=.5,restSpeed:u}){const h=e[0],m={done:!1,value:h},v=T=>o!==void 0&&T<o||c!==void 0&&T>c,y=T=>o===void 0?c:c===void 0||Math.abs(o-T)<Math.abs(c-T)?o:c;let b=r*t;const x=h+b,f=l===void 0?x:l(x);f!==x&&(b=f-h);const p=T=>-b*Math.exp(-T/n),w=T=>f+p(T),j=T=>{const L=p(T),A=w(T);m.done=Math.abs(L)<=d,m.value=m.done?f:A};let k,S;const C=T=>{v(m.value)&&(k=T,S=yo({keyframes:[m.value,y(m.value)],velocity:ow(w,T,m.value),damping:i,stiffness:a,restDelta:d,restSpeed:u}))};return C(0),{calculatedDuration:null,next:T=>{let L=!1;return!S&&k===void 0&&(L=!0,j(T),C(T)),k!==void 0&&T>=k?S.next(T-k):(!L&&j(T),m)}}}function ik(e,t,r){const n=[],i=r||Zs.mix||aw,a=e.length-1;for(let l=0;l<a;l++){let o=i(e[l],e[l+1]);if(t){const c=Array.isArray(t)?t[l]||hs:t;o=Ra(c,o)}n.push(o)}return n}function ak(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const a=e.length;if(om(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=ik(t,n,i),c=o.length,d=u=>{if(l&&u<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(u<e[h+1]);h++);const m=ua(e[h],e[h+1],u);return o[h](m)};return r?u=>d(Qs(e[0],e[a-1],u)):d}function lk(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=ua(0,t,n);e.push(Ae(r,1,i))}}function ok(e){const t=[0];return lk(t,e.length-1),t}function ck(e,t){return e.map(r=>r*t)}function dk(e,t){return e.map(()=>t||Qv).splice(0,e.length-1)}function Ii({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=bS(n)?n.map(Dx):Dx(n),a={done:!1,value:t[0]},l=ck(r&&r.length===t.length?r:ok(t),e),o=ak(l,t,{ease:Array.isArray(i)?i:dk(t,i)});return{calculatedDuration:e,next:c=>(a.value=o(c),a.done=c>=e,a)}}const uk=e=>e!==null;function vm(e,{repeat:t,repeatType:r="loop"},n,i=1){const a=e.filter(uk),o=i<0||t&&r!=="loop"&&t%2===1?0:a.length-1;return!o||n===void 0?a[o]:n}const hk={decay:bu,inertia:bu,tween:Ii,keyframes:Ii,spring:yo};function cw(e){typeof e.type=="string"&&(e.type=hk[e.type])}class wm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const mk=e=>e/100;class bm extends wm{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==zt.now()&&this.tick(zt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;cw(t);const{type:r=Ii,repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:l=0}=t;let{keyframes:o}=t;const c=r||Ii;c!==Ii&&typeof o[0]!="number"&&(this.mixKeyframes=Ra(mk,aw(o[0],o[1])),o=[0,100]);const d=c({...t,keyframes:o});a==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...o].reverse(),velocity:-l})),d.calculatedDuration===null&&(d.calculatedDuration=ym(d));const{calculatedDuration:u}=d;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=d}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:a,mirroredGenerator:l,resolvedDuration:o,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:u,repeat:h,repeatType:m,repeatDelay:v,type:y,onUpdate:b,finalKeyframe:x}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const f=this.currentTime-d*(this.playbackSpeed>=0?1:-1),p=this.playbackSpeed>=0?f<0:f>i;this.currentTime=Math.max(f,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,j=n;if(h){const T=Math.min(this.currentTime,i)/o;let L=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&L--,L=Math.min(L,h+1),!!(L%2)&&(m==="reverse"?(A=1-A,v&&(A-=v/o)):m==="mirror"&&(j=l)),w=Qs(0,1,A)*o}const k=p?{done:!1,value:u[0]}:j.next(w);a&&(k.value=a(k.value));let{done:S}=k;!p&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return C&&y!==bu&&(k.value=vm(u,this.options,x,this.speed)),b&&b(k.value),C&&this.finish(),k}then(t,r){return this.finished.then(t,r)}get duration(){return Fs(this.calculatedDuration)}get time(){return Fs(this.currentTime)}set time(t){var r;t=Is(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(zt.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Fs(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=QS,startTime:r}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(a=(i=this.options).onPlay)==null||a.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(zt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function fk(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Hr=e=>e*180/Math.PI,ju=e=>{const t=Hr(Math.atan2(e[1],e[0]));return Nu(t)},xk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ju,rotateZ:ju,skewX:e=>Hr(Math.atan(e[1])),skewY:e=>Hr(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Nu=e=>(e=e%360,e<0&&(e+=360),e),Bx=ju,Ux=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Hx=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),pk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ux,scaleY:Hx,scale:e=>(Ux(e)+Hx(e))/2,rotateX:e=>Nu(Hr(Math.atan2(e[6],e[5]))),rotateY:e=>Nu(Hr(Math.atan2(-e[2],e[0]))),rotateZ:Bx,rotate:Bx,skewX:e=>Hr(Math.atan(e[4])),skewY:e=>Hr(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Su(e){return e.includes("scale")?1:0}function ku(e,t){if(!e||e==="none")return Su(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=pk,i=r;else{const o=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=xk,i=o}if(!i)return Su(t);const a=n[t],l=i[1].split(",").map(yk);return typeof a=="function"?a(l):l[a]}const gk=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return ku(r,t)};function yk(e){return parseFloat(e.trim())}const ii=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ai=(()=>new Set(ii))(),Wx=e=>e===ni||e===J,vk=new Set(["x","y","z"]),wk=ii.filter(e=>!vk.has(e));function bk(e){const t=[];return wk.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Kr={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ku(t,"x"),y:(e,{transform:t})=>ku(t,"y")};Kr.translateX=Kr.x;Kr.translateY=Kr.y;const Qr=new Set;let Cu=!1,Tu=!1,_u=!1;function dw(){if(Tu){const e=Array.from(Qr).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=bk(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,l])=>{var o;(o=n.getValue(a))==null||o.set(l)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Tu=!1,Cu=!1,Qr.forEach(e=>e.complete(_u)),Qr.clear()}function uw(){Qr.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Tu=!0)})}function jk(){_u=!0,uw(),dw(),_u=!1}class jm{constructor(t,r,n,i,a,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Qr.add(this),Cu||(Cu=!0,Pe.read(uw),Pe.resolveKeyframes(dw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),l=t[t.length-1];if(a!==void 0)t[0]=a;else if(n&&r){const o=n.readValue(r,l);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=l),i&&a===void 0&&i.set(t[0])}fk(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Qr.delete(this)}cancel(){this.state==="scheduled"&&(Qr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Nk=e=>e.startsWith("--");function Sk(e,t,r){Nk(t)?e.style.setProperty(t,r):e.style[t]=r}const kk=cm(()=>window.ScrollTimeline!==void 0),Ck={};function Tk(e,t){const r=cm(e);return()=>Ck[t]??r()}const hw=Tk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ni=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Gx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ni([0,.65,.55,1]),circOut:Ni([.55,0,1,.45]),backIn:Ni([.31,.01,.66,-.59]),backOut:Ni([.33,1.53,.69,.99])};function mw(e,t){if(e)return typeof e=="function"?hw()?lw(e,t):"ease-out":Zv(e)?Ni(e):Array.isArray(e)?e.map(r=>mw(r,t)||Gx.easeOut):Gx[e]}function _k(e,t,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:l="loop",ease:o="easeOut",times:c}={},d=void 0){const u={[t]:r};c&&(u.offset=c);const h=mw(o,i);Array.isArray(h)&&(u.easing=h);const m={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"};return d&&(m.pseudoElement=d),e.animate(u,m)}function fw(e){return typeof e=="function"&&"applyToOptions"in e}function Ek({type:e,...t}){return fw(e)&&hw()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class Pk extends wm{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:a,allowFlatten:l=!1,finalKeyframe:o,onComplete:c}=t;this.isPseudoElement=!!a,this.allowFlatten=l,this.options=t,om(typeof t.type!="string");const d=Ek(t);this.animation=_k(r,n,i,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const u=vm(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):Sk(r,n,u),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Fs(Number(t))}get time(){return Fs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Is(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&kk()?(this.animation.timeline=t,hs):r(this)}}const xw={anticipate:Yv,backInOut:Gv,circInOut:Kv};function Mk(e){return e in xw}function Ak(e){typeof e.ease=="string"&&Mk(e.ease)&&(e.ease=xw[e.ease])}const Yx=10;class Rk extends Pk{constructor(t){Ak(t),cw(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:a,...l}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const o=new bm({...l,autoplay:!1}),c=Is(this.finishedTime??this.time);r.setWithVelocity(o.sample(c-Yx).value,o.sample(c).value,Yx),o.stop()}}const qx=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Cr.test(e)||e==="0")&&!e.startsWith("url("));function Lk(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function Dk(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],l=qx(i,t),o=qx(a,t);return!l||!o?!1:Lk(e)||(r==="spring"||fw(r))&&n}function Eu(e){e.duration=0,e.type}const Ik=new Set(["opacity","clipPath","filter","transform"]),Fk=cm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $k(e){var u;const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:a,type:l}=e;if(!(((u=t==null?void 0:t.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=t.owner.getProps();return Fk()&&r&&Ik.has(r)&&(r!=="transform"||!d)&&!c&&!n&&i!=="mirror"&&a!==0&&l!=="inertia"}const Vk=40;class Ok extends wm{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:l="loop",keyframes:o,name:c,motionValue:d,element:u,...h}){var y;super(),this.stop=()=>{var b,x;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(x=this.keyframeResolver)==null||x.cancel()},this.createdAt=zt.now();const m={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:l,name:c,motionValue:d,element:u,...h},v=(u==null?void 0:u.KeyframeResolver)||jm;this.keyframeResolver=new v(o,(b,x,f)=>this.onKeyframesResolved(b,x,m,!f),c,d,u),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:a,type:l,velocity:o,delay:c,isHandoff:d,onUpdate:u}=n;this.resolvedAt=zt.now(),Dk(t,a,l,o)||((Zs.instantAnimations||!c)&&(u==null||u(vm(t,n,r))),t[0]=t[t.length-1],Eu(n),n.repeat=0);const m={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Vk?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},v=!d&&$k(m)?new Rk({...m,element:m.motionValue.owner.current}):new bm(m);v.finished.then(()=>this.notifyFinished()).catch(hs),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),jk()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const zk=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Bk(e){const t=zk.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function pw(e,t,r=1){const[n,i]=Bk(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const l=a.trim();return $v(l)?parseFloat(l):l}return fm(i)?pw(i,t,r+1):i}function Nm(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const gw=new Set(["width","height","top","left","right","bottom",...ii]),Uk={test:e=>e==="auto",parse:e=>e},yw=e=>t=>t.test(e),vw=[ni,J,$s,tr,LS,RS,Uk],Kx=e=>vw.find(yw(e));function Hk(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Ov(e):!0}const Wk=new Set(["brightness","contrast","saturate","opacity"]);function Gk(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(xm)||[];if(!n)return e;const i=r.replace(n,"");let a=Wk.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+i+")"}const Yk=/\b([a-z-]*)\(.*?\)/gu,Pu={...Cr,getAnimatableNone:e=>{const t=e.match(Yk);return t?t.map(Gk).join(" "):e}},Qx={...ni,transform:Math.round},qk={rotate:tr,rotateX:tr,rotateY:tr,rotateZ:tr,scale:al,scaleX:al,scaleY:al,scaleZ:al,skew:tr,skewX:tr,skewY:tr,distance:J,translateX:J,translateY:J,translateZ:J,x:J,y:J,z:J,perspective:J,transformPerspective:J,opacity:ha,originX:Fx,originY:Fx,originZ:J},Sm={borderWidth:J,borderTopWidth:J,borderRightWidth:J,borderBottomWidth:J,borderLeftWidth:J,borderRadius:J,radius:J,borderTopLeftRadius:J,borderTopRightRadius:J,borderBottomRightRadius:J,borderBottomLeftRadius:J,width:J,maxWidth:J,height:J,maxHeight:J,top:J,right:J,bottom:J,left:J,padding:J,paddingTop:J,paddingRight:J,paddingBottom:J,paddingLeft:J,margin:J,marginTop:J,marginRight:J,marginBottom:J,marginLeft:J,backgroundPositionX:J,backgroundPositionY:J,...qk,zIndex:Qx,fillOpacity:ha,strokeOpacity:ha,numOctaves:Qx},Kk={...Sm,color:Ze,backgroundColor:Ze,outlineColor:Ze,fill:Ze,stroke:Ze,borderColor:Ze,borderTopColor:Ze,borderRightColor:Ze,borderBottomColor:Ze,borderLeftColor:Ze,filter:Pu,WebkitFilter:Pu},ww=e=>Kk[e];function bw(e,t){let r=ww(e);return r!==Pu&&(r=Cr),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Qk=new Set(["auto","none","0"]);function Zk(e,t,r){let n=0,i;for(;n<e.length&&!i;){const a=e[n];typeof a=="string"&&!Qk.has(a)&&ma(a).values.length&&(i=e[n]),n++}if(i&&r)for(const a of t)e[a]=bw(r,i)}class Xk extends jm{constructor(t,r,n,i,a){super(t,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let d=t[c];if(typeof d=="string"&&(d=d.trim(),fm(d))){const u=pw(d,r.current);u!==void 0&&(t[c]=u),c===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!gw.has(n)||t.length!==2)return;const[i,a]=t,l=Kx(i),o=Kx(a);if(l!==o)if(Wx(l)&&Wx(o))for(let c=0;c<t.length;c++){const d=t[c];typeof d=="string"&&(t[c]=parseFloat(d))}else Kr[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||Hk(t[i]))&&n.push(i);n.length&&Zk(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Kr[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var o;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const a=n.length-1,l=n[a];n[a]=Kr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([c,d])=>{t.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Jk(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let n=document;t&&(n=t.current);const i=(r==null?void 0:r[e])??n.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const jw=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Nw(e){return Vv(e)&&"offsetHeight"in e}const Zx=30,e5=e=>!isNaN(parseFloat(e));class t5{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var a;const i=zt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=zt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=e5(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new dm);const n=this.events[t].add(r);return t==="change"?()=>{n(),Pe.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=zt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Zx)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Zx);return zv(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yn(e,t){return new t5(e,t)}const{schedule:km,cancel:m8}=Xv(queueMicrotask,!1),gs={x:!1,y:!1};function Sw(){return gs.x||gs.y}function s5(e){return e==="x"||e==="y"?gs[e]?null:(gs[e]=!0,()=>{gs[e]=!1}):gs.x||gs.y?null:(gs.x=gs.y=!0,()=>{gs.x=gs.y=!1})}function kw(e,t){const r=Jk(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function Xx(e){return!(e.pointerType==="touch"||Sw())}function r5(e,t,r={}){const[n,i,a]=kw(e,r),l=o=>{if(!Xx(o))return;const{target:c}=o,d=t(c,o);if(typeof d!="function"||!c)return;const u=h=>{Xx(h)&&(d(h),c.removeEventListener("pointerleave",u))};c.addEventListener("pointerleave",u,i)};return n.forEach(o=>{o.addEventListener("pointerenter",l,i)}),a}const Cw=(e,t)=>t?e===t?!0:Cw(e,t.parentElement):!1,Cm=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,n5=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function i5(e){return n5.has(e.tagName)||e.tabIndex!==-1}const Ml=new WeakSet;function Jx(e){return t=>{t.key==="Enter"&&e(t)}}function Kc(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const a5=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Jx(()=>{if(Ml.has(r))return;Kc(r,"down");const i=Jx(()=>{Kc(r,"up")}),a=()=>Kc(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function e0(e){return Cm(e)&&!Sw()}function l5(e,t,r={}){const[n,i,a]=kw(e,r),l=o=>{const c=o.currentTarget;if(!e0(o))return;Ml.add(c);const d=t(c,o),u=(v,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",m),Ml.has(c)&&Ml.delete(c),e0(v)&&typeof d=="function"&&d(v,{success:y})},h=v=>{u(v,c===window||c===document||r.useGlobalTarget||Cw(c,v.target))},m=v=>{u(v,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",m,i)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",l,i),Nw(o)&&(o.addEventListener("focus",d=>a5(d,i)),!i5(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),a}function Tw(e){return Vv(e)&&"ownerSVGElement"in e}function o5(e){return Tw(e)&&e.tagName==="svg"}const kt=e=>!!(e&&e.getVelocity),c5=[...vw,Ze,Cr],d5=e=>c5.find(yw(e)),Tm=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class u5 extends g.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=Nw(n)&&n.offsetWidth||0,a=this.props.sizeRef.current;a.height=r.offsetHeight||0,a.width=r.offsetWidth||0,a.top=r.offsetTop,a.left=r.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h5({children:e,isPresent:t,anchorX:r,root:n}){const i=g.useId(),a=g.useRef(null),l=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=g.useContext(Tm);return g.useInsertionEffect(()=>{const{width:c,height:d,top:u,left:h,right:m}=l.current;if(t||!a.current||!c||!d)return;const v=r==="left"?`left: ${h}`:`right: ${m}`;a.current.dataset.motionPopId=i;const y=document.createElement("style");o&&(y.nonce=o);const b=n??document.head;return b.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${d}px !important;
            ${v}px !important;
            top: ${u}px !important;
          }
        `),()=>{b.contains(y)&&b.removeChild(y)}},[t]),s.jsx(u5,{isPresent:t,childRef:a,sizeRef:l,children:g.cloneElement(e,{ref:a})})}const m5=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:l,anchorX:o,root:c})=>{const d=nm(f5),u=g.useId();let h=!0,m=g.useMemo(()=>(h=!1,{id:u,initial:t,isPresent:r,custom:i,onExitComplete:v=>{d.set(v,!0);for(const y of d.values())if(!y)return;n&&n()},register:v=>(d.set(v,!1),()=>d.delete(v))}),[r,d,n]);return a&&h&&(m={...m}),g.useMemo(()=>{d.forEach((v,y)=>d.set(y,!1))},[r]),g.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),l==="popLayout"&&(e=s.jsx(h5,{isPresent:r,anchorX:o,root:c,children:e})),s.jsx(sc.Provider,{value:m,children:e})};function f5(){return new Map}function _w(e=!0){const t=g.useContext(sc);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,a=g.useId();g.useEffect(()=>{if(e)return i(a)},[e]);const l=g.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,l]:[!0]}const ll=e=>e.key||"";function t0(e){const t=[];return g.Children.forEach(e,r=>{g.isValidElement(r)&&t.push(r)}),t}const x5=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:l=!1,anchorX:o="left",root:c})=>{const[d,u]=_w(l),h=g.useMemo(()=>t0(e),[e]),m=l&&!d?[]:h.map(ll),v=g.useRef(!0),y=g.useRef(h),b=nm(()=>new Map),[x,f]=g.useState(h),[p,w]=g.useState(h);Fv(()=>{v.current=!1,y.current=h;for(let S=0;S<p.length;S++){const C=ll(p[S]);m.includes(C)?b.delete(C):b.get(C)!==!0&&b.set(C,!1)}},[p,m.length,m.join("-")]);const j=[];if(h!==x){let S=[...h];for(let C=0;C<p.length;C++){const T=p[C],L=ll(T);m.includes(L)||(S.splice(C,0,T),j.push(T))}return a==="wait"&&j.length&&(S=j),w(t0(S)),f(h),null}const{forceRender:k}=g.useContext(rm);return s.jsx(s.Fragment,{children:p.map(S=>{const C=ll(S),T=l&&!d?!1:h===p||m.includes(C),L=()=>{if(b.has(C))b.set(C,!0);else return;let A=!0;b.forEach(K=>{K||(A=!1)}),A&&(k==null||k(),w(y.current),l&&(u==null||u()),n&&n())};return s.jsx(m5,{isPresent:T,initial:!v.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:c,onExitComplete:T?void 0:L,anchorX:o,children:S},C)})})},Ew=g.createContext({strict:!1}),s0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},qn={};for(const e in s0)qn[e]={isEnabled:t=>s0[e].some(r=>!!t[r])};function p5(e){for(const t in e)qn[t]={...qn[t],...e[t]}}const g5=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||g5.has(e)}let Pw=e=>!vo(e);function y5(e){typeof e=="function"&&(Pw=t=>t.startsWith("on")?!vo(t):e(t))}try{y5(require("@emotion/is-prop-valid").default)}catch{}function v5(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(Pw(i)||r===!0&&vo(i)||!t&&!vo(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const rc=g.createContext({});function nc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function fa(e){return typeof e=="string"||Array.isArray(e)}const _m=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Em=["initial",..._m];function ic(e){return nc(e.animate)||Em.some(t=>fa(e[t]))}function Mw(e){return!!(ic(e)||e.variants)}function w5(e,t){if(ic(e)){const{initial:r,animate:n}=e;return{initial:r===!1||fa(r)?r:void 0,animate:fa(n)?n:void 0}}return e.inherit!==!1?t:{}}function b5(e){const{initial:t,animate:r}=w5(e,g.useContext(rc));return g.useMemo(()=>({initial:t,animate:r}),[r0(t),r0(r)])}function r0(e){return Array.isArray(e)?e.join(" "):e}const xa={};function j5(e){for(const t in e)xa[t]=e[t],mm(t)&&(xa[t].isCSSVariable=!0)}function Aw(e,{layout:t,layoutId:r}){return ai.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!xa[e]||e==="opacity")}const N5={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},S5=ii.length;function k5(e,t,r){let n="",i=!0;for(let a=0;a<S5;a++){const l=ii[a],o=e[l];if(o===void 0)continue;let c=!0;if(typeof o=="number"?c=o===(l.startsWith("scale")?1:0):c=parseFloat(o)===0,!c||r){const d=jw(o,Sm[l]);if(!c){i=!1;const u=N5[l]||l;n+=`${u}(${d}) `}r&&(t[l]=d)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function Pm(e,t,r){const{style:n,vars:i,transformOrigin:a}=e;let l=!1,o=!1;for(const c in t){const d=t[c];if(ai.has(c)){l=!0;continue}else if(mm(c)){i[c]=d;continue}else{const u=jw(d,Sm[c]);c.startsWith("origin")?(o=!0,a[c]=u):n[c]=u}}if(t.transform||(l||r?n.transform=k5(t,e.transform,r):n.transform&&(n.transform="none")),o){const{originX:c="50%",originY:d="50%",originZ:u=0}=a;n.transformOrigin=`${c} ${d} ${u}`}}const Mm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Rw(e,t,r){for(const n in t)!kt(t[n])&&!Aw(n,r)&&(e[n]=t[n])}function C5({transformTemplate:e},t){return g.useMemo(()=>{const r=Mm();return Pm(r,t,e),Object.assign({},r.vars,r.style)},[t])}function T5(e,t){const r=e.style||{},n={};return Rw(n,r,e),Object.assign(n,C5(e,t)),n}function _5(e,t){const r={},n=T5(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const E5={offset:"stroke-dashoffset",array:"stroke-dasharray"},P5={offset:"strokeDashoffset",array:"strokeDasharray"};function M5(e,t,r=1,n=0,i=!0){e.pathLength=1;const a=i?E5:P5;e[a.offset]=J.transform(-n);const l=J.transform(t),o=J.transform(r);e[a.array]=`${l} ${o}`}function Lw(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:a=1,pathOffset:l=0,...o},c,d,u){if(Pm(e,o,d),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:h,style:m}=e;h.transform&&(m.transform=h.transform,delete h.transform),(m.transform||h.transformOrigin)&&(m.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),m.transform&&(m.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete h.transformBox),t!==void 0&&(h.x=t),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),i!==void 0&&M5(h,i,a,l,!1)}const Dw=()=>({...Mm(),attrs:{}}),Iw=e=>typeof e=="string"&&e.toLowerCase()==="svg";function A5(e,t,r,n){const i=g.useMemo(()=>{const a=Dw();return Lw(a,t,Iw(n),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Rw(a,e.style,e),i.style={...a,...i.style}}return i}const R5=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Am(e){return typeof e!="string"||e.includes("-")?!1:!!(R5.indexOf(e)>-1||/[A-Z]/u.test(e))}function L5(e,t,r,{latestValues:n},i,a=!1){const o=(Am(e)?A5:_5)(t,n,i,e),c=v5(t,typeof e=="string",a),d=e!==g.Fragment?{...c,...o,ref:r}:{},{children:u}=t,h=g.useMemo(()=>kt(u)?u.get():u,[u]);return g.createElement(e,{...d,children:h})}function n0(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Rm(e,t,r,n){if(typeof t=="function"){const[i,a]=n0(n);t=t(r!==void 0?r:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=n0(n);t=t(r!==void 0?r:e.custom,i,a)}return t}function Al(e){return kt(e)?e.get():e}function D5({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:I5(r,n,i,e),renderState:t()}}function I5(e,t,r,n){const i={},a=n(e,{});for(const m in a)i[m]=Al(a[m]);let{initial:l,animate:o}=e;const c=ic(e),d=Mw(e);t&&d&&!c&&e.inherit!==!1&&(l===void 0&&(l=t.initial),o===void 0&&(o=t.animate));let u=r?r.initial===!1:!1;u=u||l===!1;const h=u?o:l;if(h&&typeof h!="boolean"&&!nc(h)){const m=Array.isArray(h)?h:[h];for(let v=0;v<m.length;v++){const y=Rm(e,m[v]);if(y){const{transitionEnd:b,transition:x,...f}=y;for(const p in f){let w=f[p];if(Array.isArray(w)){const j=u?w.length-1:0;w=w[j]}w!==null&&(i[p]=w)}for(const p in b)i[p]=b[p]}}}return i}const Fw=e=>(t,r)=>{const n=g.useContext(rc),i=g.useContext(sc),a=()=>D5(e,t,n,i);return r?a():nm(a)};function Lm(e,t,r){var a;const{style:n}=e,i={};for(const l in n)(kt(n[l])||t.style&&kt(t.style[l])||Aw(l,e)||((a=r==null?void 0:r.getValue(l))==null?void 0:a.liveStyle)!==void 0)&&(i[l]=n[l]);return i}const F5=Fw({scrapeMotionValuesFromProps:Lm,createRenderState:Mm});function $w(e,t,r){const n=Lm(e,t,r);for(const i in e)if(kt(e[i])||kt(t[i])){const a=ii.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=e[i]}return n}const $5=Fw({scrapeMotionValuesFromProps:$w,createRenderState:Dw}),V5=Symbol.for("motionComponentSymbol");function _n(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function O5(e,t,r){return g.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):_n(r)&&(r.current=n))},[t])}const Dm=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),z5="framerAppearId",Vw="data-"+Dm(z5),Ow=g.createContext({});function B5(e,t,r,n,i){var b,x;const{visualElement:a}=g.useContext(rc),l=g.useContext(Ew),o=g.useContext(sc),c=g.useContext(Tm).reducedMotion,d=g.useRef(null);n=n||l.renderer,!d.current&&n&&(d.current=n(e,{visualState:t,parent:a,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:c}));const u=d.current,h=g.useContext(Ow);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&U5(d.current,r,i,h);const m=g.useRef(!1);g.useInsertionEffect(()=>{u&&m.current&&u.update(r,o)});const v=r[Vw],y=g.useRef(!!v&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,v))&&((x=window.MotionHasOptimisedAnimation)==null?void 0:x.call(window,v)));return Fv(()=>{u&&(m.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),y.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(!y.current&&u.animationState&&u.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var f;(f=window.MotionHandoffMarkAsComplete)==null||f.call(window,v)}),y.current=!1),u.enteringChildren=void 0)}),u}function U5(e,t,r,n){const{layoutId:i,layout:a,drag:l,dragConstraints:o,layoutScroll:c,layoutRoot:d,layoutCrossfade:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:zw(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!l||o&&_n(o),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,crossfade:u,layoutScroll:c,layoutRoot:d})}function zw(e){if(e)return e.options.allowProjection!==!1?e.projection:zw(e.parent)}function Qc(e,{forwardMotionProps:t=!1}={},r,n){r&&p5(r);const i=Am(e)?$5:F5;function a(o,c){let d;const u={...g.useContext(Tm),...o,layoutId:H5(o)},{isStatic:h}=u,m=b5(o),v=i(o,h);if(!h&&im){W5();const y=G5(u);d=y.MeasureLayout,m.visualElement=B5(e,v,u,n,y.ProjectionNode)}return s.jsxs(rc.Provider,{value:m,children:[d&&m.visualElement?s.jsx(d,{visualElement:m.visualElement,...u}):null,L5(e,o,O5(v,m.visualElement,c),v,h,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=g.forwardRef(a);return l[V5]=e,l}function H5({layoutId:e}){const t=g.useContext(rm).id;return t&&e!==void 0?t+"-"+e:e}function W5(e,t){g.useContext(Ew).strict}function G5(e){const{drag:t,layout:r}=qn;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Y5(e,t){if(typeof Proxy>"u")return Qc;const r=new Map,n=(a,l)=>Qc(a,l,e,t),i=(a,l)=>n(a,l);return new Proxy(i,{get:(a,l)=>l==="create"?n:(r.has(l)||r.set(l,Qc(l,void 0,e,t)),r.get(l))})}function Bw({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function q5({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function K5(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Zc(e){return e===void 0||e===1}function Mu({scale:e,scaleX:t,scaleY:r}){return!Zc(e)||!Zc(t)||!Zc(r)}function $r(e){return Mu(e)||Uw(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Uw(e){return i0(e.x)||i0(e.y)}function i0(e){return e&&e!=="0%"}function wo(e,t,r){const n=e-r,i=t*n;return r+i}function a0(e,t,r,n,i){return i!==void 0&&(e=wo(e,i,n)),wo(e,r,n)+t}function Au(e,t=0,r=1,n,i){e.min=a0(e.min,t,r,n,i),e.max=a0(e.max,t,r,n,i)}function Hw(e,{x:t,y:r}){Au(e.x,t.translate,t.scale,t.originPoint),Au(e.y,r.translate,r.scale,r.originPoint)}const l0=.999999999999,o0=1.0000000000001;function Q5(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let a,l;for(let o=0;o<i;o++){a=r[o],l=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Pn(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Hw(e,l)),n&&$r(a.latestValues)&&Pn(e,a.latestValues))}t.x<o0&&t.x>l0&&(t.x=1),t.y<o0&&t.y>l0&&(t.y=1)}function En(e,t){e.min=e.min+t,e.max=e.max+t}function c0(e,t,r,n,i=.5){const a=Ae(e.min,e.max,i);Au(e,t,r,a,n)}function Pn(e,t){c0(e.x,t.x,t.scaleX,t.scale,t.originX),c0(e.y,t.y,t.scaleY,t.scale,t.originY)}function Ww(e,t){return Bw(K5(e.getBoundingClientRect(),t))}function Z5(e,t,r){const n=Ww(e,r),{scroll:i}=t;return i&&(En(n.x,i.offset.x),En(n.y,i.offset.y)),n}const d0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mn=()=>({x:d0(),y:d0()}),u0=()=>({min:0,max:0}),He=()=>({x:u0(),y:u0()}),Ru={current:null},Gw={current:!1};function X5(){if(Gw.current=!0,!!im)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ru.current=e.matches;e.addEventListener("change",t),t()}else Ru.current=!1}const J5=new WeakMap;function eC(e,t,r){for(const n in t){const i=t[n],a=r[n];if(kt(i))e.addValue(n,i);else if(kt(a))e.addValue(n,Yn(i,{owner:e}));else if(a!==i)if(e.hasValue(n)){const l=e.getValue(n);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=e.getStaticValue(n);e.addValue(n,Yn(l!==void 0?l:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const h0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tC{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:l},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=jm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=zt.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,Pe.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=l;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!a,this.isControllingVariants=ic(r),this.isVariantNode=Mw(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in h){const v=h[m];c[m]!==void 0&&kt(v)&&v.set(c[m])}}mount(t){var r;this.current=t,J5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),Gw.current||X5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ru.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),kr(this.notifyUpdate),kr(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ai.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Pe.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),a&&a(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in qn){const r=qn[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):He()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<h0.length;n++){const i=h0[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,l=t[a];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=eC(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Yn(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&($v(n)||Ov(n))?n=parseFloat(n):!d5(n)&&Cr.test(r)&&(n=bw(t,r)),this.setBaseTarget(t,kt(n)?n.get():n)),kt(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var a;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const l=Rm(this.props,r,(a=this.presenceContext)==null?void 0:a.custom);l&&(n=l[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!kt(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new dm),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){km.render(this.render)}}class Yw extends tC{constructor(){super(...arguments),this.KeyframeResolver=Xk}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;kt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function qw(e,{style:t,vars:r},n,i){const a=e.style;let l;for(l in t)a[l]=t[l];i==null||i.applyProjectionStyles(a,n);for(l in r)a.setProperty(l,r[l])}function sC(e){return window.getComputedStyle(e)}class rC extends Yw{constructor(){super(...arguments),this.type="html",this.renderInstance=qw}readValueFromInstance(t,r){var n;if(ai.has(r))return(n=this.projection)!=null&&n.isProjecting?Su(r):gk(t,r);{const i=sC(t),a=(mm(r)?i.getPropertyValue(r):i[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Ww(t,r)}build(t,r,n){Pm(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Lm(t,r,n)}}const Kw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function nC(e,t,r,n){qw(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(Kw.has(i)?i:Dm(i),t.attrs[i])}class iC extends Yw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=He}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ai.has(r)){const n=ww(r);return n&&n.default||0}return r=Kw.has(r)?r:Dm(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return $w(t,r,n)}build(t,r,n){Lw(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){nC(t,r,n,i)}mount(t){this.isSVGTag=Iw(t.tagName),super.mount(t)}}const aC=(e,t)=>Am(e)?new iC(t):new rC(t,{allowProjection:e!==g.Fragment});function Vn(e,t,r){const n=e.getProps();return Rm(n,t,r!==void 0?r:n.custom,e)}const Lu=e=>Array.isArray(e);function lC(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Yn(r))}function oC(e){return Lu(e)?e[e.length-1]||0:e}function cC(e,t){const r=Vn(e,t);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const l in a){const o=oC(a[l]);lC(e,l,o)}}function dC(e){return!!(kt(e)&&e.add)}function Du(e,t){const r=e.getValue("willChange");if(dC(r))return r.add(t);if(!r&&Zs.WillChange){const n=new Zs.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function Qw(e){return e.props[Vw]}const uC=e=>e!==null;function hC(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(uC),a=t&&r!=="loop"&&t%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const mC={type:"spring",stiffness:500,damping:25,restSpeed:10},fC=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),xC={type:"keyframes",duration:.8},pC={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},gC=(e,{keyframes:t})=>t.length>2?xC:ai.has(e)?e.startsWith("scale")?fC(t[1]):mC:pC;function yC({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:l,repeatDelay:o,from:c,elapsed:d,...u}){return!!Object.keys(u).length}const Im=(e,t,r,n={},i,a)=>l=>{const o=Nm(n,e)||{},c=o.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Is(c);const u={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-d,onUpdate:m=>{t.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{l(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:a?void 0:i};yC(o)||Object.assign(u,gC(e,u)),u.duration&&(u.duration=Is(u.duration)),u.repeatDelay&&(u.repeatDelay=Is(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let h=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(Eu(u),u.delay===0&&(h=!0)),(Zs.instantAnimations||Zs.skipAnimations)&&(h=!0,Eu(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,h&&!a&&t.get()!==void 0){const m=hC(u.keyframes,o);if(m!==void 0){Pe.update(()=>{u.onUpdate(m),u.onComplete()});return}}return o.isSync?new bm(u):new Ok(u)};function vC({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Zw(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:l,...o}=t;n&&(a=n);const c=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const u in o){const h=e.getValue(u,e.latestValues[u]??null),m=o[u];if(m===void 0||d&&vC(d,u))continue;const v={delay:r,...Nm(a||{},u)},y=h.get();if(y!==void 0&&!h.isAnimating&&!Array.isArray(m)&&m===y&&!v.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const f=Qw(e);if(f){const p=window.MotionHandoffAnimation(f,u,Pe);p!==null&&(v.startTime=p,b=!0)}}Du(e,u),h.start(Im(u,h,m,e.shouldReduceMotion&&gw.has(u)?{type:!1}:v,e,b));const x=h.animation;x&&c.push(x)}return l&&Promise.all(c).then(()=>{Pe.update(()=>{l&&cC(e,l)})}),c}function Xw(e,t,r,n=0,i=1){const a=Array.from(e).sort((d,u)=>d.sortNodePosition(u)).indexOf(t),l=e.size,o=(l-1)*n;return typeof r=="function"?r(a,l):i===1?a*n:o-a*n}function Iu(e,t,r={}){var c;const n=Vn(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const a=n?()=>Promise.all(Zw(e,n,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:u=0,staggerChildren:h,staggerDirection:m}=i;return wC(e,t,d,u,h,m,r)}:()=>Promise.resolve(),{when:o}=i;if(o){const[d,u]=o==="beforeChildren"?[a,l]:[l,a];return d().then(()=>u())}else return Promise.all([a(),l(r.delay)])}function wC(e,t,r=0,n=0,i=0,a=1,l){const o=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),o.push(Iu(c,t,{...l,delay:r+(typeof n=="function"?0:n)+Xw(e.variantChildren,c,n,i,a)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(o)}function bC(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(a=>Iu(e,a,r));n=Promise.all(i)}else if(typeof t=="string")n=Iu(e,t,r);else{const i=typeof t=="function"?Vn(e,t,r.custom):t;n=Promise.all(Zw(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function Jw(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const jC=Em.length;function e1(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?e1(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<jC;r++){const n=Em[r],i=e.props[n];(fa(i)||i===!1)&&(t[n]=i)}return t}const NC=[..._m].reverse(),SC=_m.length;function kC(e){return t=>Promise.all(t.map(({animation:r,options:n})=>bC(e,r,n)))}function CC(e){let t=kC(e),r=m0(),n=!0;const i=c=>(d,u)=>{var m;const h=Vn(e,u,c==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);if(h){const{transition:v,transitionEnd:y,...b}=h;d={...d,...b,...y}}return d};function a(c){t=c(e)}function l(c){const{props:d}=e,u=e1(e.parent)||{},h=[],m=new Set;let v={},y=1/0;for(let x=0;x<SC;x++){const f=NC[x],p=r[f],w=d[f]!==void 0?d[f]:u[f],j=fa(w),k=f===c?p.isActive:null;k===!1&&(y=x);let S=w===u[f]&&w!==d[f]&&j;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),p.protectedKeys={...v},!p.isActive&&k===null||!w&&!p.prevProp||nc(w)||typeof w=="boolean")continue;const C=TC(p.prevProp,w);let T=C||f===c&&p.isActive&&!S&&j||x>y&&j,L=!1;const A=Array.isArray(w)?w:[w];let K=A.reduce(i(f),{});k===!1&&(K={});const{prevResolvedValues:Y={}}=p,Z={...Y,...K},te=E=>{T=!0,m.has(E)&&(L=!0,m.delete(E)),p.needsAnimating[E]=!0;const _=e.getValue(E);_&&(_.liveStyle=!1)};for(const E in Z){const _=K[E],D=Y[E];if(v.hasOwnProperty(E))continue;let z=!1;Lu(_)&&Lu(D)?z=!Jw(_,D):z=_!==D,z?_!=null?te(E):m.add(E):_!==void 0&&m.has(E)?te(E):p.protectedKeys[E]=!0}p.prevProp=w,p.prevResolvedValues=K,p.isActive&&(v={...v,...K}),n&&e.blockInitialAnimation&&(T=!1);const G=S&&C;T&&(!G||L)&&h.push(...A.map(E=>{const _={type:f};if(typeof E=="string"&&n&&!G&&e.manuallyAnimateOnMount&&e.parent){const{parent:D}=e,z=Vn(D,E);if(D.enteringChildren&&z){const{delayChildren:M}=z.transition||{};_.delay=Xw(D.enteringChildren,e,M)}}return{animation:E,options:_}}))}if(m.size){const x={};if(typeof d.initial!="boolean"){const f=Vn(e,Array.isArray(d.initial)?d.initial[0]:d.initial);f&&f.transition&&(x.transition=f.transition)}m.forEach(f=>{const p=e.getBaseTarget(f),w=e.getValue(f);w&&(w.liveStyle=!0),x[f]=p??null}),h.push({animation:x})}let b=!!h.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(h):Promise.resolve()}function o(c,d){var h;if(r[c].isActive===d)return Promise.resolve();(h=e.variantChildren)==null||h.forEach(m=>{var v;return(v=m.animationState)==null?void 0:v.setActive(c,d)}),r[c].isActive=d;const u=l(c);for(const m in r)r[m].protectedKeys={};return u}return{animateChanges:l,setActive:o,setAnimateFunction:a,getState:()=>r,reset:()=>{r=m0(),n=!0}}}function TC(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Jw(t,e):!1}function Lr(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function m0(){return{animate:Lr(!0),whileInView:Lr(),whileHover:Lr(),whileTap:Lr(),whileDrag:Lr(),whileFocus:Lr(),exit:Lr()}}class Mr{constructor(t){this.isMounted=!1,this.node=t}update(){}}class _C extends Mr{constructor(t){super(t),t.animationState||(t.animationState=CC(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();nc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let EC=0;class PC extends Mr{constructor(){super(...arguments),this.id=EC++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const MC={animation:{Feature:_C},exit:{Feature:PC}};function pa(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Ia(e){return{point:{x:e.pageX,y:e.pageY}}}const AC=e=>t=>Cm(t)&&e(t,Ia(t));function Fi(e,t,r,n){return pa(e,t,AC(r),n)}const t1=1e-4,RC=1-t1,LC=1+t1,s1=.01,DC=0-s1,IC=0+s1;function Lt(e){return e.max-e.min}function FC(e,t,r){return Math.abs(e-t)<=r}function f0(e,t,r,n=.5){e.origin=n,e.originPoint=Ae(t.min,t.max,e.origin),e.scale=Lt(r)/Lt(t),e.translate=Ae(r.min,r.max,e.origin)-e.originPoint,(e.scale>=RC&&e.scale<=LC||isNaN(e.scale))&&(e.scale=1),(e.translate>=DC&&e.translate<=IC||isNaN(e.translate))&&(e.translate=0)}function $i(e,t,r,n){f0(e.x,t.x,r.x,n?n.originX:void 0),f0(e.y,t.y,r.y,n?n.originY:void 0)}function x0(e,t,r){e.min=r.min+t.min,e.max=e.min+Lt(t)}function $C(e,t,r){x0(e.x,t.x,r.x),x0(e.y,t.y,r.y)}function p0(e,t,r){e.min=t.min-r.min,e.max=e.min+Lt(t)}function Vi(e,t,r){p0(e.x,t.x,r.x),p0(e.y,t.y,r.y)}function ns(e){return[e("x"),e("y")]}const r1=({current:e})=>e?e.ownerDocument.defaultView:null,g0=(e,t)=>Math.abs(e-t);function VC(e,t){const r=g0(e.x,t.x),n=g0(e.y,t.y);return Math.sqrt(r**2+n**2)}class n1{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=Jc(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,y=VC(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!y)return;const{point:b}=m,{timestamp:x}=ft;this.history.push({...b,timestamp:x});const{onStart:f,onMove:p}=this.handlers;v||(f&&f(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=Xc(v,this.transformPagePoint),Pe.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{this.end();const{onEnd:y,onSessionEnd:b,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Jc(m.type==="pointercancel"?this.lastMoveEventInfo:Xc(v,this.transformPagePoint),this.history);this.startEvent&&y&&y(m,f),b&&b(m,f)},!Cm(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=i||window;const o=Ia(t),c=Xc(o,this.transformPagePoint),{point:d}=c,{timestamp:u}=ft;this.history=[{...d,timestamp:u}];const{onSessionStart:h}=r;h&&h(t,Jc(c,this.history)),this.removeListeners=Ra(Fi(this.contextWindow,"pointermove",this.handlePointerMove),Fi(this.contextWindow,"pointerup",this.handlePointerUp),Fi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),kr(this.updatePoint)}}function Xc(e,t){return t?{point:t(e.point)}:e}function y0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Jc({point:e},t){return{point:e,delta:y0(e,i1(t)),offset:y0(e,OC(t)),velocity:zC(t,.1)}}function OC(e){return e[0]}function i1(e){return e[e.length-1]}function zC(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=i1(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Is(t)));)r--;if(!n)return{x:0,y:0};const a=Fs(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const l={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function BC(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ae(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ae(r,e,n.max):Math.min(e,r)),e}function v0(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function UC(e,{top:t,left:r,bottom:n,right:i}){return{x:v0(e.x,r,i),y:v0(e.y,t,n)}}function w0(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function HC(e,t){return{x:w0(e.x,t.x),y:w0(e.y,t.y)}}function WC(e,t){let r=.5;const n=Lt(e),i=Lt(t);return i>n?r=ua(t.min,t.max-n,e.min):n>i&&(r=ua(e.min,e.max-i,t.min)),Qs(0,1,r)}function GC(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Fu=.35;function YC(e=Fu){return e===!1?e=0:e===!0&&(e=Fu),{x:b0(e,"left","right"),y:b0(e,"top","bottom")}}function b0(e,t,r){return{min:j0(e,t),max:j0(e,r)}}function j0(e,t){return typeof e=="number"?e:e[t]||0}const qC=new WeakMap;class KC{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=He(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ia(h).point)},l=(h,m)=>{const{drag:v,dragPropagation:y,onDragStart:b}=this.getProps();if(v&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=s5(v),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ns(f=>{let p=this.getAxisMotionValue(f).get()||0;if($s.test(p)){const{projection:w}=this.visualElement;if(w&&w.layout){const j=w.layout.layoutBox[f];j&&(p=Lt(j)*(parseFloat(p)/100))}}this.originPoint[f]=p}),b&&Pe.postRender(()=>b(h,m)),Du(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m;const{dragPropagation:v,dragDirectionLock:y,onDirectionLock:b,onDrag:x}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:f}=m;if(y&&this.currentDirection===null){this.currentDirection=QC(f),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",m.point,f),this.updateAxis("y",m.point,f),this.visualElement.render(),x&&x(h,m)},c=(h,m)=>{this.latestPointerEvent=h,this.latestPanInfo=m,this.stop(h,m),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ns(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)==null?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new n1(t,{onSessionStart:a,onStart:l,onMove:o,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:r1(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!n)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:o}=this.getProps();o&&Pe.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!ol(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=BC(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&_n(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=UC(n.layoutBox,t):this.constraints=!1,this.elastic=YC(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ns(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=GC(n.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!_n(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Z5(n,i.root,this.visualElement.getTransformPagePoint());let l=HC(i.layout.layoutBox,a);if(r){const o=r(q5(l));this.hasMutatedConstraints=!!o,o&&(l=Bw(o))}return l}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},d=ns(u=>{if(!ol(u,r,this.currentDirection))return;let h=c&&c[u]||{};l&&(h={min:0,max:0});const m=i?200:1e6,v=i?40:1e7,y={type:"inertia",velocity:n?t[u]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(u,y)});return Promise.all(d).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Du(this.visualElement,t),n.start(Im(t,n,0,r,this.visualElement,!1))}stopAnimation(){ns(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ns(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ns(r=>{const{drag:n}=this.getProps();if(!ol(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:l,max:o}=i.layout.layoutBox[r];a.set(t[r]-Ae(l,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!_n(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ns(l=>{const o=this.getAxisMotionValue(l);if(o&&this.constraints!==!1){const c=o.get();i[l]=WC({min:c,max:c},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ns(l=>{if(!ol(l,t,null))return;const o=this.getAxisMotionValue(l),{min:c,max:d}=this.constraints[l];o.set(Ae(c,d,i[l]))})}addListeners(){if(!this.visualElement.current)return;qC.set(this.visualElement,this);const t=this.visualElement.current,r=Fi(t,"pointerdown",c=>{const{drag:d,dragListener:u=!0}=this.getProps();d&&u&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();_n(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Pe.read(n);const l=pa(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ns(u=>{const h=this.getAxisMotionValue(u);h&&(this.originPoint[u]+=c[u].translate,h.set(h.get()+c[u].translate))}),this.visualElement.render())});return()=>{l(),r(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:l=Fu,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:l,dragMomentum:o}}}function ol(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function QC(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class ZC extends Mr{constructor(t){super(t),this.removeGroupControls=hs,this.removeListeners=hs,this.controls=new KC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||hs}unmount(){this.removeGroupControls(),this.removeListeners()}}const N0=e=>(t,r)=>{e&&Pe.postRender(()=>e(t,r))};class XC extends Mr{constructor(){super(...arguments),this.removePointerDownListener=hs}onPointerDown(t){this.session=new n1(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:r1(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:N0(t),onStart:N0(r),onMove:n,onEnd:(a,l)=>{delete this.session,i&&Pe.postRender(()=>i(a,l))}}}mount(){this.removePointerDownListener=Fi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Rl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function S0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(J.test(e))e=parseFloat(e);else return e;const r=S0(e,t.target.x),n=S0(e,t.target.y);return`${r}% ${n}%`}},JC={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Cr.parse(e);if(i.length>5)return n;const a=Cr.createTransformer(e),l=typeof i[0]!="number"?1:0,o=r.x.scale*t.x,c=r.y.scale*t.y;i[0+l]/=o,i[1+l]/=c;const d=Ae(o,c,.5);return typeof i[2+l]=="number"&&(i[2+l]/=d),typeof i[3+l]=="number"&&(i[3+l]/=d),a(i)}};let ed=!1;class e6 extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=t;j5(t6),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),ed&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Rl.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,{projection:l}=n;return l&&(l.isPresent=a,ed=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==a?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||Pe.postRender(()=>{const o=l.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),km.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;ed=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function a1(e){const[t,r]=_w(),n=g.useContext(rm);return s.jsx(e6,{...e,layoutGroup:n,switchLayoutGroup:g.useContext(Ow),isPresent:t,safeToRemove:r})}const t6={borderRadius:{...yi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yi,borderTopRightRadius:yi,borderBottomLeftRadius:yi,borderBottomRightRadius:yi,boxShadow:JC};function s6(e,t,r){const n=kt(e)?e:Yn(e);return n.start(Im("",n,t,r)),n.animation}const r6=(e,t)=>e.depth-t.depth;class n6{constructor(){this.children=[],this.isDirty=!1}add(t){am(this.children,t),this.isDirty=!0}remove(t){lm(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(r6),this.isDirty=!1,this.children.forEach(t)}}function i6(e,t){const r=zt.now(),n=({timestamp:i})=>{const a=i-r;a>=t&&(kr(n),e(a-t))};return Pe.setup(n,!0),()=>kr(n)}const l1=["TopLeft","TopRight","BottomLeft","BottomRight"],a6=l1.length,k0=e=>typeof e=="string"?parseFloat(e):e,C0=e=>typeof e=="number"||J.test(e);function l6(e,t,r,n,i,a){i?(e.opacity=Ae(0,r.opacity??1,o6(n)),e.opacityExit=Ae(t.opacity??1,0,c6(n))):a&&(e.opacity=Ae(t.opacity??1,r.opacity??1,n));for(let l=0;l<a6;l++){const o=`border${l1[l]}Radius`;let c=T0(t,o),d=T0(r,o);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||C0(c)===C0(d)?(e[o]=Math.max(Ae(k0(c),k0(d),n),0),($s.test(d)||$s.test(c))&&(e[o]+="%")):e[o]=d}(t.rotate||r.rotate)&&(e.rotate=Ae(t.rotate||0,r.rotate||0,n))}function T0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const o6=o1(0,.5,qv),c6=o1(.5,.95,hs);function o1(e,t,r){return n=>n<e?0:n>t?1:r(ua(e,t,n))}function _0(e,t){e.min=t.min,e.max=t.max}function ss(e,t){_0(e.x,t.x),_0(e.y,t.y)}function E0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function P0(e,t,r,n,i){return e-=t,e=wo(e,1/r,n),i!==void 0&&(e=wo(e,1/i,n)),e}function d6(e,t=0,r=1,n=.5,i,a=e,l=e){if($s.test(t)&&(t=parseFloat(t),t=Ae(l.min,l.max,t/100)-l.min),typeof t!="number")return;let o=Ae(a.min,a.max,n);e===a&&(o-=t),e.min=P0(e.min,t,r,o,i),e.max=P0(e.max,t,r,o,i)}function M0(e,t,[r,n,i],a,l){d6(e,t[r],t[n],t[i],t.scale,a,l)}const u6=["x","scaleX","originX"],h6=["y","scaleY","originY"];function A0(e,t,r,n){M0(e.x,t,u6,r?r.x:void 0,n?n.x:void 0),M0(e.y,t,h6,r?r.y:void 0,n?n.y:void 0)}function R0(e){return e.translate===0&&e.scale===1}function c1(e){return R0(e.x)&&R0(e.y)}function L0(e,t){return e.min===t.min&&e.max===t.max}function m6(e,t){return L0(e.x,t.x)&&L0(e.y,t.y)}function D0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function d1(e,t){return D0(e.x,t.x)&&D0(e.y,t.y)}function I0(e){return Lt(e.x)/Lt(e.y)}function F0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class f6{constructor(){this.members=[]}add(t){am(this.members,t),t.scheduleRender()}remove(t){if(lm(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function x6(e,t,r){let n="";const i=e.x.translate/t.x,a=e.y.translate/t.y,l=(r==null?void 0:r.z)||0;if((i||a||l)&&(n=`translate3d(${i}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:d,rotate:u,rotateX:h,rotateY:m,skewX:v,skewY:y}=r;d&&(n=`perspective(${d}px) ${n}`),u&&(n+=`rotate(${u}deg) `),h&&(n+=`rotateX(${h}deg) `),m&&(n+=`rotateY(${m}deg) `),v&&(n+=`skewX(${v}deg) `),y&&(n+=`skewY(${y}deg) `)}const o=e.x.scale*t.x,c=e.y.scale*t.y;return(o!==1||c!==1)&&(n+=`scale(${o}, ${c})`),n||"none"}const td=["","X","Y","Z"],p6=1e3;let g6=0;function sd(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function u1(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=Qw(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Pe,!(i||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&u1(n)}function h1({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(l={},o=t==null?void 0:t()){this.id=g6++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(w6),this.nodes.forEach(S6),this.nodes.forEach(k6),this.nodes.forEach(b6)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new n6)}addEventListener(l,o){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new dm),this.eventHandlers.get(l).add(o)}notifyListeners(l,...o){const c=this.eventHandlers.get(l);c&&c.notify(...o)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Tw(l)&&!o5(l),this.instance=l;const{layoutId:o,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||o)&&(this.isLayoutDirty=!0),e){let u,h=0;const m=()=>this.root.updateBlockedByResize=!1;Pe.read(()=>{h=window.innerWidth}),e(l,()=>{const v=window.innerWidth;v!==h&&(h=v,this.root.updateBlockedByResize=!0,u&&u(),u=i6(m,250),Rl.hasAnimatedSinceResize&&(Rl.hasAnimatedSinceResize=!1,this.nodes.forEach(O0)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&d&&(o||c)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||P6,{onLayoutAnimationStart:b,onLayoutAnimationComplete:x}=d.getProps(),f=!this.targetLayout||!d1(this.targetLayout,v),p=!h&&m;if(this.options.layoutRoot||this.resumeFrom||p||h&&(f||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...Nm(y,"layout"),onPlay:b,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(u,p)}else h||O0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),kr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(C6),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&u1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const h=this.path[u];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($0);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(V0);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(N6),this.nodes.forEach(y6),this.nodes.forEach(v6)):this.nodes.forEach(V0),this.clearAllSnapshots();const o=zt.now();ft.delta=Qs(0,1e3/60,o-ft.timestamp),ft.timestamp=o,ft.isProcessing=!0,Hc.update.process(ft),Hc.preRender.process(ft),Hc.render.process(ft),ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,km.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(j6),this.sharedNodes.forEach(T6)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Pe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Pe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Lt(this.snapshot.measuredBox.x)&&!Lt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=He(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(o=!1),o&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!c1(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,u=d!==this.prevTransformTemplateValue;l&&this.instance&&(o||$r(this.latestValues)||u)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return l&&(c=this.removeTransform(c)),M6(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:l}=this.options;if(!l)return He();const o=l.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(A6))){const{scroll:u}=this.root;u&&(En(o.x,u.offset.x),En(o.y,u.offset.y))}return o}removeElementScroll(l){var c;const o=He();if(ss(o,l),(c=this.scroll)!=null&&c.wasRoot)return o;for(let d=0;d<this.path.length;d++){const u=this.path[d],{scroll:h,options:m}=u;u!==this.root&&h&&m.layoutScroll&&(h.wasRoot&&ss(o,l),En(o.x,h.offset.x),En(o.y,h.offset.y))}return o}applyTransform(l,o=!1){const c=He();ss(c,l);for(let d=0;d<this.path.length;d++){const u=this.path[d];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Pn(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),$r(u.latestValues)&&Pn(c,u.latestValues)}return $r(this.latestValues)&&Pn(c,this.latestValues),c}removeTransform(l){const o=He();ss(o,l);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!$r(d.latestValues))continue;Mu(d.latestValues)&&d.updateSnapshot();const u=He(),h=d.measurePageBox();ss(u,h),A0(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,u)}return $r(this.latestValues)&&A0(o,this.latestValues),o}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var m;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==o;if(!(l||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=ft.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),Vi(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=He(),this.targetWithTransforms=He()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$C(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ss(this.target,this.layout.layoutBox),Hw(this.target,this.targetDelta)):ss(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=He(),this.relativeTargetOrigin=He(),Vi(this.relativeTargetOrigin,this.target,v.target),ss(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Mu(this.parent.latestValues)||Uw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var y;const l=this.getLead(),o=!!this.resumingFrom||this!==l;let c=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(c=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ft.timestamp&&(c=!1),c)return;const{layout:d,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||u))return;ss(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;Q5(this.layoutCorrected,this.treeScale,this.path,o),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=He());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(E0(this.prevProjectionDelta.x,this.projectionDelta.x),E0(this.prevProjectionDelta.y,this.projectionDelta.y)),$i(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==m||!F0(this.projectionDelta.x,this.prevProjectionDelta.x)||!F0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mn(),this.projectionDelta=Mn(),this.projectionDeltaWithTransform=Mn()}setAnimationOrigin(l,o=!1){const c=this.snapshot,d=c?c.latestValues:{},u={...this.latestValues},h=Mn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=He(),v=c?c.source:void 0,y=this.layout?this.layout.source:void 0,b=v!==y,x=this.getStack(),f=!x||x.members.length<=1,p=!!(b&&!f&&this.options.crossfade===!0&&!this.path.some(E6));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const k=j/1e3;z0(h.x,l.x,k),z0(h.y,l.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vi(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_6(this.relativeTarget,this.relativeTargetOrigin,m,k),w&&m6(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=He()),ss(w,this.relativeTarget)),b&&(this.animationValues=u,l6(u,d,this.latestValues,k,p,f)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var o,c,d;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(kr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Pe.update(()=>{Rl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Yn(0)),this.currentAnimation=s6(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),l.onUpdate&&l.onUpdate(u)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(p6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:o,target:c,layout:d,latestValues:u}=l;if(!(!o||!c||!d)){if(this!==l&&this.layout&&d&&m1(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||He();const h=Lt(this.layout.layoutBox.x);c.x.min=l.target.x.min,c.x.max=c.x.min+h;const m=Lt(this.layout.layoutBox.y);c.y.min=l.target.y.min,c.y.max=c.y.min+m}ss(o,c),Pn(o,u),$i(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(l,o){this.sharedNodes.has(l)||this.sharedNodes.set(l,new f6),this.sharedNodes.get(l).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:o,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),l&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let o=!1;const{latestValues:c}=l;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(o=!0),!o)return;const d={};c.z&&sd("z",l,d,this.animationValues);for(let u=0;u<td.length;u++)sd(`rotate${td[u]}`,l,d,this.animationValues),sd(`skew${td[u]}`,l,d,this.animationValues);l.render();for(const u in d)l.setStaticValue(u,d[u]),this.animationValues&&(this.animationValues[u]=d[u]);l.scheduleRender()}applyProjectionStyles(l,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Al(o==null?void 0:o.pointerEvents)||"",l.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Al(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!$r(this.latestValues)&&(l.transform=c?c({},""):"none",this.hasProjected=!1);return}l.visibility="";const u=d.animationValues||d.latestValues;this.applyTransformsToTarget();let h=x6(this.projectionDeltaWithTransform,this.treeScale,u);c&&(h=c(u,h)),l.transform=h;const{x:m,y:v}=this.projectionDelta;l.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,d.animationValues?l.opacity=d===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:l.opacity=d===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const y in xa){if(u[y]===void 0)continue;const{correct:b,applyTo:x,isCSSVariable:f}=xa[y],p=h==="none"?u[y]:b(u[y],d);if(x){const w=x.length;for(let j=0;j<w;j++)l[x[j]]=p}else f?this.options.visualElement.renderState.vars[y]=p:l[y]=p}this.options.layoutId&&(l.pointerEvents=d===this?Al(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var o;return(o=l.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach($0),this.root.sharedNodes.clear()}}}function y6(e){e.updateLayout()}function v6(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:a}=e.options,l=t.source!==e.layout.source;a==="size"?ns(h=>{const m=l?t.measuredBox[h]:t.layoutBox[h],v=Lt(m);m.min=n[h].min,m.max=m.min+v}):m1(a,t.layoutBox,n)&&ns(h=>{const m=l?t.measuredBox[h]:t.layoutBox[h],v=Lt(n[h]);m.max=m.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+v)});const o=Mn();$i(o,n,t.layoutBox);const c=Mn();l?$i(c,e.applyTransform(i,!0),t.measuredBox):$i(c,n,t.layoutBox);const d=!c1(o);let u=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:m,layout:v}=h;if(m&&v){const y=He();Vi(y,t.layoutBox,m.layoutBox);const b=He();Vi(b,n,v.layoutBox),d1(y,b)||(u=!0),h.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=y,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function w6(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function b6(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function j6(e){e.clearSnapshot()}function $0(e){e.clearMeasurements()}function V0(e){e.isLayoutDirty=!1}function N6(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function O0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function S6(e){e.resolveTargetDelta()}function k6(e){e.calcProjection()}function C6(e){e.resetSkewAndRotation()}function T6(e){e.removeLeadSnapshot()}function z0(e,t,r){e.translate=Ae(t.translate,0,r),e.scale=Ae(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function B0(e,t,r,n){e.min=Ae(t.min,r.min,n),e.max=Ae(t.max,r.max,n)}function _6(e,t,r,n){B0(e.x,t.x,r.x,n),B0(e.y,t.y,r.y,n)}function E6(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const P6={duration:.45,ease:[.4,0,.1,1]},U0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),H0=U0("applewebkit/")&&!U0("chrome/")?Math.round:hs;function W0(e){e.min=H0(e.min),e.max=H0(e.max)}function M6(e){W0(e.x),W0(e.y)}function m1(e,t,r){return e==="position"||e==="preserve-aspect"&&!FC(I0(t),I0(r),.2)}function A6(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const R6=h1({attachResizeListener:(e,t)=>pa(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rd={current:void 0},f1=h1({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!rd.current){const e=new R6({});e.mount(window),e.setOptions({layoutScroll:!0}),rd.current=e}return rd.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),L6={pan:{Feature:XC},drag:{Feature:ZC,ProjectionNode:f1,MeasureLayout:a1}};function G0(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&Pe.postRender(()=>a(t,Ia(t)))}class D6 extends Mr{mount(){const{current:t}=this.node;t&&(this.unmount=r5(t,(r,n)=>(G0(this.node,n,"Start"),i=>G0(this.node,i,"End"))))}unmount(){}}class I6 extends Mr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ra(pa(this.node.current,"focus",()=>this.onFocus()),pa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Y0(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&Pe.postRender(()=>a(t,Ia(t)))}class F6 extends Mr{mount(){const{current:t}=this.node;t&&(this.unmount=l5(t,(r,n)=>(Y0(this.node,n,"Start"),(i,{success:a})=>Y0(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const $u=new WeakMap,nd=new WeakMap,$6=e=>{const t=$u.get(e.target);t&&t(e)},V6=e=>{e.forEach($6)};function O6({root:e,...t}){const r=e||document;nd.has(r)||nd.set(r,{});const n=nd.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(V6,{root:e,...t})),n[i]}function z6(e,t,r){const n=O6(t);return $u.set(e,r),n.observe(e),()=>{$u.delete(e),n.unobserve(e)}}const B6={some:0,all:1};class U6 extends Mr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=t,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:B6[i]},o=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:u,onViewportLeave:h}=this.node.getProps(),m=d?u:h;m&&m(c)};return z6(this.node.current,l,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(H6(t,r))&&this.startObserver()}unmount(){}}function H6({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const W6={inView:{Feature:U6},tap:{Feature:F6},focus:{Feature:I6},hover:{Feature:D6}},G6={layout:{ProjectionNode:f1,MeasureLayout:a1}},Y6={...MC,...W6,...L6,...G6},re=Y5(Y6,aC),q6=()=>{const e=new Date().getFullYear(),[t,r]=g.useState(null),[n,i]=g.useState(!1);g.useEffect(()=>{const y=new IntersectionObserver(([x])=>i(x.isIntersecting),{threshold:.1}),b=document.querySelector("#cineflix-footer");return b&&y.observe(b),()=>y.disconnect()},[]);const a=[{name:"Home",href:"/",icon:By,badge:"12 New"},{name:"Movies",href:"/movies",icon:Ce,badge:"Latest"},{name:"TV Shows",href:"/tv-shows",icon:la,badge:"5 Episodes"},{name:"Documentaries",href:"/documentaries",icon:$n},{name:"Originals",href:"/originals",icon:lo,badge:"Exclusive"},{name:"Collections",href:"/collections",icon:ne},{name:"New & Popular",href:"/new-popular",icon:nn},{name:"Coming Soon",href:"/coming-soon",icon:gt,badge:"Preview"}],l=[{name:"My List",href:"/my-list",icon:$y,count:"24"},{name:"Watch History",href:"/history",icon:yt,count:"156"},{name:"Continue Watching",href:"/continue",icon:de,count:"8"},{name:"Downloaded",href:"/downloads",icon:Rt,count:"12"},{name:"Favorites",href:"/favorites",icon:rt,count:"43"},{name:"Watch Later",href:"/watch-later",icon:Ds,count:"31"},{name:"Family Profiles",href:"/profiles",icon:ds},{name:"Viewing Stats",href:"/stats",icon:Yr}],o=[{name:"Reviews & Ratings",href:"/reviews",icon:ne},{name:"Discussion Forums",href:"/forums",icon:px},{name:"Watch Parties",href:"/watch-parties",icon:ds},{name:"Friend Activity",href:"/friends",icon:qr},{name:"Share & Recommend",href:"/share",icon:qr},{name:"CineFlix Blog",href:"/blog",icon:$n},{name:"Creator Spotlights",href:"/creators",icon:ia},{name:"Fan Communities",href:"/communities",icon:ds}],c=[{name:"Quality Settings",href:"/settings/quality",icon:Gy},{name:"Download Management",href:"/settings/downloads",icon:Rt},{name:"Accessibility Options",href:"/settings/accessibility",icon:aN},{name:"Data & Privacy",href:"/settings/privacy",icon:$h},{name:"Account Security",href:"/settings/security",icon:MN}],d=[{name:"Help Center",href:"/help",icon:xx},{name:"Community Support",href:"/community-help",icon:ds},{name:"Feature Requests",href:"/feature-requests",icon:_N},{name:"Developer API",href:"/api",icon:fN},{name:"Contact Us",href:"/contact",icon:px}],u=[{name:"Facebook",icon:yN,href:"https://facebook.com/simoabidx",color:"#1877F2"},{name:"Twitter",icon:WN,href:"https://twitter.com/SeeMooAbid",color:"#1DA1F2"},{name:"Instagram",icon:TN,href:"https://instagram.com/simoabiid",color:"#E4405F"},{name:"Discord",icon:DN,href:"https://discord.gg/seemoo.a",color:"#5865F2"},{name:"LinkedIn",icon:EN,href:"https://linkedin.com/company/mohamed-amine-abidd",color:"#0A66C2"},{name:"GitHub",icon:SN,href:"https://github.com/simoabid",color:"#333"}],h=[{name:"Search",icon:Ct,action:()=>{}},{name:"Notifications",icon:Fy,action:()=>{},badge:"3"},{name:"Profile",icon:Mt,action:()=>{}}],m=y=>{r(t===y?null:y)},v=({title:y,links:b,sectionKey:x,showCounts:f=!1,showBadges:p=!1})=>{const w=t===x;return s.jsxs("div",{className:"footer-section",children:[s.jsxs("button",{onClick:()=>m(x),className:"flex items-center justify-between w-full text-left group md:pointer-events-none",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 group-hover:text-netflix-red transition-colors duration-300 flex items-center gap-2",children:[s.jsx(Vh,{className:"w-5 h-5 text-netflix-red"}),y]}),s.jsx(ei,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 md:hidden ${w?"rotate-180":""}`})]}),s.jsx(x5,{children:(w||typeof window<"u"&&window.innerWidth>=768)&&s.jsx(re.ul,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3,ease:"easeInOut"},className:"space-y-4",children:b.map((j,k)=>s.jsx(re.li,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:k*.05},children:s.jsxs("a",{href:j.href,className:"group flex items-center gap-3 text-gray-400 hover:text-white transition-all duration-300 hover:translate-x-2",children:[s.jsx(j.icon,{className:"w-4 h-4 text-netflix-red group-hover:scale-110 transition-transform duration-300"}),s.jsx("span",{className:"flex-1",children:j.name}),f&&j.count&&s.jsx("span",{className:"bg-netflix-red text-white text-xs px-2 py-1 rounded-full font-medium",children:j.count}),p&&j.badge&&s.jsx("span",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-black text-xs px-2 py-1 rounded-full font-bold",children:j.badge})]})},j.name))})})]})};return s.jsxs("footer",{id:"cineflix-footer",className:"relative bg-gradient-to-br from-[#0a071f] via-[#0b1633] to-[#050713] border-t border-gray-800/50 overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-5",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-netflix-dark-purple/25 via-netflix-purple-blue/15 to-netflix-deep-blue/25"}),s.jsx(re.div,{className:"absolute inset-0",animate:{backgroundPosition:["0% 0%","100% 100%"]},transition:{duration:20,repeat:1/0,repeatType:"reverse"},style:{backgroundImage:"radial-gradient(circle at 1px 1px, rgba(76, 110, 245, 0.18) 1px, transparent 0)",backgroundSize:"50px 50px"}})]}),s.jsxs("div",{className:"relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:n?1:0,y:n?0:20},transition:{duration:.6},className:"py-12 border-b border-gray-800/50",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-8",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(re.div,{className:"text-4xl font-black bg-gradient-to-r from-netflix-red via-red-500 to-netflix-red bg-clip-text text-transparent",whileHover:{scale:1.05},transition:{type:"spring",stiffness:300},children:"CINEFLIX"}),s.jsx(re.div,{className:"absolute -bottom-1 left-0 h-1 bg-gradient-to-r from-netflix-red to-transparent",initial:{width:0},animate:{width:n?"100%":0},transition:{duration:1,delay:.3}})]}),s.jsxs("div",{className:"hidden lg:block text-sm text-gray-400",children:[s.jsx("p",{className:"font-medium",children:"Premium Streaming Experience"}),s.jsx("p",{className:"text-xs",children:"Unlimited Entertainment"})]})]}),s.jsx("div",{className:"flex items-center gap-4",children:h.map(y=>s.jsxs(re.button,{whileHover:{scale:1.1},whileTap:{scale:.95},className:"relative p-3 bg-gray-800/50 hover:bg-netflix-red/20 rounded-full transition-colors duration-300 group",onClick:y.action,children:[s.jsx(y.icon,{className:"w-5 h-5 text-gray-400 group-hover:text-netflix-red transition-colors duration-300"}),y.badge&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-netflix-red text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-bold",children:y.badge})]},y.name))})]})}),s.jsx(re.div,{initial:{opacity:0,y:30},animate:{opacity:n?1:0,y:n?0:30},transition:{duration:.8,delay:.2},className:"py-16",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 lg:gap-16",children:[s.jsx(v,{title:"Smart Browse",links:a,sectionKey:"browse",showBadges:!0}),s.jsx(v,{title:"My CineFlix",links:l,sectionKey:"mycineflix",showCounts:!0}),s.jsx(v,{title:"Community & Social",links:o,sectionKey:"community"}),s.jsx(v,{title:"Premium Features",links:c,sectionKey:"premium"})]})}),s.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:n?1:0,y:n?0:20},transition:{duration:.6,delay:.4},className:"py-12 border-t border-gray-800/50",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(xx,{className:"w-5 h-5 text-netflix-red"}),"Support & Resources"]}),s.jsx("ul",{className:"space-y-4",children:d.map(y=>s.jsx("li",{children:s.jsxs("a",{href:y.href,className:"group flex items-center gap-3 text-gray-400 hover:text-white transition-all duration-300",children:[s.jsx(y.icon,{className:"w-4 h-4 text-netflix-red group-hover:scale-110 transition-transform duration-300"}),y.name]})},y.name))})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(qt,{className:"w-5 h-5 text-netflix-red"}),"Language & Accessibility"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsxs("select",{className:"w-full bg-gray-800/50 text-gray-300 px-4 py-3 pr-10 rounded-lg border border-gray-700 hover:border-netflix-red focus:outline-none focus:ring-2 focus:ring-netflix-red focus:border-netflix-red appearance-none cursor-pointer transition-colors duration-300",defaultValue:"en",children:[s.jsx("option",{value:"en",children:" English"}),s.jsx("option",{value:"es",children:" Espaol"}),s.jsx("option",{value:"fr",children:" Franais"}),s.jsx("option",{value:"de",children:" Deutsch"}),s.jsx("option",{value:"ja",children:" "}),s.jsx("option",{value:"ko",children:" "}),s.jsx("option",{value:"zh",children:" "})]}),s.jsx(qt,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"px-3 py-1 bg-gray-800/50 text-xs rounded-full text-gray-400",children:"Subtitles"}),s.jsx("span",{className:"px-3 py-1 bg-gray-800/50 text-xs rounded-full text-gray-400",children:"Audio Description"}),s.jsx("span",{className:"px-3 py-1 bg-gray-800/50 text-xs rounded-full text-gray-400",children:"High Contrast"})]})]})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-6 flex items-center gap-2",children:[s.jsx(qr,{className:"w-5 h-5 text-netflix-red"}),"Connect With Us"]}),s.jsx("div",{className:"grid grid-cols-3 gap-4",children:u.map(y=>s.jsxs(re.a,{href:y.href,target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.1,y:-2},whileTap:{scale:.95},className:"group p-4 bg-gray-800/50 hover:bg-gray-700/50 rounded-xl transition-all duration-300 flex flex-col items-center gap-2",style:{"--social-color":y.color},children:[s.jsx(y.icon,{className:"w-6 h-6 text-gray-400 group-hover:text-white transition-colors duration-300"}),s.jsx("span",{className:"text-xs text-gray-500 group-hover:text-gray-300 transition-colors duration-300",children:y.name})]},y.name))})]})]})}),s.jsx(re.div,{initial:{opacity:0},animate:{opacity:n?1:0},transition:{duration:.6,delay:.6},className:"py-8 border-t border-gray-800/50",children:s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[s.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-gray-400",children:[s.jsx("a",{href:"/terms",className:"hover:text-white transition-colors duration-300",children:"Terms of Service"}),s.jsx("a",{href:"/privacy",className:"hover:text-white transition-colors duration-300",children:"Privacy Policy"}),s.jsx("a",{href:"/cookies",className:"hover:text-white transition-colors duration-300",children:"Cookie Settings"}),s.jsx("a",{href:"/legal",className:"hover:text-white transition-colors duration-300",children:"Legal Notices"})]}),s.jsxs("div",{className:"text-sm text-gray-500",children:[s.jsxs("p",{children:[" ",e," CINEFLIX, Inc. All rights reserved."]}),s.jsx("p",{className:"text-xs mt-1",children:"Built with  by ABID.Dev for movie lovers worldwide "})]})]})}),s.jsxs(re.button,{initial:{opacity:0,y:20,scale:.8},animate:{opacity:n?1:0,y:n?0:20,scale:n?1:.8},transition:{type:"spring",stiffness:260,damping:20,opacity:{duration:.3}},whileHover:{scale:1.05,y:-2,transition:{duration:.2}},whileTap:{scale:.9,transition:{duration:.1}},onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-6 right-6 z-50 group",children:[s.jsxs("div",{className:"relative p-4 bg-gradient-to-br from-netflix-red via-red-500 to-red-600 hover:from-red-500 hover:via-red-600 hover:to-red-700 rounded-2xl shadow-2xl backdrop-blur-sm border border-red-400/20 transition-all duration-500 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 transform -skew-x-12 translate-x-full group-hover:translate-x-0"}),s.jsx("div",{className:"absolute inset-0 rounded-2xl",children:s.jsx("div",{className:"absolute inset-0 rounded-2xl bg-netflix-red animate-ping opacity-20"})}),s.jsx("div",{className:"relative z-10",children:s.jsx(Oy,{className:"w-6 h-6 text-white group-hover:text-white/90 transition-all duration-300 group-hover:scale-110 drop-shadow-sm"})}),s.jsx("div",{className:"absolute inset-0 rounded-2xl shadow-inner opacity-30"})]}),s.jsxs("div",{className:"absolute bottom-full right-0 mb-2 px-3 py-1 bg-gray-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap pointer-events-none",children:["Back to top",s.jsx("div",{className:"absolute top-full right-4 w-0 h-0 border-l-4 border-r-4 border-t-4 border-l-transparent border-r-transparent border-t-gray-900"})]})]})]})]})},ac=({logoPath:e,title:t,size:r="md",className:n="",textClassName:i="",priority:a="logo",maxHeight:l,onLogoLoad:o,onLogoError:c,contentId:d,contentType:u,enableOnDemandFetch:h=!0})=>{const[m,v]=g.useState(!1),[y,b]=g.useState(!1),[x,f]=g.useState(!1),[p,w]=g.useState(null),[j,k]=g.useState(!1),C={sm:{logoSize:"w185",maxHeight:l||"max-h-12",textSize:"text-sm",minHeight:"min-h-[2rem]"},md:{logoSize:"w300",maxHeight:l||"max-h-16",textSize:"text-base",minHeight:"min-h-[3rem]"},lg:{logoSize:"w500",maxHeight:l||"max-h-20",textSize:"text-lg",minHeight:"min-h-[4rem]"},xl:{logoSize:"original",maxHeight:l||"max-h-24",textSize:"text-xl",minHeight:"min-h-[5rem]"}}[r];g.useEffect(()=>{(async()=>{if(!(!h||!d||!u||j)&&!(e||p)){k(!0);try{const{logoCache:Y}=await oa(()=>import("./logoCache-60c269ae.js"),[]),Z=Y.getLogo(d,u);if(Z){w(Z.logoPath),Z.logoPath&&f(!0);return}const{getMovieDetails:te,getTVShowDetails:G}=await oa(()=>Promise.resolve().then(()=>lS),void 0),q=u==="movie"?await te(d):await G(d);w(q.logo_path||null),q.logo_path&&f(!0)}catch(Y){console.warn(`Failed to fetch logo for ${u} ${d}:`,Y),w(null)}finally{k(!1)}}})()},[d,u,h,e,p,j]),g.useEffect(()=>{f(!!((e||p)&&a==="logo"))},[e,p,a]);const T=()=>{v(!0),b(!1),o==null||o()},L=()=>{b(!0),v(!1),f(!1),c==null||c()},A=e||p;return!A||y||!x?s.jsx("div",{className:`flex items-center justify-center ${C.minHeight} ${n}`,children:s.jsx("h1",{className:`
            font-bold text-white leading-tight text-center
            ${C.textSize}
            ${i}
            drop-shadow-[0_2px_8px_rgba(0,0,0,0.8)]
            text-shadow-lg
          `,style:{textShadow:"2px 2px 4px rgba(0,0,0,0.8), 0 0 20px rgba(0,0,0,0.5)"},children:t})}):s.jsxs("div",{className:`logo-container ${C.minHeight} ${n}`,children:[s.jsx("img",{src:bv(A,C.logoSize),alt:t,className:`
          w-auto h-auto object-contain transition-all duration-500
          ${C.maxHeight}
          ${m?"opacity-100 scale-100":"opacity-0 scale-95"}
          logo-glow logo-glow-hover
        `,onLoad:T,onError:L,loading:"eager"}),!m&&!y&&s.jsx("div",{className:`
            absolute inset-0 flex items-center justify-center
            transition-opacity duration-300
            ${m?"opacity-0":"opacity-100"}
          `,children:s.jsx("h1",{className:`
              font-bold text-white leading-tight text-center
              ${C.textSize}
              ${i}
              drop-shadow-[0_2px_8px_rgba(0,0,0,0.8)]
            `,style:{textShadow:"2px 2px 4px rgba(0,0,0,0.8), 0 0 20px rgba(0,0,0,0.5)"},children:t})})]})},Fa=({content:e,contentType:t,variant:r="icon",className:n="",showText:i=!0})=>{const{isInList:a,toggleInList:l}=tc(),[o,c]=g.useState(!1),d=a(e.id,t),u=async v=>{v.preventDefault(),v.stopPropagation(),c(!0);try{await l(e,t)}catch(y){console.error("Error toggling list item:",y)}finally{c(!1)}},h=()=>o?s.jsxs(s.Fragment,{children:[s.jsx(PN,{className:"w-4 h-4 animate-spin"}),i&&r!=="icon"&&s.jsx("span",{children:"Loading..."})]}):d?s.jsxs(s.Fragment,{children:[s.jsx(Vy,{className:"w-4 h-4"}),i&&r!=="icon"&&s.jsx("span",{children:"In My List"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Ds,{className:"w-4 h-4"}),i&&r!=="icon"&&s.jsx("span",{children:"Add to List"})]}),m=()=>{const v="transition-all duration-200 flex items-center gap-2";switch(r){case"icon":return`${v} p-2 rounded-full ${d?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-800/80 hover:bg-gray-700 text-white hover:text-netflix-red"} ${n}`;case"button":return`${v} px-4 py-2 rounded-lg font-medium ${d?"bg-green-600 hover:bg-green-700 text-white":"bg-netflix-red hover:bg-red-700 text-white"} ${n}`;case"card":return`${v} px-3 py-2 rounded-md text-sm ${d?"bg-green-600/20 text-green-400 border border-green-600/30":"bg-gray-800/80 text-white hover:bg-netflix-red/20 hover:text-netflix-red border border-gray-600"} ${n}`;default:return`${v} ${n}`}};return s.jsx("button",{onClick:u,disabled:o,className:m(),title:d?"Remove from My List":"Add to My List",children:h()})},$a=({content:e,contentType:t,variant:r="icon",className:n="",showText:i=!1,size:a="md"})=>{const[l,o]=g.useState(!1),[c,d]=g.useState(!1);g.useEffect(()=>{o(We.isLiked(e.id,t))},[e.id,t]);const u=async v=>{v.preventDefault(),v.stopPropagation(),d(!0);try{l?(We.unlikeContent(e.id,t),o(!1)):(We.likeContent(e,t),o(!0))}catch(y){console.error("Error toggling like:",y)}finally{d(!1)}},h=()=>{switch(a){case"sm":return"w-8 h-8";case"lg":return"w-12 h-12";default:return"w-10 h-10"}},m=()=>{switch(a){case"sm":return"w-4 h-4";case"lg":return"w-6 h-6";default:return"w-5 h-5"}};return r==="button"?s.jsxs("button",{onClick:u,disabled:c,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-300 ${l?"bg-red-600 hover:bg-red-700 text-white":"bg-gray-800/90 hover:bg-red-600 text-white border border-white/30 hover:border-red-500"} ${c?"opacity-50 cursor-not-allowed":"hover:scale-105"} ${n}`,children:[s.jsx(rt,{className:`${m()} transition-all duration-300 ${l?"fill-current text-white":"text-white"}`}),i&&s.jsx("span",{className:"text-sm font-medium",children:l?"Liked":"Like"})]}):s.jsxs("button",{onClick:u,disabled:c,className:`${h()} rounded-full flex items-center justify-center transition-all duration-300 ${l?"bg-red-600 hover:bg-red-700 text-white shadow-lg shadow-red-500/25":"bg-gray-800/90 hover:bg-red-600 text-white border border-white/30 hover:border-red-500"} ${c?"opacity-50 cursor-not-allowed":"hover:scale-110 hover:shadow-lg"} ${n}`,title:l?"Unlike":"Like",children:[s.jsx(rt,{className:`${m()} transition-all duration-300 ${l?"fill-current text-white scale-110":"text-white"}`}),i&&s.jsx("span",{className:"ml-2 text-xs font-medium",children:l?"Liked":"Like"})]})},K6="/fallback-poster.jpg",ga=(e,t=K6)=>{const r=e.currentTarget;r.src=t,r.onerror=null},cl=400,Q6=330,Z6=({item:e,mediaType:t,anchorRect:r,visible:n,onMouseEnterPreview:i,onMouseLeavePreview:a})=>{const l=Cs(),[o,c]=g.useState(!1),[d,u]=g.useState(!1),h=g.useRef(null),m=g.useRef(null),v=g.useRef(null);g.useEffect(()=>{c(!0)},[]),g.useEffect(()=>{if(o)return n?(m.current&&(window.clearTimeout(m.current),m.current=null),h.current=window.setTimeout(()=>{u(!0)},500)):(h.current&&(window.clearTimeout(h.current),h.current=null),m.current=window.setTimeout(()=>{u(!1)},300)),()=>{h.current&&window.clearTimeout(h.current),m.current&&window.clearTimeout(m.current)}},[n,o]);const y=g.useMemo(()=>{const j=r.left+r.width/2-cl/2,k=Math.max(12,Math.min(window.innerWidth-cl-12,j)),S=r.top-16,C=Math.max(12,Math.min(window.innerHeight-Q6-12,S));return{left:k,top:C}},[r]);if(!o)return null;const b=e.title||e.name||"",x=(()=>{const w=e.release_date||e.first_air_date;return w?new Date(w).getFullYear():""})(),f=typeof e.vote_average=="number"?e.vote_average:void 0,p=w=>{if(!v.current)return;const j=v.current.style.pointerEvents;v.current.style.pointerEvents="none";const k=document.elementFromPoint(w.clientX,w.clientY);v.current.style.pointerEvents=j;let S=k;for(;S&&S!==document.body;){const C=S.scrollWidth>S.clientWidth,L=window.getComputedStyle(S).overflowX;if(C&&(L==="auto"||L==="scroll"||L==="overlay"))break;S=S.parentElement}if(S&&S!==document.body){w.preventDefault();const C=Math.abs(w.deltaX)>Math.abs(w.deltaY)?w.deltaX:w.deltaY;S.scrollLeft+=C}};return ky.createPortal(s.jsx("div",{className:"fixed z-[60] pointer-events-auto",style:{left:y.left,top:y.top,width:cl},onPointerEnter:i,onPointerLeave:a,children:s.jsxs("div",{ref:v,className:`relative rounded-2xl overflow-hidden ring-1 ring-white/10 bg-gray-900/70 backdrop-blur-xl shadow-2xl transition-all duration-[1000ms] ease-[cubic-bezier(0.16,1,0.3,1)] transform-gpu ${d?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-[0.92] translate-y-6"} cursor-pointer`,onClick:()=>e.id&&l(`/${t}/${e.id}`),onKeyDown:w=>{(w.key==="Enter"||w.key===" ")&&e.id&&(w.preventDefault(),l(`/${t}/${e.id}`))},role:"button",tabIndex:0,onWheel:p,style:{transformOrigin:`${Math.round((r.left+r.width/2-y.left)/cl*100)}% top`,willChange:"transform, opacity"},children:[s.jsxs("div",{className:"relative h-36 w-full",children:[s.jsx("img",{src:ze(e.backdrop_path||e.poster_path||null,"w780"),alt:b,className:"absolute inset-0 w-full h-full object-cover",onError:ga,loading:"lazy"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/30 to-transparent"}),typeof f=="number"&&s.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 backdrop-blur-sm rounded-md px-2 py-1 flex items-center gap-1 text-white text-xs font-medium",children:[s.jsx(ne,{className:"w-3 h-3 text-yellow-400 fill-yellow-400"}),f.toFixed(1)]})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("img",{src:ze(e.poster_path||null,"w342"),alt:b,className:"w-20 h-28 object-cover rounded-lg ring-1 ring-white/10",onError:ga,loading:"lazy"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("h3",{className:"text-white text-lg font-semibold leading-tight line-clamp-2",children:b}),s.jsx("span",{className:"text-[10px] font-bold px-2 py-1 rounded bg-black/70 text-white tracking-wide",children:t==="movie"?"MOVIE":"TV"})]}),s.jsxs("div",{className:"mt-1 text-xs text-gray-300 flex items-center gap-2",children:[x&&s.jsx("span",{children:x}),typeof f=="number"&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[f.toFixed(1)," "]})]})]}),s.jsx("p",{className:"mt-2 text-sm text-gray-300 line-clamp-3",children:e.overview})]})]}),s.jsxs("div",{className:"mt-4 flex items-center gap-3",onClick:w=>w.stopPropagation(),onKeyDown:w=>w.stopPropagation(),children:[s.jsxs("button",{onClick:w=>{w.stopPropagation(),e.id&&l(`/watch/${t}/${e.id}`)},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white text-black font-medium shadow hover:shadow-lg transition-all duration-300 hover:scale-105",children:[s.jsx(de,{className:"w-4 h-4"}),"Play"]}),s.jsx(Fa,{content:e,contentType:t,variant:"button",className:"bg-black/40 text-white border border-white/20 hover:bg-black/60",showText:!0}),s.jsx($a,{content:e,contentType:t,variant:"button",className:"bg-black/40 text-white border border-white/20 hover:bg-black/60",showText:!0})]})]})]})}),document.body)},Vu={lastPointerMove:Date.now(),lastWheel:0};let q0=!1;function X6(){q0||(q0=!0,document.addEventListener("pointermove",()=>{Vu.lastPointerMove=Date.now()},{passive:!0}),document.addEventListener("wheel",()=>{Vu.lastWheel=Date.now()},{passive:!0}))}function K0(){return X6(),Vu}const J6={hoverDelay:180,pointerMoveThreshold:120,wheelThreshold:250};function eT(e){const t={...J6,...e},{hoverDelay:r,pointerMoveThreshold:n,wheelThreshold:i}=t,[a,l]=g.useState(!1),o=g.useRef(null);g.useEffect(()=>{const v=()=>{o.current&&(window.clearTimeout(o.current),o.current=null),l(!1)};return document.addEventListener("wheel",v,{passive:!0}),()=>{document.removeEventListener("wheel",v),o.current&&(window.clearTimeout(o.current),o.current=null)}},[]);const c=g.useCallback(()=>{o.current&&(window.clearTimeout(o.current),o.current=null),l(!1)},[]),d=g.useCallback(()=>{const v=K0(),y=Date.now(),b=y-v.lastPointerMove<n;y-v.lastWheel<i&&!b||(o.current=window.setTimeout(()=>{const f=K0(),p=Date.now(),w=p-f.lastPointerMove<n;if(p-f.lastWheel<i&&!w){o.current=null;return}o.current=null,l(!0)},r))},[r,n,i]),u=g.useCallback(()=>{c()},[c]),h=g.useCallback(()=>{o.current&&(window.clearTimeout(o.current),o.current=null),l(!0)},[]),m=g.useCallback(()=>{l(!1)},[]);return{visible:a,onPointerEnter:d,onPointerLeave:u,onFocus:h,onBlur:m,cancel:c}}const tT=({item:e,mediaType:t,size:r="md",showTitleBelow:n=!0,className:i=""})=>{const[a,l]=g.useState(!1),[o,c]=g.useState(!1),d=g.useRef(null),{isMobile:u,isTablet:h}=ka(),m=!u&&!h,{visible:v,onPointerEnter:y,onPointerLeave:b,onFocus:x,onBlur:f}=eT({hoverDelay:180,pointerMoveThreshold:120,wheelThreshold:250}),p=t||(e.media_type==="tv"?"tv":"movie"),w=e.title||e.name||"",j=(()=>{const C=e.release_date||e.first_air_date;return C?new Date(C).getFullYear():""})(),k=typeof e.vote_average=="number"?e.vote_average:void 0,S=r==="sm"?"w-32 sm:w-36 md:w-40 lg:w-48":"w-36 sm:w-40 md:w-48 lg:w-64";return s.jsxs("div",{ref:d,className:`relative flex-shrink-0 ${S} ${i}`,onPointerEnter:m?y:void 0,onPointerLeave:m?b:void 0,onFocus:m?x:void 0,onBlur:m?f:void 0,tabIndex:m?0:void 0,children:[s.jsx(xe,{to:`/${p}/${e.id}`,className:"block outline-none focus-visible:ring-2 focus-visible:ring-netflix-red rounded-xl",children:s.jsxs("div",{className:"relative aspect-[2/3] overflow-hidden rounded-xl shadow-lg ring-1 ring-white/10 bg-white/5 backdrop-blur-md transition-all duration-300 ease-out",children:[!a&&s.jsxs("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-800/60 to-gray-900/80",children:[s.jsx("div",{className:"absolute inset-0 animate-pulse bg-gradient-to-r from-transparent via-white/10 to-transparent -skew-x-12 animate-shimmer"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-800/40 to-gray-900/60"})]}),s.jsx("img",{src:ze(e.poster_path||null,"w500"),alt:w,className:`w-full h-full object-cover transition-all duration-700 ease-out ${a?"opacity-100 scale-100":"opacity-0 scale-105"}`,onError:ga,onLoad:()=>l(!0),loading:"lazy"}),s.jsx("div",{className:"absolute top-2 left-2 z-10",children:s.jsx("span",{className:"text-[10px] font-bold px-2 py-1 rounded bg-black/70 text-white tracking-wide",children:p==="movie"?"MOVIE":"TV"})}),typeof k=="number"&&k>0&&s.jsxs("div",{className:"absolute top-2 right-2 bg-black/70 backdrop-blur-sm rounded-md px-2 py-1 flex items-center gap-1 text-white text-xs font-medium",children:[s.jsx(ne,{className:"w-3 h-3 text-yellow-400 fill-yellow-400"}),k.toFixed(1)]})]})}),n&&s.jsxs("div",{className:"mt-2 px-0.5",children:[s.jsx("h5",{className:"text-white/90 text-sm font-semibold line-clamp-2 hover:text-netflix-red transition-colors",children:w}),s.jsxs("div",{className:"text-[11px] text-gray-400 mt-0.5 flex items-center gap-2",children:[j&&s.jsx("span",{children:j}),typeof k=="number"&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[k.toFixed(1)," "]})]})]})]}),m&&d.current&&(v||o)&&s.jsx(Z6,{item:e,mediaType:p,anchorRect:d.current.getBoundingClientRect(),visible:v||o,onMouseEnterPreview:()=>c(!0),onMouseLeavePreview:()=>c(!1)})]})},x1=ln.memo(({items:e,type:t,cardsLoaded:r})=>s.jsx(s.Fragment,{children:e.map((n,i)=>s.jsx("div",{className:`transition-all duration-700 ease-out ${r?"opacity-100 translate-y-0 scale-100":"opacity-0 translate-y-6 scale-95"}`,style:{transitionDelay:`${Math.min(i*100,800)}ms`,willChange:"transform, opacity"},children:s.jsx(tT,{item:n,mediaType:t,size:"sm",showTitleBelow:!0,className:"cursor-pointer"})},n.id))}));x1.displayName="ContentCarouselItems";const p1=ln.memo(({itemsLength:e,scrollProgress:t,onDotClick:r})=>{if(e<=5)return null;const n=Math.min(Math.ceil(e/5),10);return s.jsx("div",{className:"mt-2 mb-1 flex justify-center gap-2",children:Array.from({length:n}).map((i,a)=>{const l=Math.max(n-1,1),o=a/l*100,c=t>=o-10&&t<=o+10,d=t>o+10;return s.jsx("button",{onClick:()=>r(o),className:`transition-all duration-300 rounded-full ${c?"w-10 h-2.5 bg-netflix-red":d?"w-2.5 h-2.5 bg-netflix-red/60":"w-2.5 h-2.5 bg-gray-600/40 hover:bg-gray-500/60"}`,"aria-label":`Go to section ${a+1}`},a)})})});p1.displayName="ScrollDots";const dt=({title:e,items:t,type:r})=>{const n=g.useRef(null),i=g.useRef(null),[a,l]=g.useState(!1),[o,c]=g.useState(!0),[d,u]=g.useState(!1),[h,m]=g.useState(!1),[v,y]=g.useState(!1),[b,x]=g.useState(0),f=g.useRef(),p=g.useRef({canScrollLeft:!1,canScrollRight:!0,scrollProgress:0}),w=g.useCallback(()=>{const S=n.current;if(!S)return;const{scrollLeft:C,scrollWidth:T,clientWidth:L}=S,A=T-L,K=C>0,Y=C<A-10,Z=A>0?C/A*100:0,te=Math.min(Math.max(Z,0),100);p.current.canScrollLeft!==K&&(p.current.canScrollLeft=K,l(K)),p.current.canScrollRight!==Y&&(p.current.canScrollRight=Y,c(Y)),Math.abs(p.current.scrollProgress-te)>=1&&(p.current.scrollProgress=te,x(te))},[]);g.useEffect(()=>{const S=new IntersectionObserver(C=>{C.forEach(T=>{T.isIntersecting&&(m(!0),setTimeout(()=>{y(!0)},200),S.unobserve(T.target))})},{threshold:.1,rootMargin:"50px 0px -50px 0px"});return i.current&&S.observe(i.current),()=>{S.disconnect()}},[]),g.useEffect(()=>{w();const S=n.current;if(S){const C=()=>{f.current&&cancelAnimationFrame(f.current),f.current=requestAnimationFrame(w)};return S.addEventListener("scroll",C,{passive:!0}),()=>{f.current&&cancelAnimationFrame(f.current),S.removeEventListener("scroll",C)}}},[t,w]);const j=g.useCallback(S=>{const C=n.current;if(!C)return;const T=window.innerWidth>768?600:300,L=C.scrollLeft,A=S==="left"?L-T:L+T;C.scrollTo({left:A,behavior:"smooth"})},[]),k=g.useCallback(S=>{const C=n.current;if(!C)return;const{scrollWidth:T,clientWidth:L}=C,A=T-L,K=S/100*A;C.scrollTo({left:K,behavior:"smooth"})},[]);return s.jsxs("div",{ref:i,className:`relative px-4 md:px-8 py-0 transition-all duration-1000 ease-out ${h?"opacity-100 translate-y-0":"opacity-0 translate-y-8"}`,children:[s.jsx("h2",{className:`text-2xl md:text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent mb-6 transition-all duration-700 delay-100 ${h?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"}`,children:e}),s.jsxs("div",{className:"relative",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[s.jsx("button",{onClick:()=>j("left"),className:`absolute -left-4 sm:-left-6 top-1/2 -translate-y-1/2 z-20 bg-black/60 hover:bg-black/80 text-white p-2 rounded-full transition-all duration-300 ${a&&d?"opacity-100":"opacity-0 pointer-events-none"} backdrop-blur-sm border border-white/20 hover:border-white/40 shadow-xl hover:scale-110`,"aria-label":"Scroll left",children:s.jsx(ks,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>j("right"),className:`absolute -right-4 sm:-right-6 top-1/2 -translate-y-1/2 z-20 bg-black/60 hover:bg-black/80 text-white p-2 rounded-full transition-all duration-300 ${o&&d?"opacity-100":"opacity-0 pointer-events-none"} backdrop-blur-sm border border-white/20 hover:border-white/40 shadow-xl hover:scale-110`,"aria-label":"Scroll right",children:s.jsx(Ks,{className:"w-4 h-4"})}),s.jsx("div",{ref:n,className:"flex overflow-x-auto gap-2.5 scrollbar-hide pb-1",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:s.jsx(x1,{items:t,type:r,cardsLoaded:v})}),s.jsx(p1,{itemsLength:t.length,scrollProgress:b,onDotClick:k})]})]})},sT=()=>{const[e,t]=g.useState([]),[r,n]=g.useState(!0);g.useEffect(()=>{i()},[]);const i=async()=>{try{n(!0);const[o,c]=await Promise.all([Aa(),Xo()]),d=o.slice(0,8),u=c.slice(0,8),h=[];for(const m of d){const v=await a(m.id,1);h.push({id:m.id,name:m.name,type:"movie",items:v,loading:!1,page:1,hasMore:v.length===20})}for(const m of u){const v=await l(m.id,1);h.push({id:m.id,name:m.name,type:"tv",items:v,loading:!1,page:1,hasMore:v.length===20})}t(h)}catch(o){console.error("Error fetching genres and content:",o)}finally{n(!1)}},a=async(o,c)=>{try{return(await Jo(o,c)).results}catch(d){return console.error(`Error fetching movies for genre ${o}:`,d),[]}},l=async(o,c)=>{try{return(await tm(o,c)).results}catch(d){return console.error(`Error fetching TV shows for genre ${o}:`,d),[]}};return r?s.jsx("div",{className:"space-y-8",children:[...Array(6)].map((o,c)=>s.jsxs("div",{className:"px-4 md:px-8",children:[s.jsx("div",{className:"h-8 bg-gray-800 rounded animate-pulse mb-4 w-48"}),s.jsx("div",{className:"flex space-x-4 overflow-hidden",children:[...Array(6)].map((d,u)=>s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-48 h-72 bg-gray-800 rounded animate-pulse"})},u))})]},c))}):s.jsx("div",{className:"space-y-8",children:e.map(o=>s.jsx("div",{children:s.jsx(dt,{title:`${o.name} ${o.type==="movie"?"Movies":"TV Shows"}`,items:o.items,type:o.type})},`${o.type}-${o.id}`))})},Q0=()=>{var Z,te;const[e,t]=g.useState([]),[r,n]=g.useState(0),[i,a]=g.useState(null),[l,o]=g.useState(null),[c,d]=g.useState([]),[u,h]=g.useState([]),[m,v]=g.useState([]),[y,b]=g.useState([]),[x,f]=g.useState(!0),[p,w]=g.useState(!0),[j,k]=g.useState(!0);g.useEffect(()=>{(async()=>{try{f(!0);const q=await Sr();if(q.results.length>0){const z=q.results.slice(0,12);t(z);const M=z[0],[B,se]=await Promise.all([nt(M.id),mo(M.id)]);a(B),o(se),d(q.results.slice(5,20))}const[E,_,D]=await Promise.all([Ea(),Ko(),Pa()]);h(E.results.slice(0,20)),v(_.results.slice(0,20)),b(D.results.slice(0,20))}catch(q){console.error("Error fetching data:",q)}finally{f(!1)}})()},[]),g.useEffect(()=>{if(j&&e.length>1){const G=setInterval(()=>{n(q=>(q+1)%e.length)},1e4);return()=>clearInterval(G)}},[j,e.length]),g.useEffect(()=>{(async()=>{if(e.length>0&&e[r])try{const[q,E]=await Promise.all([nt(e[r].id),mo(e[r].id)]);a(q),o(E)}catch(q){console.error("Error fetching hero movie details:",q)}})()},[r,e]);const S=()=>{if(!l)return"Unknown";const G=l.crew.find(q=>q.job==="Director");return G?G.name:"Unknown"},C=G=>Math.round(G*10)/10,T=()=>{if(!(i!=null&&i.runtime))return"";const G=Math.floor(i.runtime/60),q=i.runtime%60;return`${G}h ${q}m`},L=()=>{n(G=>(G+1)%e.length),k(!1)},A=()=>{n(G=>(G-1+e.length)%e.length),k(!1)},K=G=>{n(G),k(!1)},Y=()=>{navigator.share&&i?navigator.share({title:i.title,text:i.overview,url:`${window.location.origin}/movie/${i.id}`}):i&&navigator.clipboard.writeText(`${window.location.origin}/movie/${i.id}`)};return x?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-netflix-dark-purple via-netflix-purple-blue to-netflix-deep-blue flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-32 w-32 netflix-spinner-thick"}),s.jsx("div",{className:"h-32 w-32 netflix-ripple"}),s.jsx("div",{className:"h-32 w-32 netflix-ripple",style:{animationDelay:"0.5s"}})]})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-netflix-dark-purple via-netflix-purple-blue to-netflix-deep-blue",children:[i&&s.jsxs("div",{className:"relative h-screen",onMouseEnter:()=>k(!1),onMouseLeave:()=>k(!0),children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:be(i.poster_path,"w780"),alt:i.title,className:"lg:hidden w-full h-full object-cover transition-all duration-1000",onError:G=>{G.target.src="/fallback-poster.jpg"}}),s.jsx("img",{src:ri(i.backdrop_path,"original"),alt:i.title,className:"hidden lg:block w-full h-full object-cover transition-all duration-1000",onError:G=>{G.target.src=ze(i.poster_path,"original")}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/40 sm:from-black/60 md:from-black/80 lg:from-black via-black/20 sm:via-black/40 md:via-black/60 lg:via-black/80 to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"})]}),e.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:A,className:"absolute left-2 sm:left-4 md:left-8 top-1/2 -translate-y-1/2 z-20 bg-black/60 hover:bg-black/80 backdrop-blur-sm p-2 sm:p-3 rounded-full transition-all duration-300 border border-white/20 hover:border-white/40 shadow-xl hover:scale-110",children:s.jsx(ks,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 text-white"})}),s.jsx("button",{onClick:L,className:"absolute right-2 sm:right-4 md:right-8 top-1/2 -translate-y-1/2 z-20 bg-black/60 hover:bg-black/80 backdrop-blur-sm p-2 sm:p-3 rounded-full transition-all duration-300 border border-white/20 hover:border-white/40 shadow-xl hover:scale-110",children:s.jsx(Ks,{className:"w-4 h-4 sm:w-5 sm:h-5 md:w-6 md:h-6 text-white"})})]}),s.jsx("div",{className:"relative z-10 h-full flex items-end md:items-center justify-start",children:s.jsxs("div",{className:"max-w-6xl ml-4 md:ml-8 lg:ml-16 px-4 lg:px-8 pb-20 sm:pb-6 md:pb-0 grid grid-cols-1 lg:grid-cols-4 gap-8 lg:gap-12 items-center",children:[s.jsx("div",{className:"hidden lg:flex lg:col-span-1 justify-start",children:s.jsx("div",{className:"max-w-xs lg:max-w-none",children:s.jsx("img",{src:be(i.poster_path,"w500"),alt:i.title,className:"w-56 lg:w-full rounded-xl shadow-2xl border-4 border-white/10 hover:scale-105 transition-transform duration-300",onError:G=>{G.target.src="/fallback-poster.jpg"}})})}),s.jsxs("div",{className:"col-span-1 lg:col-span-3 space-y-3 md:space-y-5 lg:pl-8 text-left",children:[s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 md:mb-4",children:s.jsx(ac,{logoPath:i.logo_path,title:i.title,size:"xl",className:"justify-start",textClassName:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold leading-tight",maxHeight:"max-h-20 md:max-h-28 lg:max-h-32",contentId:i.id,contentType:"movie",enableOnDemandFetch:!0})}),i.tagline&&s.jsxs("p",{className:"text-base md:text-lg lg:text-xl text-gray-300 italic",children:['"',i.tagline,'"']})]}),s.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 sm:gap-4 lg:gap-6 text-xs sm:text-sm lg:text-base",children:[s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(ne,{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 text-yellow-400 fill-current"}),s.jsx("span",{className:"font-semibold",children:C(i.vote_average)}),s.jsxs("span",{className:"text-gray-400 hidden sm:inline",children:["(",(Z=i.vote_count)==null?void 0:Z.toLocaleString()," votes)"]})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(gt,{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 text-gray-400"}),s.jsx("span",{children:new Date(i.release_date).getFullYear()})]}),T()&&s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(yt,{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 text-gray-400"}),s.jsx("span",{children:T()})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 hidden md:flex",children:[s.jsx(ds,{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 text-gray-400"}),s.jsx("span",{className:"truncate max-w-32",children:S()})]})]}),s.jsx("div",{className:"flex flex-wrap justify-start gap-3",children:(te=i.genres)==null?void 0:te.slice(0,4).map(G=>s.jsx("span",{className:"bg-netflix-red/20 border border-netflix-red/30 text-netflix-red px-3 py-1.5 rounded-full text-xs lg:text-sm font-medium hover:bg-netflix-red/30 transition-colors",children:G.name},G.id))}),s.jsxs("div",{className:"space-y-3 md:space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-start gap-3 sm:gap-4",children:[s.jsxs(xe,{to:`/movie/${i.id}`,className:"flex items-center justify-center gap-2 sm:gap-3 bg-netflix-red hover:bg-netflix-red/80 px-6 sm:px-8 py-3 rounded-xl font-bold text-base sm:text-lg transition-all duration-300 shadow-xl hover:scale-105 w-full sm:w-auto",children:[s.jsx(de,{className:"w-5 h-5 sm:w-6 sm:h-6 fill-current"}),s.jsx("span",{children:"Watch Now"})]}),s.jsxs(xe,{to:`/movie/${i.id}`,className:"flex items-center justify-center gap-2 sm:gap-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm px-6 sm:px-8 py-3 rounded-xl font-semibold text-base sm:text-lg transition-all duration-300 border border-white/20 hover:border-white/40 shadow-lg hover:scale-105 w-full sm:w-auto",children:[s.jsx(CN,{className:"w-5 h-5 sm:w-6 sm:h-6"}),s.jsx("span",{children:"More Info"})]})]}),s.jsxs("div",{className:"flex flex-wrap justify-start gap-2 sm:gap-3 mb-16 sm:mb-0",children:[s.jsx(Fa,{content:i,contentType:"movie",variant:"button",showText:!0,className:"flex items-center gap-1 sm:gap-2 bg-white/10 hover:bg-white/20 backdrop-blur-sm px-4 sm:px-6 py-2 sm:py-2.5 rounded-lg font-medium text-xs sm:text-sm transition-all duration-300 border border-white/20 hover:border-white/40 shadow-lg hover:scale-105"}),s.jsx($a,{content:i,contentType:"movie",variant:"button",showText:!0,className:"flex items-center gap-1 sm:gap-2 bg-white/10 hover:bg-white/20 backdrop-blur-sm px-4 sm:px-6 py-2 sm:py-2.5 rounded-lg font-medium text-xs sm:text-sm transition-all duration-300 border border-white/20 hover:border-white/40 shadow-lg hover:scale-105"}),s.jsxs("button",{onClick:Y,className:"flex items-center gap-1 sm:gap-2 bg-white/10 hover:bg-white/20 backdrop-blur-sm px-4 sm:px-6 py-2 sm:py-2.5 rounded-lg font-medium text-xs sm:text-sm transition-all duration-300 border border-white/20 hover:border-white/40 shadow-lg hover:scale-105",children:[s.jsx(qr,{className:"w-4 h-4 sm:w-5 sm:h-5"}),s.jsx("span",{children:"Share"})]})]})]}),s.jsxs("div",{className:"hidden sm:flex items-center justify-start space-x-3 sm:space-x-4 pt-2",children:[s.jsx("button",{onClick:()=>w(!p),className:"w-8 h-8 sm:w-10 sm:h-10 bg-gray-700/50 backdrop-blur-sm rounded-full flex items-center justify-center hover:bg-gray-600/50 transition-all duration-300 group border border-white/20 hover:border-white/40",children:p?s.jsx(GN,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"}):s.jsx(Yy,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 text-xs text-gray-400",children:[s.jsx(Ce,{className:"w-3 h-3"}),s.jsx("span",{className:"hidden sm:inline",children:"Featured Movie"}),s.jsx("span",{className:"sm:hidden",children:"Featured"})]})]})]})]})}),e.length>1&&s.jsx("div",{className:"absolute bottom-2 sm:bottom-6 md:bottom-24 lg:bottom-28 xl:bottom-32 left-1/2 -translate-x-1/2 z-20 pointer-events-none",children:s.jsx("div",{className:"pointer-events-auto flex items-center gap-1.5 sm:gap-2 rounded-full bg-black/40 backdrop-blur-sm px-2 sm:px-3 py-1.5 sm:py-2 border border-white/10",children:e.map((G,q)=>s.jsx("button",{onClick:()=>K(q),"aria-label":`Go to featured movie ${q+1}`,"aria-current":q===r,className:`w-2 h-2 sm:w-2.5 sm:h-2.5 rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-white/50 ${q===r?"bg-netflix-red scale-110 ring-2 ring-netflix-red/40":"bg-white/50 hover:bg-white/70"}`},q))})})]}),s.jsx("div",{className:"relative mt-8 sm:mt-12 md:-mt-32 z-10",children:s.jsxs("div",{className:"space-y-6 pb-6",children:[c.length>0&&s.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.2s",animationFillMode:"both"},children:s.jsx(dt,{title:" Trending Now",items:c,type:"movie"})}),u.length>0&&s.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:"0.4s",animationFillMode:"both"},children:s.jsx(dt,{title:" Popular on CineFlix",items:u,type:"movie"})}),m.length>0&&s.jsx("div",{className:"-mt-32 animate-fade-in-up",style:{animationDelay:"0.6s",animationFillMode:"both"},children:s.jsx(dt,{title:" Top Rated",items:m,type:"movie"})}),y.length>0&&s.jsx("div",{className:"-mt-32 animate-fade-in-up",style:{animationDelay:"0.8s",animationFillMode:"both"},children:s.jsx(dt,{title:" Now Playing",items:y,type:"movie"})}),s.jsx("div",{className:"-mt-32 animate-fade-in-up",style:{animationDelay:"1.0s",animationFillMode:"both"},children:s.jsx(sT,{})})]})})]})},rT=({episodes:e,selectedSeason:t,watchedEpisodes:r,expandedEpisode:n,onToggleWatched:i,onToggleExpanded:a})=>{const l=c=>{if(!c)return"N/A";const d=Math.floor(c/60),u=c%60;return d>0?`${d}h ${u}m`:`${u}m`},o=c=>c?new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"TBA";return s.jsx("div",{className:"space-y-4",children:s.jsx("div",{className:"max-h-[600px] overflow-y-auto space-y-4 pr-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",children:e.map(c=>{const d=`${t.season_number}-${c.episode_number}`,u=r.has(d),h=n===c.episode_number;return s.jsx("div",{className:`bg-gradient-to-r from-gray-800/50 to-gray-900/30 rounded-xl border transition-all duration-300 overflow-hidden ${u?"border-green-500/30 bg-green-500/5":"border-gray-700/30 hover:border-netflix-red/30"}`,children:s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0 relative group cursor-pointer",children:s.jsxs("div",{className:"w-32 h-20 rounded-lg overflow-hidden bg-gray-700",children:[c.still_path?s.jsx("img",{src:ze(c.still_path,"w300"),alt:c.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Li,{className:"w-8 h-8 text-gray-400"})}),s.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx(de,{className:"w-8 h-8 text-white fill-current"})}),c.runtime&&s.jsx("div",{className:"absolute bottom-1 right-1 bg-black/80 text-white text-xs px-2 py-1 rounded",children:l(c.runtime)})]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsxs("span",{className:"bg-netflix-red/20 text-netflix-red px-3 py-1 rounded-full text-sm font-bold",children:["Episode ",c.episode_number]}),u&&s.jsxs("span",{className:"bg-green-500/20 text-green-400 px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Watched"]})]}),s.jsx("h3",{className:"text-xl font-bold text-white mb-2 leading-tight",children:c.name}),s.jsx("p",{className:"text-gray-300 text-sm line-clamp-2 leading-relaxed",children:c.overview||"No description available."})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx("button",{onClick:()=>i(d),className:`p-2 rounded-full transition-all duration-300 ${u?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-gray-700/50 text-gray-400 hover:bg-gray-600/50 hover:text-white"}`,title:u?"Mark as unwatched":"Mark as watched",children:s.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),s.jsx("button",{onClick:()=>a(h?null:c.episode_number),className:"p-2 rounded-full bg-gray-700/50 text-gray-400 hover:bg-gray-600/50 hover:text-white transition-all duration-300",children:s.jsx("svg",{className:`w-5 h-5 transition-transform duration-300 ${h?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),s.jsxs("div",{className:"flex items-center gap-6 text-sm text-gray-400",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gt,{className:"w-4 h-4"}),s.jsx("span",{children:o(c.air_date)})]}),c.vote_average>0&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ne,{className:"w-4 h-4 text-yellow-400 fill-current"}),s.jsx("span",{children:c.vote_average.toFixed(1)})]}),c.runtime&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(yt,{className:"w-4 h-4"}),s.jsx("span",{children:l(c.runtime)})]})]})]})]}),h&&s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-700/30",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Episode Details"}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Season:"}),s.jsx("span",{className:"text-white",children:t.season_number})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Episode:"}),s.jsx("span",{className:"text-white",children:c.episode_number})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Air Date:"}),s.jsx("span",{className:"text-white",children:o(c.air_date)})]}),c.runtime&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Runtime:"}),s.jsx("span",{className:"text-white",children:l(c.runtime)})]}),c.vote_count>0&&s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Rating:"}),s.jsxs("span",{className:"text-white",children:[c.vote_average.toFixed(1),"/10 (",c.vote_count," votes)"]})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:"Synopsis"}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:c.overview||"No detailed description available for this episode."})]})]})})]})},c.id)})})})},Z0=({type:e})=>{var Va,$m,Vm,Om,zm,Bm,Um,Hm,Wm,Gm;const{id:t}=Ih(),r=Cs(),[n,i]=g.useState(null),[a,l]=g.useState([]),[o,c]=g.useState(null),[d,u]=g.useState([]),[h,m]=g.useState([]),[v,y]=g.useState(null),[b,x]=g.useState(!0),[f,p]=g.useState(!1),[w,j]=g.useState(null),[k,S]=g.useState(!1),[C,T]=g.useState("cast"),[L,A]=g.useState(null),[K,Y]=g.useState(!1),[Z,te]=g.useState(!1),[G,q]=g.useState(!1),[E,_]=g.useState(null),[D,z]=g.useState(null),[M,B]=g.useState(!1),[se,H]=g.useState(6),[fe,Ye]=g.useState([]),[_e,pe]=g.useState(null),[le,ye]=g.useState(null),[Ne,Ie]=g.useState(!1),[oe,vt]=g.useState(new Set),[Fe,Q]=g.useState(null),qe=g.useCallback(()=>{const N=document.documentElement,$=document.body,wt=N.style.scrollBehavior,xs=$.style.scrollBehavior;N.style.scrollBehavior="auto",$.style.scrollBehavior="auto",N.scrollTop=0,$.scrollTop=0,window.scrollTo(0,0),requestAnimationFrame(()=>{N.style.scrollBehavior=wt,$.style.scrollBehavior=xs})},[]);g.useLayoutEffect(()=>{qe()},[qe,t,e]),g.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),g.useEffect(()=>{qe()},[b,qe]),g.useEffect(()=>{(async()=>{if(t)try{if(x(!0),e==="movie"){const[$,wt,xs,ue,Se]=await Promise.all([nt(parseInt(t)),Ma(parseInt(t)),mo(parseInt(t)),pu(parseInt(t)),jv(parseInt(t))]);i($),l(wt.filter(Oe=>Oe.site==="YouTube"&&Oe.type==="Trailer")),c(xs),y(Se);try{const Oe=await Nv($);u(Oe.slice(0,12));const Et=ot($);if(Et.length>0){const qm=[...await Sv(Et),...ue.results].filter((oc,cc,dc)=>cc===dc.findIndex(uc=>uc.id===oc.id));m(qm.slice(0,12))}else m(ue.results.slice(0,12))}catch(Oe){console.error("Error fetching enhanced similar content:",Oe);const[Et,Js]=await Promise.all([qh(parseInt(t)),pu(parseInt(t))]);u(Et.results.slice(0,12)),m(Js.results.slice(0,12))}}else{const[$,wt,xs,ue,Se]=await Promise.all([Zh(parseInt(t)),Zo(parseInt(t)),_v(parseInt(t)),Jh(parseInt(t)),Tv(parseInt(t))]);i($),l(wt.filter(Oe=>Oe.site==="YouTube"&&Oe.type==="Trailer")),c(xs),Ye(ue||[]),y(Se);try{const Oe=await Ev($);u(Oe.slice(0,12));const Et=Ve($);if(Et.length>0){const Js=await Pv(Et),Ym=await El(parseInt(t)),oc=[...Js,...Ym.results].filter((cc,dc,uc)=>dc===uc.findIndex(S1=>S1.id===cc.id));m(oc.slice(0,12))}else{const Js=await El(parseInt(t));m(Js.results.slice(0,12))}}catch(Oe){console.error("Error fetching enhanced similar content:",Oe);const[Et,Js]=await Promise.all([Xh(parseInt(t)),El(parseInt(t))]);u(Et.results.slice(0,12)),m(Js.results.slice(0,12))}if(ue&&ue.length>0){const Oe=ue.find(Et=>Et.season_number>0)||ue[0];pe(Oe);try{const Et=await xo(parseInt(t),Oe.season_number);ye(Et)}catch(Et){console.error("Error fetching season details:",Et)}}}}catch($){console.error("Error fetching content:",$)}finally{x(!1)}})()},[t,e]);const Gt=()=>n?e==="movie"?n.title:n.name:"",it=()=>{if(!n)return"";const N=e==="movie"?n.release_date:n.first_air_date;return N?new Date(N).getFullYear():""},I=()=>{var N;if(!n)return"";if(e==="movie"){const $=n.runtime;if($){const wt=Math.floor($/60),xs=$%60;return`${wt}h ${xs}m`}}else{const $=(N=n.episode_run_time)==null?void 0:N[0];return $?`${$} min/ep`:""}return""},R=N=>Math.round(N*10)/10,ae=()=>{if(!o)return"Unknown";if(e==="movie"){const N=o.crew.find($=>$.job==="Director");return N?N.name:"Unknown"}else{const N=o.crew.find($=>$.job==="Creator"||$.job==="Executive Producer"||$.job==="Director");return N?N.name:"Unknown"}},ve=()=>o?k?o.cast:o.cast.slice(0,12):[],$e=()=>{if(!o)return[];const N=["Director","Producer","Executive Producer","Screenplay","Writer","Director of Photography","Original Music Composer"];return o.crew.filter($=>N.includes($.job)).slice(0,8)},at=async N=>{A(N),Y(!0),H(6),await Vs(N.id)},es=()=>{Y(!1),A(null),_(null),z(null),H(6)},_t=()=>{H(N=>N+6)},Vs=async N=>{try{B(!0);const[$,wt]=await Promise.all([kv(N),fo(N)]);_($),z(wt)}catch($){console.error("Error fetching person data:",$)}finally{B(!1)}},li=async()=>{L&&(await Vs(L.id),Y(!1),q(!0))},Ar=()=>{te(!1),_(null),z(null)},hn=()=>{q(!1),_(null),z(null)},Rr=(N,$)=>{r(`/${$}/${N}`)},O=N=>{r(`/movie/${N}`)},X=async N=>{if(!(!t||!N)){Ie(!0),pe(N),Q(null);try{const $=await xo(parseInt(t),N.season_number);ye($)}catch($){console.error("Error fetching season details:",$)}finally{Ie(!1)}}},ee=N=>{const $=new Set(oe);$.has(N)?$.delete(N):$.add(N),vt($)},we=N=>{j(N),p(!0)},Ke=()=>{p(!1),j(null)},me=async(N,$)=>{try{const xs=await(await fetch(N)).blob(),ue=window.URL.createObjectURL(xs),Se=document.createElement("a");Se.href=ue,Se.download=`${$.replace(/[^a-zA-Z0-9]/g,"_")}.jpg`,document.body.appendChild(Se),Se.click(),document.body.removeChild(Se),window.URL.revokeObjectURL(ue)}catch(wt){console.error("Error downloading image:",wt)}},lt=()=>{if(!v)return[];const N=[];return v.facebook_id&&N.push({name:"Facebook",url:`https://www.facebook.com/${v.facebook_id}`,icon:"facebook",color:"bg-blue-600"}),v.instagram_id&&N.push({name:"Instagram",url:`https://www.instagram.com/${v.instagram_id}`,icon:"instagram",color:"bg-gradient-to-r from-purple-500 to-pink-500"}),v.twitter_id&&N.push({name:"Twitter",url:`https://twitter.com/${v.twitter_id}`,icon:"twitter",color:"bg-blue-400"}),v.imdb_id&&N.push({name:"IMDb",url:`https://www.imdb.com/title/${v.imdb_id}`,icon:"imdb",color:"bg-yellow-600"}),n!=null&&n.homepage&&N.push({name:"Official Website",url:n.homepage,icon:"website",color:"bg-gray-600"}),N},Ve=N=>{const $=[];if(N.name){const ue=N.name.toLowerCase().split(/\s+/);$.push(...ue.filter(Se=>Se.length>2))}if(N.overview){const ue=N.overview.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(Se=>Se.length>3);$.push(...ue.slice(0,5))}N.genres&&N.genres.forEach(ue=>{$.push(ue.name.toLowerCase())}),N.status&&$.push(N.status.toLowerCase());const wt=["the","and","or","but","in","on","at","to","for","of","with","by","a","an"];return $.filter(ue=>!wt.includes(ue)).filter((ue,Se,Oe)=>Oe.indexOf(ue)===Se).slice(0,5)},ot=N=>{const $=[];if(N.title){const ue=N.title.toLowerCase().split(/\s+/);$.push(...ue.filter(Se=>Se.length>2))}if(N.overview){const ue=N.overview.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(Se=>Se.length>3);$.push(...ue.slice(0,5))}if(N.genres&&N.genres.forEach(ue=>{$.push(ue.name.toLowerCase())}),N.tagline){const ue=N.tagline.toLowerCase().replace(/[^\w\s]/g,"").split(/\s+/).filter(Se=>Se.length>2);$.push(...ue.slice(0,3))}N.production_companies&&N.production_companies.slice(0,2).forEach(ue=>{const Se=ue.name.toLowerCase().split(/\s+/);$.push(...Se.filter(Oe=>Oe.length>2))});const wt=["the","and","or","but","in","on","at","to","for","of","with","by","a","an","film","movie","story","tale"];return $.filter(ue=>!wt.includes(ue)).filter((ue,Se,Oe)=>Oe.indexOf(ue)===Se).slice(0,5)};return g.useEffect(()=>{const N=$=>{$.key==="Escape"&&(f?Ke():Z?Ar():G?hn():K&&es())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[f,K,Z,G]),b?s.jsx("div",{className:"fixed inset-0 bg-gradient-to-br from-netflix-dark-purple via-netflix-purple-blue to-netflix-deep-blue flex items-center justify-center z-50",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-32 w-32 netflix-spinner-thick"}),s.jsx("div",{className:"h-32 w-32 netflix-ripple"}),s.jsx("div",{className:"h-32 w-32 netflix-ripple",style:{animationDelay:"0.5s"}})]})}):n?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-netflix-dark-purple via-netflix-purple-blue to-netflix-deep-blue text-white",children:[s.jsxs("div",{className:"relative h-screen",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:be(n.poster_path,"w780"),alt:Gt(),className:"lg:hidden w-full h-full object-cover transition-all duration-1000",onError:N=>{N.target.src="/fallback-poster.jpg"}}),s.jsx("img",{src:ri(n.backdrop_path,"original"),alt:Gt(),className:"hidden lg:block w-full h-full object-cover transition-all duration-1000",onError:N=>{N.target.src="/fallback-backdrop.jpg"}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-black/80 to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"})]}),s.jsx("div",{className:"absolute top-20 sm:top-24 left-4 sm:left-8 z-20",children:s.jsxs("button",{onClick:()=>r(-1),className:"flex items-center gap-1 sm:gap-2 bg-black/70 backdrop-blur-md px-4 sm:px-6 py-2 sm:py-3 rounded-full hover:bg-black/90 transition-all duration-300 border border-white/20 hover:border-white/40 shadow-xl",children:[s.jsx(ks,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"}),s.jsx("span",{className:"text-white font-medium text-sm sm:text-base",children:"Back"})]})}),s.jsx("div",{className:"relative z-10 h-full flex items-end pb-4 sm:pb-6 md:pb-16",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 lg:px-16 grid grid-cols-1 lg:grid-cols-4 gap-8 lg:gap-12 items-end",children:[s.jsx("div",{className:"hidden lg:block lg:col-span-1",children:s.jsx("div",{className:"max-w-2xl mx-auto lg:mx-0 transform lg:-translate-y-8",children:s.jsx("img",{src:be(n.poster_path,"w780"),alt:Gt(),className:"w-full rounded-xl shadow-2xl border-4 border-white/10 hover:scale-105 transition-transform duration-300",onError:N=>{N.target.src="/fallback-poster.jpg"}})})}),s.jsxs("div",{className:"col-span-1 lg:col-span-3 space-y-4 md:space-y-6 lg:pl-8",children:[s.jsxs("div",{children:[s.jsx("div",{className:"mb-2 md:mb-4",children:s.jsx(ac,{logoPath:n.logo_path,title:Gt(),size:"xl",className:"justify-start",textClassName:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl font-bold leading-tight",maxHeight:"max-h-20 md:max-h-28 lg:max-h-32",contentId:n.id,contentType:e,enableOnDemandFetch:!0})}),n.tagline&&s.jsxs("p",{className:"text-base md:text-lg lg:text-xl text-gray-300 italic mb-2 md:mb-4",children:['"',n.tagline,'"']}),s.jsx("div",{className:"mb-3 md:mb-6",children:s.jsx("p",{className:"text-sm md:text-base lg:text-lg text-gray-200 leading-relaxed line-clamp-2 max-w-4xl",children:n.overview})})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4 lg:gap-6 text-xs sm:text-sm md:text-base lg:text-lg",children:[s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(ne,{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 text-yellow-400 fill-current"}),s.jsx("span",{className:"font-semibold",children:R(n.vote_average)}),s.jsxs("span",{className:"text-gray-400 hidden sm:inline",children:["(",(Va=n.vote_count)==null?void 0:Va.toLocaleString()," votes)"]})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(gt,{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 text-gray-400"}),s.jsx("span",{children:it()})]}),I()&&s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[s.jsx(yt,{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 text-gray-400"}),s.jsx("span",{children:I()})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 hidden md:flex",children:[s.jsx(ds,{className:"w-3 h-3 sm:w-4 sm:h-4 lg:w-5 lg:h-5 text-gray-400"}),s.jsx("span",{className:"text-xs sm:text-sm text-gray-400 mr-1 sm:mr-2",children:e==="movie"?"Director:":"Creator:"}),s.jsx("span",{className:"truncate max-w-32",children:ae()})]})]}),s.jsx("div",{className:"flex flex-wrap gap-3",children:($m=n.genres)==null?void 0:$m.map(N=>s.jsx("span",{className:"bg-netflix-red/20 border border-netflix-red/30 text-netflix-red px-4 py-2 rounded-full text-sm font-medium",children:N.name},N.id))}),s.jsxs("div",{className:"flex flex-col sm:flex-row flex-wrap gap-3 sm:gap-4",children:[s.jsxs("button",{onClick:()=>r(`/watch/${e}/${t}`),className:"flex items-center justify-center gap-2 sm:gap-3 bg-netflix-red hover:bg-netflix-red/80 px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-bold text-base sm:text-lg transition-all duration-300 shadow-xl hover:scale-105 w-full sm:w-auto",children:[s.jsx(de,{className:"w-5 h-5 sm:w-6 sm:h-6 fill-current"}),s.jsx("span",{children:"Watch Now"})]}),s.jsx(Fa,{content:n,contentType:e,variant:"button",showText:!0,className:"flex items-center justify-center gap-2 sm:gap-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-semibold text-base sm:text-lg transition-all duration-300 border border-white/20 hover:border-white/40 shadow-lg hover:scale-105 w-full sm:w-auto"}),s.jsx($a,{content:n,contentType:e,variant:"button",showText:!0,className:"flex items-center justify-center gap-2 sm:gap-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm px-6 sm:px-8 py-3 sm:py-4 rounded-xl font-semibold text-base sm:text-lg transition-all duration-300 border border-white/20 hover:border-white/40 shadow-lg hover:scale-105 w-full sm:w-auto"}),s.jsxs("button",{onClick:()=>{navigator.share?navigator.share({title:Gt(),text:n.overview,url:window.location.href}):navigator.clipboard.writeText(window.location.href)},className:"flex items-center gap-3 bg-white/10 hover:bg-white/20 backdrop-blur-sm px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 border border-white/20 hover:border-white/40 shadow-lg hover:scale-105",children:[s.jsx(qr,{className:"w-6 h-6"}),s.jsx("span",{children:"Share"})]})]})]})]})})]}),s.jsx("div",{className:"w-full px-8 py-16",children:e==="tv"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 mb-16",children:[s.jsx("div",{className:"lg:col-span-5",children:s.jsxs("section",{className:"bg-gradient-to-br from-netflix-red/5 to-transparent rounded-2xl p-8 border border-netflix-red/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Seasons & Episodes"})]}),_e&&s.jsxs("div",{className:"flex items-center gap-2 bg-black/30 rounded-lg px-4 py-2",children:[s.jsx(Ce,{className:"w-5 h-5 text-netflix-red"}),s.jsxs("span",{className:"text-white font-semibold",children:["Season ",_e.season_number]}),s.jsxs("span",{className:"text-gray-400",children:[" ",((Vm=le==null?void 0:le.episodes)==null?void 0:Vm.length)||0," episodes"]})]})]}),fe.length>0&&s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"flex gap-3 overflow-x-auto pb-4 scrollbar-hide",children:fe.filter(N=>N.season_number>=0).map(N=>s.jsx("button",{onClick:()=>X(N),className:`flex-shrink-0 group relative overflow-hidden rounded-xl transition-all duration-300 ${(_e==null?void 0:_e.id)===N.id?"ring-2 ring-netflix-red scale-105":"hover:scale-105 hover:ring-1 hover:ring-white/30"}`,children:s.jsxs("div",{className:"w-32 h-48 relative",children:[N.poster_path?s.jsx("img",{src:be(N.poster_path,"w300"),alt:N.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-gray-700 to-gray-900 flex items-center justify-center",children:s.jsx(Ce,{className:"w-8 h-8 text-gray-400"})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-3",children:[s.jsx("p",{className:"text-white font-bold text-sm text-center leading-tight",children:N.season_number===0?"Specials":`Season ${N.season_number}`}),s.jsxs("p",{className:"text-gray-300 text-xs text-center mt-1",children:[N.episode_count," episodes"]})]}),(_e==null?void 0:_e.id)===N.id&&s.jsx("div",{className:"absolute top-2 right-2 w-6 h-6 bg-netflix-red rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})},N.id))})}),Ne?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-16 w-16 netflix-spinner-thick"}),s.jsx("div",{className:"h-16 w-16 netflix-ripple"})]})}):le!=null&&le.episodes?s.jsx(rT,{episodes:le.episodes,selectedSeason:_e,watchedEpisodes:oe,expandedEpisode:Fe,onToggleWatched:ee,onToggleExpanded:Q}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ce,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400 text-lg",children:"No episodes available"})]})]})}),s.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[s.jsxs("section",{className:"bg-gradient-to-br from-gray-900/30 to-transparent rounded-2xl p-6 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-1 h-6 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Overview"})]}),s.jsxs("div",{className:"bg-black/20 rounded-xl p-4 border border-gray-700/30 mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-netflix-red",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),"Plot Synopsis"]}),s.jsx("p",{className:"text-gray-200 leading-relaxed text-sm",children:n.overview})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl p-4 border border-gray-700/30 hover:border-netflix-red/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-green-500/20 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Status"})]}),s.jsx("p",{className:"text-white font-semibold",children:n.status})]}),n.number_of_seasons&&s.jsxs("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl p-4 border border-gray-700/30 hover:border-netflix-red/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-4 h-4 text-blue-400"})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Seasons"})]}),s.jsx("p",{className:"text-white font-semibold",children:n.number_of_seasons})]}),n.number_of_episodes&&s.jsxs("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl p-4 border border-gray-700/30 hover:border-netflix-red/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500/20 rounded-lg flex items-center justify-center",children:s.jsx(Li,{className:"w-4 h-4 text-purple-400"})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Episodes"})]}),s.jsx("p",{className:"text-white font-semibold",children:n.number_of_episodes})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl p-4 border border-gray-700/30 hover:border-netflix-red/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center",children:s.jsx(qt,{className:"w-4 h-4 text-blue-400"})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Language"})]}),s.jsx("p",{className:"text-white font-semibold",children:((zm=(Om=n.spoken_languages)==null?void 0:Om[0])==null?void 0:zm.english_name)||"English"})]})]})]}),s.jsxs("section",{className:"bg-gradient-to-br from-netflix-red/10 to-transparent rounded-2xl p-6 border border-netflix-red/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-1 h-6 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Where to Watch"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"group relative bg-gradient-to-r from-netflix-red/20 to-netflix-red/10 rounded-xl p-4 border border-netflix-red/30 hover:border-netflix-red/50 transition-all cursor-pointer",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-netflix-red rounded-xl flex items-center justify-center group-hover:scale-105 transition-transform",children:s.jsx(de,{className:"w-6 h-6 fill-current text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-white",children:"CineFlix"}),s.jsx("p",{className:"text-sm text-green-400 font-medium",children:" Available now"})]})]}),s.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"FREE"})]}),s.jsx("div",{className:"group relative bg-gradient-to-r from-blue-600/20 to-blue-600/10 rounded-xl p-4 border border-blue-600/30 hover:border-blue-600/50 transition-all cursor-pointer opacity-75",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center group-hover:scale-105 transition-transform",children:s.jsx(Li,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-white",children:"Netflix"}),s.jsx("p",{className:"text-sm text-blue-400 font-medium",children:"Subscription"})]})]})})]})]})]}),s.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[n.production_companies&&n.production_companies.length>0&&s.jsxs("section",{className:"bg-gradient-to-br from-gray-900/30 to-transparent rounded-2xl p-6 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-1 h-6 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Production"}),s.jsx("span",{className:"bg-gray-700/50 text-gray-300 px-2 py-1 rounded-full text-xs font-medium",children:n.production_companies.length})]}),s.jsx("div",{className:"space-y-3",children:n.production_companies.slice(0,4).map(N=>s.jsx("div",{className:"group bg-gradient-to-r from-gray-800/40 to-gray-900/40 rounded-lg p-3 border border-gray-700/30 hover:border-netflix-red/30 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-700/50 rounded-lg flex items-center justify-center overflow-hidden group-hover:bg-gray-600/50 transition-colors",children:N.logo_path?s.jsx("img",{src:ze(N.logo_path,"w200"),alt:N.name,className:"max-w-full max-h-full object-contain"}):s.jsx(ia,{className:"w-5 h-5 text-netflix-red"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-white text-sm group-hover:text-netflix-red transition-colors truncate",children:N.name}),s.jsx("p",{className:"text-xs text-gray-400",children:N.origin_country})]})]})},N.id))})]}),s.jsxs("section",{className:"bg-gradient-to-br from-gray-900/30 to-transparent rounded-2xl p-6 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-1 h-6 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Links"})]}),s.jsxs("div",{className:"space-y-3",children:[lt().map((N,$)=>s.jsxs("a",{href:N.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-white/5 hover:bg-white/10 rounded-lg transition-colors group",children:[s.jsxs("div",{className:`w-10 h-10 ${N.color} rounded-lg flex items-center justify-center`,children:[N.icon==="facebook"&&s.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),N.icon==="instagram"&&s.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.62 5.367 11.987 11.988 11.987 6.62 0 11.987-5.367 11.987-11.987C24.014 5.367 18.637.001 12.017.001zM8.449 16.988c-1.297 0-2.448-.49-3.323-1.297C4.198 14.895 3.708 13.744 3.708 12.447s.49-2.448 1.297-3.323c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.807.875 1.297 2.026 1.297 3.323s-.49 2.448-1.297 3.323c-.875.807-2.026 1.297-3.323 1.297zm7.718-1.297c-.875.807-2.026 1.297-3.323 1.297s-2.448-.49-3.323-1.297c-.807-.875-1.297-2.026-1.297-3.323s.49-2.448 1.297-3.323c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.807.875 1.297 2.026 1.297 3.323s-.49 2.448-1.297 3.323z"})}),N.icon==="twitter"&&s.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),N.icon==="imdb"&&s.jsxs("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})]}),N.icon==="website"&&s.jsx(qt,{className:"w-5 h-5"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold group-hover:text-netflix-red transition-colors text-sm",children:N.name}),s.jsx("p",{className:"text-xs text-gray-400",children:N.icon==="website"?"Visit homepage":`Follow on ${N.name}`})]})]},$)),lt().length===0&&s.jsxs("div",{className:"text-center py-6",children:[s.jsx(qt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"No social media links available"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-16 mt-16",children:[a.length>0&&s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Videos & Trailers"})]}),s.jsxs("span",{className:"bg-gray-700/50 text-gray-300 px-3 py-1 rounded-full text-sm font-medium",children:[a.length," videos"]})]}),s.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide",children:a.slice(0,4).map(N=>s.jsxs("div",{className:"flex-shrink-0 w-80 group cursor-pointer",onClick:()=>we(N),children:[s.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-black mb-3",children:[s.jsx("img",{src:`https://img.youtube.com/vi/${N.key}/maxresdefault.jpg`,alt:N.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:$=>{$.target.src=`https://img.youtube.com/vi/${N.key}/mqdefault.jpg`}}),s.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:s.jsx(de,{className:"w-8 h-8 text-white fill-current ml-1"})})}),s.jsx("div",{className:"absolute bottom-3 right-3 bg-black/80 text-white text-xs px-2 py-1 rounded",children:N.type==="Trailer"?"2:30":"1:45"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h3",{className:"font-semibold text-white group-hover:text-netflix-red transition-colors line-clamp-2 leading-tight",children:N.name}),s.jsxs("p",{className:"text-sm text-gray-400",children:[N.type,"  ",new Date(N.published_at).toLocaleDateString()]})]})]},N.id))})]}),o&&s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Cast & Crew"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("span",{className:"bg-gray-700/50 text-gray-300 px-3 py-1 rounded-full text-sm font-medium",children:[o.cast.length," cast  ",o.crew.length," crew"]})})]}),s.jsxs("div",{className:"flex mb-8 border-b border-gray-700",children:[s.jsxs("button",{onClick:()=>T("cast"),className:`px-6 py-3 font-semibold transition-colors relative ${C==="cast"?"text-netflix-red":"text-gray-400 hover:text-white"}`,children:["Cast (",o.cast.length,")",C==="cast"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-netflix-red"})]}),s.jsxs("button",{onClick:()=>T("crew"),className:`px-6 py-3 font-semibold transition-colors relative ${C==="crew"?"text-netflix-red":"text-gray-400 hover:text-white"}`,children:["Crew (",o.crew.length,")",C==="crew"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-netflix-red"})]})]}),C==="cast"&&s.jsxs("div",{children:[s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:ve().slice(0,10).map(N=>s.jsxs("div",{className:"text-center group cursor-pointer",onClick:()=>at(N),children:[s.jsxs("div",{className:"aspect-[3/4] mb-4 rounded-lg overflow-hidden bg-gray-800 relative",children:[N.profile_path?s.jsx("img",{src:ze(N.profile_path,"w300"),alt:N.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Mt,{className:"w-16 h-16 text-gray-400"})}),s.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Mt,{className:"w-8 h-8 text-white mx-auto mb-2"}),s.jsx("p",{className:"text-white text-sm font-medium",children:"View Details"})]})}),N.order<5&&s.jsxs("div",{className:"absolute top-2 left-2 bg-netflix-red text-white text-xs font-bold px-2 py-1 rounded-full",children:["#",N.order+1]}),N.profile_path&&s.jsx("button",{onClick:$=>{$.stopPropagation(),me(ze(N.profile_path,"w500"),N.name)},className:"absolute bottom-2 right-2 bg-black/80 hover:bg-netflix-red/80 text-white p-2 rounded-full transition-all duration-300 hover:scale-110 group-hover:opacity-100 opacity-0",title:`Download ${N.name}'s photo`,children:s.jsx(Rt,{className:"w-4 h-4"})})]}),s.jsx("h3",{className:"font-bold text-white mb-1 group-hover:text-netflix-red transition-colors line-clamp-1",children:N.name}),s.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-2",children:N.character})]},N.id))}),o.cast.length>10&&s.jsx("div",{className:"text-center mt-8",children:s.jsx("button",{onClick:()=>S(!k),className:"bg-white/10 hover:bg-white/20 text-white px-8 py-3 rounded-lg font-semibold transition-colors border border-white/20",children:k?"Show Less":`Show All ${o.cast.length} Cast Members`})})]}),C==="crew"&&s.jsx("div",{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$e().slice(0,8).map(N=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-lg hover:bg-white/10 transition-colors group",children:[s.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-800 flex-shrink-0",children:N.profile_path?s.jsx("img",{src:ze(N.profile_path,"w200"),alt:N.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Mt,{className:"w-8 h-8 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-white group-hover:text-netflix-red transition-colors truncate",children:N.name}),s.jsx("p",{className:"text-sm text-gray-400 truncate",children:N.job})]})]},`${N.id}-${N.job}`))})})]}),h.length>0&&s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Recommended TV Shows"})]}),s.jsxs("span",{className:"bg-gray-700/50 text-gray-300 px-3 py-1 rounded-full text-sm font-medium",children:[h.length," shows"]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:h.map(N=>s.jsxs("div",{className:"group cursor-pointer",onClick:()=>Rr(N.id,e),children:[s.jsx("div",{className:"aspect-[2/3] mb-3 rounded-lg overflow-hidden bg-gray-800",children:s.jsx("img",{src:be(N.poster_path,"w300"),alt:"title"in N?N.title:N.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",onError:$=>{$.target.src="/fallback-poster.jpg"}})}),s.jsx("h3",{className:"font-semibold text-sm mb-1 group-hover:text-netflix-red transition-colors line-clamp-2",children:"title"in N?N.title:N.name}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(ne,{className:"w-3 h-3 text-yellow-400 fill-current"}),s.jsx("span",{children:R(N.vote_average)}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date("release_date"in N?N.release_date:N.first_air_date).getFullYear()})]})]},N.id))})]}),d.length>0&&s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Similar TV Shows"})]}),s.jsxs("span",{className:"bg-gray-700/50 text-gray-300 px-3 py-1 rounded-full text-sm font-medium",children:[d.length," shows"]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:d.map(N=>s.jsxs("div",{className:"group cursor-pointer",onClick:()=>Rr(N.id,e),children:[s.jsx("div",{className:"aspect-[2/3] mb-3 rounded-lg overflow-hidden bg-gray-800",children:s.jsx("img",{src:be(N.poster_path,"w300"),alt:"title"in N?N.title:N.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",onError:$=>{$.target.src="/fallback-poster.jpg"}})}),s.jsx("h3",{className:"font-semibold text-sm mb-1 group-hover:text-netflix-red transition-colors line-clamp-2",children:"title"in N?N.title:N.name}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(ne,{className:"w-3 h-3 text-yellow-400 fill-current"}),s.jsx("span",{children:R(N.vote_average)}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date("release_date"in N?N.release_date:N.first_air_date).getFullYear()})]})]},N.id))})]})]})]}):null}),e==="movie"&&s.jsxs("div",{className:"w-full px-8 pt-8 pb-16",children:[s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 mb-16",children:[s.jsx("div",{className:"lg:col-span-5",children:s.jsxs("section",{className:"bg-gradient-to-br from-netflix-red/5 to-transparent rounded-2xl p-8 border border-netflix-red/20",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Movie Details"})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-black/30 rounded-lg px-4 py-2",children:[s.jsx(Ce,{className:"w-5 h-5 text-netflix-red"}),s.jsx("span",{className:"text-white font-semibold",children:I()}),s.jsxs("span",{className:"text-gray-400",children:[" ",it()]})]})]}),s.jsxs("div",{className:"bg-black/20 rounded-xl p-6 border border-gray-700/30 mb-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx("svg",{className:"w-5 h-5 text-netflix-red",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),"Plot Synopsis"]}),s.jsx("p",{className:"text-gray-200 leading-relaxed text-sm",children:n.overview})]}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl p-4 border border-gray-700/30 hover:border-netflix-red/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-green-500/20 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Status"})]}),s.jsx("p",{className:"text-white font-semibold",children:n.status})]}),e==="movie"&&n.budget&&s.jsxs("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl p-4 border border-gray-700/30 hover:border-netflix-red/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:s.jsxs("svg",{className:"w-4 h-4 text-yellow-400",fill:"currentColor",viewBox:"0 0 20 20",children:[s.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),s.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Budget"})]}),s.jsxs("p",{className:"text-white font-semibold",children:["$",(Bm=n.budget)==null?void 0:Bm.toLocaleString()]})]}),e==="movie"&&n.revenue&&s.jsxs("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl p-4 border border-gray-700/30 hover:border-netflix-red/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-green-500/20 rounded-lg flex items-center justify-center",children:s.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Revenue"})]}),s.jsxs("p",{className:"text-white font-semibold",children:["$",(Um=n.revenue)==null?void 0:Um.toLocaleString()]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl p-4 border border-gray-700/30 hover:border-netflix-red/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center",children:s.jsx(qt,{className:"w-4 h-4 text-blue-400"})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Language"})]}),s.jsx("p",{className:"text-white font-semibold",children:((Wm=(Hm=n.spoken_languages)==null?void 0:Hm[0])==null?void 0:Wm.english_name)||"English"})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl p-4 border border-gray-700/30 hover:border-netflix-red/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500/20 rounded-lg flex items-center justify-center",children:s.jsx(gt,{className:"w-4 h-4 text-purple-400"})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Release Date"})]}),s.jsx("p",{className:"text-white font-semibold",children:new Date(n.release_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]})}),s.jsxs("div",{className:"lg:col-span-4 space-y-8",children:[s.jsxs("section",{className:"bg-gradient-to-br from-netflix-red/10 to-transparent rounded-2xl p-6 border border-netflix-red/20",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-1 h-6 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Where to Watch"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"group relative bg-gradient-to-r from-netflix-red/20 to-netflix-red/10 rounded-xl p-4 border border-netflix-red/30 hover:border-netflix-red/50 transition-all cursor-pointer",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-netflix-red rounded-xl flex items-center justify-center group-hover:scale-105 transition-transform",children:s.jsx(de,{className:"w-6 h-6 fill-current text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-white",children:"CineFlix"}),s.jsx("p",{className:"text-sm text-green-400 font-medium",children:" Available now"})]})]}),s.jsx("div",{className:"absolute top-2 right-2 bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"FREE"})]}),s.jsxs("div",{className:"group relative bg-gradient-to-r from-blue-600/20 to-blue-600/10 rounded-xl p-4 border border-blue-600/30 hover:border-blue-600/50 transition-all cursor-pointer opacity-75",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-xl flex items-center justify-center group-hover:scale-105 transition-transform",children:s.jsx(Li,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-white",children:"Prime Video"}),s.jsx("p",{className:"text-sm text-blue-400 font-medium",children:"Rent/Buy"})]})]}),s.jsx("div",{className:"absolute top-2 right-2 bg-blue-600 text-white text-xs font-bold px-2 py-1 rounded-full",children:"$3.99"})]}),s.jsx("div",{className:"group relative bg-gradient-to-r from-purple-600/20 to-purple-600/10 rounded-xl p-4 border border-purple-600/30 hover:border-purple-600/50 transition-all cursor-pointer opacity-75",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-purple-600 rounded-xl flex items-center justify-center group-hover:scale-105 transition-transform",children:s.jsx("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-bold text-white",children:"Disney+"}),s.jsx("p",{className:"text-sm text-purple-400 font-medium",children:"Subscription"})]})]})})]})]}),s.jsxs("section",{className:"bg-gradient-to-br from-gray-900/30 to-transparent rounded-2xl p-6 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-1 h-6 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Movie Stats"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl p-4 border border-gray-700/30 hover:border-netflix-red/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-yellow-500/20 rounded-lg flex items-center justify-center",children:s.jsx(ne,{className:"w-4 h-4 text-yellow-400 fill-current"})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Rating"})]}),s.jsxs("p",{className:"text-white font-semibold",children:[R(n.vote_average),"/10"]}),s.jsxs("p",{className:"text-gray-400 text-xs",children:[(Gm=n.vote_count)==null?void 0:Gm.toLocaleString()," votes"]})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl p-4 border border-gray-700/30 hover:border-netflix-red/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center",children:s.jsx(yt,{className:"w-4 h-4 text-blue-400"})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Runtime"})]}),s.jsx("p",{className:"text-white font-semibold",children:I()})]}),s.jsxs("div",{className:"bg-gradient-to-br from-gray-800/50 to-gray-900/50 rounded-xl p-4 border border-gray-700/30 hover:border-netflix-red/30 transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-8 h-8 bg-green-500/20 rounded-lg flex items-center justify-center",children:s.jsx(ds,{className:"w-4 h-4 text-green-400"})}),s.jsx("span",{className:"text-gray-400 text-sm font-medium",children:"Director"})]}),s.jsx("p",{className:"text-white font-semibold",children:ae()})]})]})]})]}),s.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[n.production_companies&&n.production_companies.length>0&&s.jsxs("section",{className:"bg-gradient-to-br from-gray-900/30 to-transparent rounded-2xl p-6 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-1 h-6 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Production"}),s.jsx("span",{className:"bg-gray-700/50 text-gray-300 px-2 py-1 rounded-full text-xs font-medium",children:n.production_companies.length})]}),s.jsx("div",{className:"space-y-3",children:n.production_companies.slice(0,4).map(N=>s.jsx("div",{className:"group bg-gradient-to-r from-gray-800/40 to-gray-900/40 rounded-lg p-3 border border-gray-700/30 hover:border-netflix-red/30 transition-all duration-300",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-700/50 rounded-lg flex items-center justify-center overflow-hidden group-hover:bg-gray-600/50 transition-colors",children:N.logo_path?s.jsx("img",{src:ze(N.logo_path,"w200"),alt:N.name,className:"max-w-full max-h-full object-contain"}):s.jsx(ia,{className:"w-5 h-5 text-netflix-red"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h3",{className:"font-semibold text-white text-sm group-hover:text-netflix-red transition-colors truncate",children:N.name}),s.jsx("p",{className:"text-xs text-gray-400",children:N.origin_country})]})]})},N.id))})]}),s.jsxs("section",{className:"bg-gradient-to-br from-gray-900/30 to-transparent rounded-2xl p-6 border border-gray-800/50",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-1 h-6 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Links"})]}),s.jsxs("div",{className:"space-y-3",children:[lt().map((N,$)=>s.jsxs("a",{href:N.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3 bg-white/5 hover:bg-white/10 rounded-lg transition-colors group",children:[s.jsxs("div",{className:`w-10 h-10 ${N.color} rounded-lg flex items-center justify-center`,children:[N.icon==="facebook"&&s.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),N.icon==="instagram"&&s.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M12.017 0C5.396 0 .029 5.367.029 11.987c0 6.62 5.367 11.987 11.988 11.987 6.62 0 11.987-5.367 11.987-11.987C24.014 5.367 18.637.001 12.017.001zM8.449 16.988c-1.297 0-2.448-.49-3.323-1.297C4.198 14.895 3.708 13.744 3.708 12.447s.49-2.448 1.297-3.323c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.807.875 1.297 2.026 1.297 3.323s-.49 2.448-1.297 3.323c-.875.807-2.026 1.297-3.323 1.297zm7.718-1.297c-.875.807-2.026 1.297-3.323 1.297s-2.448-.49-3.323-1.297c-.807-.875-1.297-2.026-1.297-3.323s.49-2.448 1.297-3.323c.875-.807 2.026-1.297 3.323-1.297s2.448.49 3.323 1.297c.807.875 1.297 2.026 1.297 3.323s-.49 2.448-1.297 3.323z"})}),N.icon==="twitter"&&s.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})}),N.icon==="imdb"&&s.jsxs("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{d:"M0 0h24v24H0V0z",fill:"none"}),s.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})]}),N.icon==="website"&&s.jsx(qt,{className:"w-5 h-5"})]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold group-hover:text-netflix-red transition-colors text-sm",children:N.name}),s.jsx("p",{className:"text-xs text-gray-400",children:N.icon==="website"?"Visit homepage":`Follow on ${N.name}`})]})]},$)),lt().length===0&&s.jsxs("div",{className:"text-center py-6",children:[s.jsx(qt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"No social media links available"})]})]})]})]})]}),s.jsxs("div",{className:"space-y-16 mt-16",children:[a.length>0&&s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Videos & Trailers"})]}),s.jsxs("span",{className:"bg-gray-700/50 text-gray-300 px-3 py-1 rounded-full text-sm font-medium",children:[a.length," videos"]})]}),s.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide",children:a.slice(0,4).map(N=>s.jsxs("div",{className:"flex-shrink-0 w-80 group cursor-pointer",onClick:()=>we(N),children:[s.jsxs("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-black mb-3",children:[s.jsx("img",{src:`https://img.youtube.com/vi/${N.key}/maxresdefault.jpg`,alt:N.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:$=>{$.target.src=`https://img.youtube.com/vi/${N.key}/mqdefault.jpg`}}),s.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:s.jsx("div",{className:"w-16 h-16 bg-red-600 rounded-full flex items-center justify-center group-hover:scale-110 transition-transform",children:s.jsx(de,{className:"w-8 h-8 text-white fill-current ml-1"})})}),s.jsx("div",{className:"absolute bottom-3 right-3 bg-black/80 text-white text-xs px-2 py-1 rounded",children:N.type==="Trailer"?"2:30":"1:45"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("h3",{className:"font-semibold text-white group-hover:text-netflix-red transition-colors line-clamp-2 leading-tight",children:N.name}),s.jsxs("p",{className:"text-sm text-gray-400",children:[N.type,"  ",new Date(N.published_at).toLocaleDateString()]})]})]},N.id))})]}),o&&s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Cast & Crew"})]}),s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs("span",{className:"bg-gray-700/50 text-gray-300 px-3 py-1 rounded-full text-sm font-medium",children:[o.cast.length," cast  ",o.crew.length," crew"]})})]}),s.jsxs("div",{className:"flex mb-8 border-b border-gray-700",children:[s.jsxs("button",{onClick:()=>T("cast"),className:`px-6 py-3 font-semibold transition-colors relative ${C==="cast"?"text-netflix-red":"text-gray-400 hover:text-white"}`,children:["Cast (",o.cast.length,")",C==="cast"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-netflix-red"})]}),s.jsxs("button",{onClick:()=>T("crew"),className:`px-6 py-3 font-semibold transition-colors relative ${C==="crew"?"text-netflix-red":"text-gray-400 hover:text-white"}`,children:["Crew (",o.crew.length,")",C==="crew"&&s.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-netflix-red"})]})]}),C==="cast"&&s.jsxs("div",{children:[s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6",children:ve().slice(0,10).map(N=>s.jsxs("div",{className:"text-center group cursor-pointer",onClick:()=>at(N),children:[s.jsxs("div",{className:"aspect-[3/4] mb-4 rounded-lg overflow-hidden bg-gray-800 relative",children:[N.profile_path?s.jsx("img",{src:ze(N.profile_path,"w300"),alt:N.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Mt,{className:"w-16 h-16 text-gray-400"})}),s.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Mt,{className:"w-8 h-8 text-white mx-auto mb-2"}),s.jsx("p",{className:"text-white text-sm font-medium",children:"View Details"})]})}),N.order<5&&s.jsxs("div",{className:"absolute top-2 left-2 bg-netflix-red text-white text-xs font-bold px-2 py-1 rounded-full",children:["#",N.order+1]}),N.profile_path&&s.jsx("button",{onClick:$=>{$.stopPropagation(),me(ze(N.profile_path,"w500"),N.name)},className:"absolute bottom-2 right-2 bg-black/80 hover:bg-netflix-red/80 text-white p-2 rounded-full transition-all duration-300 hover:scale-110 group-hover:opacity-100 opacity-0",title:`Download ${N.name}'s photo`,children:s.jsx(Rt,{className:"w-4 h-4"})})]}),s.jsx("h3",{className:"font-bold text-white mb-1 group-hover:text-netflix-red transition-colors line-clamp-1",children:N.name}),s.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 mb-2",children:N.character})]},N.id))}),o.cast.length>10&&s.jsx("div",{className:"text-center mt-8",children:s.jsx("button",{onClick:()=>S(!k),className:"bg-white/10 hover:bg-white/20 text-white px-8 py-3 rounded-lg font-semibold transition-colors border border-white/20",children:k?"Show Less":`Show All ${o.cast.length} Cast Members`})})]}),C==="crew"&&s.jsx("div",{children:s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$e().slice(0,8).map(N=>s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-white/5 rounded-lg hover:bg-white/10 transition-colors group",children:[s.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-800 flex-shrink-0",children:N.profile_path?s.jsx("img",{src:ze(N.profile_path,"w200"),alt:N.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Mt,{className:"w-8 h-8 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-semibold text-white group-hover:text-netflix-red transition-colors truncate",children:N.name}),s.jsx("p",{className:"text-sm text-gray-400 truncate",children:N.job})]})]},`${N.id}-${N.job}`))})})]}),h.length>0&&s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Recommended Movies"})]}),s.jsxs("span",{className:"bg-gray-700/50 text-gray-300 px-3 py-1 rounded-full text-sm font-medium",children:[h.length," movies"]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:h.map(N=>s.jsxs("div",{className:"group cursor-pointer",onClick:()=>Rr(N.id,e),children:[s.jsx("div",{className:"aspect-[2/3] mb-3 rounded-lg overflow-hidden bg-gray-800",children:s.jsx("img",{src:be(N.poster_path,"w300"),alt:"title"in N?N.title:N.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",onError:$=>{$.target.src="/fallback-poster.jpg"}})}),s.jsx("h3",{className:"font-semibold text-sm mb-1 group-hover:text-netflix-red transition-colors line-clamp-2",children:"title"in N?N.title:N.name}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(ne,{className:"w-3 h-3 text-yellow-400 fill-current"}),s.jsx("span",{children:R(N.vote_average)}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date("release_date"in N?N.release_date:N.first_air_date).getFullYear()})]})]},N.id))})]}),d.length>0&&s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-1 h-8 bg-netflix-red rounded-full"}),s.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Similar Movies"})]}),s.jsxs("span",{className:"bg-gray-700/50 text-gray-300 px-3 py-1 rounded-full text-sm font-medium",children:[d.length," movies"]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4",children:d.map(N=>s.jsxs("div",{className:"group cursor-pointer",onClick:()=>Rr(N.id,e),children:[s.jsx("div",{className:"aspect-[2/3] mb-3 rounded-lg overflow-hidden bg-gray-800",children:s.jsx("img",{src:be(N.poster_path,"w300"),alt:"title"in N?N.title:N.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",onError:$=>{$.target.src="/fallback-poster.jpg"}})}),s.jsx("h3",{className:"font-semibold text-sm mb-1 group-hover:text-netflix-red transition-colors line-clamp-2",children:"title"in N?N.title:N.name}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[s.jsx(ne,{className:"w-3 h-3 text-yellow-400 fill-current"}),s.jsx("span",{children:R(N.vote_average)}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date("release_date"in N?N.release_date:N.first_air_date).getFullYear()})]})]},N.id))})]})]})]}),f&&w&&s.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:Ke,children:s.jsxs("div",{className:"relative w-full max-w-4xl bg-netflix-black rounded-lg overflow-hidden shadow-2xl",onClick:N=>N.stopPropagation(),children:[s.jsx("button",{onClick:Ke,className:"absolute top-4 right-4 z-10 w-10 h-10 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("div",{className:"aspect-video",children:s.jsx("iframe",{src:`https://www.youtube.com/embed/${w.key}?autoplay=1&controls=1&modestbranding=1&rel=0`,className:"w-full h-full",allowFullScreen:!0,title:w.name,allow:"autoplay; encrypted-media"})}),s.jsxs("div",{className:"p-6 bg-gradient-to-t from-black to-transparent",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:w.name}),s.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-400",children:[s.jsx("span",{className:"bg-netflix-red/20 text-netflix-red px-2 py-1 rounded",children:w.type}),s.jsx("span",{children:new Date(w.published_at).toLocaleDateString()}),s.jsx("span",{children:w.official?"Official":"Fan Made"})]})]})]})}),K&&L&&s.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:es,children:s.jsxs("div",{className:"relative w-full max-w-6xl bg-netflix-black rounded-xl overflow-hidden shadow-2xl max-h-[90vh] overflow-y-auto",onClick:N=>N.stopPropagation(),children:[s.jsx("button",{onClick:es,className:"absolute top-4 right-4 z-10 w-10 h-10 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("div",{className:"bg-gradient-to-r from-netflix-red/20 to-transparent p-6 border-b border-gray-700",children:s.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[s.jsx("div",{className:"w-full md:w-48 aspect-[3/4] rounded-lg overflow-hidden bg-gray-800 flex-shrink-0",children:L.profile_path?s.jsx("img",{src:ze(L.profile_path,"w500"),alt:L.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Mt,{className:"w-16 h-16 text-gray-400"})})}),s.jsxs("div",{className:"flex-1 space-y-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:L.name}),s.jsxs("p",{className:"text-xl text-gray-300 mb-3",children:['"',L.character,'"']}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[s.jsx("span",{className:"bg-netflix-red/20 text-netflix-red px-3 py-1 rounded-full text-sm font-medium",children:"Main Cast"}),L.order<5&&s.jsxs("span",{className:"bg-yellow-500/20 text-yellow-400 px-3 py-1 rounded-full text-sm font-medium",children:["Lead Role #",L.order+1]}),s.jsx("span",{className:"bg-blue-500/20 text-blue-400 px-3 py-1 rounded-full text-sm font-medium",children:L.order<3?"Lead Actor":L.order<8?"Supporting Actor":"Ensemble Cast"})]})]}),E&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[E.birthday&&s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Born:"}),s.jsx("p",{className:"text-white font-medium",children:new Date(E.birthday).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),E.place_of_birth&&s.jsx("p",{className:"text-gray-400 text-xs",children:E.place_of_birth})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Known For:"}),s.jsx("p",{className:"text-white font-medium",children:(E==null?void 0:E.known_for_department)||"Acting"}),s.jsxs("p",{className:"text-gray-400 text-xs",children:["Popularity: ",Math.round((E==null?void 0:E.popularity)||0)]})]})]}),(E==null?void 0:E.biography)&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Biography"}),s.jsx("p",{className:"text-gray-300 text-sm leading-relaxed line-clamp-3",children:E.biography})]}),M&&s.jsxs("div",{className:"flex items-center gap-3 text-gray-400",children:[s.jsx("div",{className:"relative w-5 h-5",children:s.jsx("div",{className:"w-5 h-5 netflix-spinner"})}),s.jsx("span",{children:"Loading actor information..."})]})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-2xl font-bold text-white",children:"Movies & TV Shows"}),D&&s.jsxs("span",{className:"text-gray-400",children:[D.cast.length," total credits"]})]}),D&&D.cast.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4 mb-6",children:D.cast.sort((N,$)=>new Date($.release_date||"").getTime()-new Date(N.release_date||"").getTime()).slice(0,se).map(N=>s.jsxs("div",{className:"group cursor-pointer",onClick:()=>O(N.id),children:[s.jsx("div",{className:"aspect-[2/3] mb-3 rounded-lg overflow-hidden bg-gray-800",children:s.jsx("img",{src:be(N.poster_path,"w300"),alt:N.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",onError:$=>{$.target.src="/fallback-poster.jpg"}})}),s.jsx("h4",{className:"font-semibold text-white text-sm mb-1 group-hover:text-netflix-red transition-colors line-clamp-2",children:N.title}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-1",children:[s.jsx(ne,{className:"w-3 h-3 text-yellow-400 fill-current"}),s.jsx("span",{children:Math.round(N.vote_average*10)/10}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date(N.release_date).getFullYear()})]}),N.character&&s.jsxs("p",{className:"text-xs text-gray-500 italic truncate",children:["as ",N.character]})]},N.id))}),D.cast.length>se&&s.jsx("div",{className:"text-center",children:s.jsxs("button",{onClick:_t,className:"bg-netflix-red hover:bg-netflix-red/80 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:["Load More Movies (",D.cast.length-se," remaining)"]})})]}):M?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-12 w-12 netflix-spinner-thick"}),s.jsx("div",{className:"h-12 w-12 netflix-ripple"})]}),s.jsx("p",{className:"text-gray-400 loading-text",children:"Loading filmography..."})]})}):s.jsx("div",{className:"text-center py-12",children:s.jsxs("div",{className:"text-gray-400 mb-4",children:[s.jsx(Ce,{className:"w-12 h-12 mx-auto mb-2"}),s.jsx("p",{children:"No filmography available"})]})})]}),s.jsx("div",{className:"bg-gray-900/50 p-6 border-t border-gray-700",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("button",{onClick:li,disabled:M,className:"flex-1 bg-white/10 hover:bg-white/20 text-white px-6 py-3 rounded-lg font-medium transition-colors border border-white/20 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[s.jsx(Mt,{className:"w-4 h-4"}),"View Full Biography"]}),(E==null?void 0:E.imdb_id)&&s.jsxs("a",{href:`https://www.imdb.com/name/${E.imdb_id}`,target:"_blank",rel:"noopener noreferrer",className:"flex-1 bg-yellow-600 hover:bg-yellow-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",children:[s.jsx(lu,{className:"w-4 h-4"}),"View on IMDb"]})]})})]})}),Z&&E&&D&&s.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:Ar,children:s.jsxs("div",{className:"relative w-full max-w-6xl bg-netflix-black rounded-xl overflow-hidden shadow-2xl max-h-[90vh] overflow-y-auto",onClick:N=>N.stopPropagation(),children:[s.jsx("button",{onClick:Ar,className:"absolute top-4 right-4 z-10 w-10 h-10 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsx("div",{className:"bg-gradient-to-r from-netflix-red/20 to-transparent p-6 border-b border-gray-700",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-800",children:E.profile_path?s.jsx("img",{src:ze(E.profile_path,"w200"),alt:E.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Mt,{className:"w-8 h-8 text-gray-400"})})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white",children:E.name}),s.jsxs("p",{className:"text-gray-400",children:["Filmography  ",D.cast.length," movies"]})]})]})}),s.jsxs("div",{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-6",children:"Movies as Actor"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:D.cast.sort((N,$)=>new Date($.release_date||"").getTime()-new Date(N.release_date||"").getTime()).slice(0,20).map(N=>s.jsxs("div",{className:"group cursor-pointer",onClick:()=>O(N.id),children:[s.jsx("div",{className:"aspect-[2/3] mb-3 rounded-lg overflow-hidden bg-gray-800",children:s.jsx("img",{src:be(N.poster_path,"w300"),alt:N.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform",onError:$=>{$.target.src="/fallback-poster.jpg"}})}),s.jsx("h4",{className:"font-semibold text-white text-sm mb-1 group-hover:text-netflix-red transition-colors line-clamp-2",children:N.title}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mb-1",children:[s.jsx(ne,{className:"w-3 h-3 text-yellow-400 fill-current"}),s.jsx("span",{children:Math.round(N.vote_average*10)/10}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date(N.release_date).getFullYear()})]}),N.character&&s.jsxs("p",{className:"text-xs text-gray-500 italic truncate",children:["as ",N.character]})]},N.id))}),D.cast.length>20&&s.jsx("div",{className:"text-center mt-8",children:s.jsxs("button",{className:"bg-white/10 hover:bg-white/20 text-white px-6 py-3 rounded-lg font-semibold transition-colors border border-white/20",children:["View All ",D.cast.length," Movies"]})})]})]})}),G&&E&&s.jsx("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:hn,children:s.jsxs("div",{className:"relative w-full max-w-4xl bg-netflix-black rounded-xl overflow-hidden shadow-2xl max-h-[90vh] overflow-y-auto",onClick:N=>N.stopPropagation(),children:[s.jsx("button",{onClick:hn,className:"absolute top-4 right-4 z-10 w-10 h-10 bg-black/50 hover:bg-black/70 rounded-full flex items-center justify-center text-white transition-colors",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),s.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.jsx("div",{className:"md:w-1/3 aspect-[3/4] md:aspect-auto",children:E.profile_path?s.jsx("img",{src:ze(E.profile_path,"w500"),alt:E.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:s.jsx(Mt,{className:"w-24 h-24 text-gray-400"})})}),s.jsxs("div",{className:"md:w-2/3 p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:E.name}),E.also_known_as.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-400 mb-2",children:"Also Known As"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:E.also_known_as.slice(0,3).map((N,$)=>s.jsx("span",{className:"bg-gray-700 text-gray-300 px-2 py-1 rounded text-sm",children:N},$))})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[E.birthday&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Born"}),s.jsx("p",{className:"text-gray-300",children:new Date(E.birthday).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}),E.place_of_birth&&s.jsx("p",{className:"text-gray-400 text-sm mt-1",children:E.place_of_birth})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Known For"}),s.jsx("p",{className:"text-gray-300",children:E.known_for_department}),s.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:["Popularity: ",Math.round(E.popularity)]})]})]}),E.biography&&s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Biography"}),s.jsx("div",{className:"text-gray-300 text-sm leading-relaxed space-y-3",children:E.biography.split(`

`).slice(0,3).map((N,$)=>s.jsx("p",{children:N},$))})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[E.imdb_id&&s.jsxs("a",{href:`https://www.imdb.com/name/${E.imdb_id}`,target:"_blank",rel:"noopener noreferrer",className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[s.jsx(lu,{className:"w-4 h-4"}),"IMDb"]}),E.homepage&&s.jsxs("a",{href:E.homepage,target:"_blank",rel:"noopener noreferrer",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center gap-2",children:[s.jsx(qt,{className:"w-4 h-4"}),"Website"]})]})]})]})]})})]}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-netflix-dark-purple via-netflix-purple-blue to-netflix-deep-blue flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Content not found"}),s.jsx(xe,{to:"/",className:"text-netflix-red hover:underline",children:"Return to Home"})]})})},g1=({items:e,onTrailerClick:t,type:r})=>{var y;const n=Cs(),[i,a]=g.useState(0),[l,o]=g.useState(!0),c=()=>{a(b=>(b+1)%e.length)},d=()=>{a(b=>(b-1+e.length)%e.length)},u=b=>{a(b)};g.useEffect(()=>{if(l&&e.length>1){const b=setInterval(c,5e3);return()=>clearInterval(b)}},[l,e.length]);const h=()=>{o(!1)},m=()=>{o(!0)};if(!e.length)return null;const v=e[i];return s.jsxs("div",{className:"relative h-[70vh] md:h-[85vh] overflow-hidden",onMouseEnter:h,onMouseLeave:m,children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:ze(v.backdrop_path,"original"),alt:v.title,className:"w-full h-full object-cover",onError:b=>{const x=b.target;x.src=ze(v.poster_path,"original")}}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/40 to-transparent"})]}),s.jsx("div",{className:"absolute inset-0 flex items-end",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 pb-8 md:pb-16",children:s.jsxs("div",{className:"max-w-2xl",children:[s.jsx("div",{className:"mb-4",children:s.jsx(ac,{logoPath:v.logo_path,title:v.title,size:"xl",className:"justify-start",textClassName:"text-3xl md:text-5xl font-bold",maxHeight:"max-h-20 md:max-h-28",contentId:v.id,contentType:r,enableOnDemandFetch:!0})}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ne,{className:"w-4 h-4 text-yellow-400 fill-current"}),s.jsx("span",{className:"text-sm",children:v.vote_average.toFixed(1)})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(gt,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm",children:(y=v.release_date||v.first_air_date)==null?void 0:y.split("-")[0]})]})]}),s.jsx("p",{className:"text-gray-300 mb-6 line-clamp-3 md:line-clamp-4",children:v.overview}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("button",{onClick:()=>n(`/watch/${r}/${v.id}`),className:"flex items-center gap-2 bg-white text-black hover:bg-gray-200 px-6 py-3 rounded-md transition-colors font-semibold","aria-label":`Watch ${v.title} now`,children:[s.jsx(de,{className:"w-5 h-5"}),"Watch Now"]}),s.jsxs("button",{onClick:()=>t(v.trailerKey),className:"flex items-center gap-2 bg-gray-700/80 hover:bg-gray-600 text-white px-6 py-3 rounded-md transition-colors","aria-label":`Watch ${v.title} trailer`,children:[s.jsx(de,{className:"w-5 h-5"}),"Watch Trailer"]})]})]})})}),e.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:d,className:"absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 bg-black/60 hover:bg-black/80 p-2 rounded-full transition-all duration-300 backdrop-blur-sm border border-white/20 hover:border-white/40 shadow-xl hover:scale-110","aria-label":"Previous slide",children:s.jsx(ks,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),s.jsx("button",{onClick:c,className:"absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 bg-black/60 hover:bg-black/80 p-2 rounded-full transition-all duration-300 backdrop-blur-sm border border-white/20 hover:border-white/40 shadow-xl hover:scale-110","aria-label":"Next slide",children:s.jsx(Ks,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})})]}),e.length>1&&s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex gap-2",children:e.map((b,x)=>s.jsx("button",{onClick:()=>u(x),className:`w-2 h-2 rounded-full transition-colors ${x===i?"bg-white":"bg-white/50"}`,"aria-label":`Go to slide ${x+1}`},x))})]})};function nT(e){if(!Array.isArray(e))return console.error("normalizeGenres expected an array of genres."),[];const t=new Set,r=[];for(const n of e){if(!n||typeof n.name!="string")continue;const i=n.name.trim();!i||t.has(i)||(t.add(i),r.push({id:n.id,name:i}))}return r}function iT(e){if(!Array.isArray(e))return console.error("normalizeYears expected an array of year strings."),[];const t=new Set,r=[];for(const n of e){if(typeof n!="string")continue;const i=n.trim(),a=Number(i);if(!i||Number.isNaN(a)||!Number.isFinite(a))continue;const l=String(Math.trunc(a));t.has(l)||(t.add(l),r.push(l))}return r.sort((n,i)=>Number(i)-Number(n)),r}function bo(e){if(typeof e!="number"||Number.isNaN(e)||!Number.isFinite(e))return console.error("validateRating expected a finite number. Received:",e),0;let t=Math.max(0,Math.min(10,e));return t=Math.round(t*2)/2,t}function aT(e,t){return!e||!Array.isArray(t)?"":t.find(n=>n.name===e)?e:(console.warn("validateSelectedGenre: selected genre is not in available options:",e),"")}function lT(e,t){return!e||!Array.isArray(t)?"":t.find(n=>n===e)?e:(console.warn("validateSelectedYear: selected year is not in available options:",e),"")}function oT(e){const{genres:t=[],years:r=[],selectedGenre:n="",selectedYear:i="",selectedRating:a=0}=e||{},l=nT(Array.isArray(t)?t:[]),o=iT(Array.isArray(r)?r:[]),c=typeof n=="string"?aT(n,l):"",d=typeof i=="string"?lT(i,o):"",u=bo(typeof a=="number"?a:0);return{normalizedGenres:l,normalizedYears:o,safeSelectedGenre:c,safeSelectedYear:d,safeSelectedRating:u}}const y1=({genres:e,years:t,searchQuery:r,selectedGenre:n,selectedYear:i,selectedRating:a,showFilters:l,onSearchChange:o,onGenreChange:c,onYearChange:d,onRatingChange:u,onToggleFilters:h})=>{const[m,v]=g.useState(r),y=g.useRef(null),{normalizedGenres:b,normalizedYears:x,safeSelectedGenre:f,safeSelectedYear:p,safeSelectedRating:w}=oT({genres:e,years:t,selectedGenre:n,selectedYear:i,selectedRating:a});g.useEffect(()=>{v(r||"")},[r]),g.useEffect(()=>()=>{y.current!==null&&(window.clearTimeout(y.current),y.current=null)},[]);const j=g.useCallback(C=>{const T=C.target.value;v(T),y.current!==null&&(window.clearTimeout(y.current),y.current=null),y.current=window.setTimeout(()=>{y.current=null;try{o(T)}catch(L){console.error("onSearchChange handler threw an error:",L)}},300)},[o]),k=g.useCallback(()=>{try{o(""),c(""),d(""),u(0),v("")}catch(C){console.error("Error while clearing filters:",C)}},[o,c,d,u]),S=!!r||!!n||!!i||w>0;return s.jsx("div",{className:"sticky top-0 z-40 bg-gray-900/95 backdrop-blur-sm border-b border-gray-800",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 py-4",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Ct,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search TV shows...",value:m,onChange:j,className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-red-600 transition-colors","aria-label":"Search TV shows"}),r&&s.jsx("button",{onClick:()=>o(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-white","aria-label":"Clear search",children:s.jsx(os,{className:"w-4 h-4"})})]}),s.jsxs("button",{onClick:h,className:"md:hidden flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors","aria-label":"Toggle filters",children:[s.jsx(sn,{className:"w-4 h-4"}),"Filters"]})]}),s.jsxs("div",{className:"hidden md:flex items-center gap-4",children:[s.jsxs("select",{value:f,onChange:C=>c(C.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-red-600 transition-colors","aria-label":"Filter by genre",children:[s.jsx("option",{value:"",children:"All Genres"}),b.map(C=>s.jsx("option",{value:C.name,children:C.name},C.id))]}),s.jsxs("select",{value:p,onChange:C=>d(C.target.value),className:"px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg focus:outline-none focus:border-red-600 transition-colors","aria-label":"Filter by year",children:[s.jsx("option",{value:"",children:"All Years"}),x.map(C=>s.jsx("option",{value:C,children:C},C))]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("label",{htmlFor:"rating-slider",className:"text-sm text-gray-400",children:["Min Rating: ",w||0]}),s.jsx("input",{id:"rating-slider",type:"range",min:"0",max:"10",step:"0.5",value:w,onChange:C=>u(bo(parseFloat(C.target.value))),className:"w-32 accent-red-600","aria-label":"Filter by minimum rating"})]}),S&&s.jsx("button",{onClick:k,className:"px-4 py-2 text-sm text-gray-400 hover:text-white transition-colors",children:"Clear all"})]}),l&&s.jsxs("div",{className:"md:hidden space-y-4 mt-4 p-4 bg-gray-800 rounded-lg",children:[s.jsxs("select",{value:f,onChange:C=>c(C.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-red-600 transition-colors","aria-label":"Filter by genre",children:[s.jsx("option",{value:"",children:"All Genres"}),b.map(C=>s.jsx("option",{value:C.name,children:C.name},C.id))]}),s.jsxs("select",{value:p,onChange:C=>d(C.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-red-600 transition-colors","aria-label":"Filter by year",children:[s.jsx("option",{value:"",children:"All Years"}),x.map(C=>s.jsx("option",{value:C,children:C},C))]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{htmlFor:"mobile-rating-slider",className:"text-sm text-gray-400",children:["Min Rating: ",w||0]}),s.jsx("input",{id:"mobile-rating-slider",type:"range",min:"0",max:"10",step:"0.5",value:w,onChange:C=>u(bo(parseFloat(C.target.value))),className:"w-full accent-red-600","aria-label":"Filter by minimum rating"})]}),S&&s.jsx("button",{onClick:k,className:"w-full px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:"Clear all filters"})]})]})})},X0=e=>{const t=[];for(const r of e)Array.isArray(r)&&r.length>0&&t.push(...r);return t},cT=e=>e.filter((t,r,n)=>r===n.findIndex(i=>i.id===t.id)),dT=(e,t)=>{if(!e||e.length===0)return[];const{searchQuery:r="",genreId:n=null,year:i="",minRating:a=0}=t;let l=e;const o=r.trim().toLowerCase();return o&&(l=l.filter(c=>(c.title||"").toLowerCase().includes(o)||(c.overview||"").toLowerCase().includes(o))),n&&(l=l.filter(c=>Array.isArray(c.genre_ids)&&c.genre_ids.includes(n))),i&&(l=l.filter(c=>{var d;return(d=c.release_date)==null?void 0:d.startsWith(i)})),a&&a>0&&(l=l.filter(c=>c.vote_average>=a)),cT(l)},J0=(e,t="An unexpected error occurred")=>(console.error(t,e),t),uT=async(e=5,t=Sr,r=Ma)=>{const n=await t(1),i=Array.isArray(n==null?void 0:n.results)?n.results.slice(0,e):[];return await Promise.all(i.map(async l=>{try{const o=await r(l.id),c=Array.isArray(o)?o.find(d=>d.type==="Trailer"&&d.site==="YouTube"):void 0;return{...l,title:l.title,trailerKey:c==null?void 0:c.key}}catch(o){return console.error(`Error fetching videos for movie ${l.id}:`,o),{...l,title:l.title,trailerKey:void 0}}}))},hT=async(e=Sr,t=Ea,r=Ko,n=Pa,i=Qo,a=Aa,l=Jo)=>{const[o,c,d,u,h,m]=await Promise.all([e(1),t(1),r(1),n(1),i(1),a()]),v=Array.isArray(m)?m:m||[],y={};return await Promise.all(v.map(async b=>{try{const x=await l(b.id,1);y[b.name]=Array.isArray(x==null?void 0:x.results)?x.results:[]}catch(x){console.error(`Error fetching movies for genre ${b.id}:`,x),y[b.name]=[]}})),{trending:Array.isArray(o==null?void 0:o.results)?o.results:[],popular:Array.isArray(c==null?void 0:c.results)?c.results:[],topRated:Array.isArray(d==null?void 0:d.results)?d.results:[],nowPlaying:Array.isArray(u==null?void 0:u.results)?u.results:[],upcoming:Array.isArray(h==null?void 0:h.results)?h.results:[],genres:v,genreRows:y}},mT=()=>{const[e,t]=g.useState([]),[r,n]=g.useState([]),[i,a]=g.useState([]),[l,o]=g.useState([]),[c,d]=g.useState([]),[u,h]=g.useState([]),[m,v]=g.useState({}),[y,b]=g.useState([]),[x,f]=g.useState(""),[p,w]=g.useState(""),[j,k]=g.useState(""),[S,C]=g.useState(0),[T,L]=g.useState(!0),[A,K]=g.useState(!1),[Y,Z]=g.useState(null),te=g.useCallback(async()=>{try{const M=await uT(5,Sr,Ma);t(M)}catch(M){Z(J0(M,"Failed to load hero movies. Please try again."))}},[]),G=g.useCallback(async()=>{L(!0),Z(null);try{const M=await hT(Sr,Ea,Ko,Pa,Qo,Aa,Jo);n(M.trending),a(M.popular),o(M.topRated),d(M.nowPlaying),h(M.upcoming),b(M.genres),v(M.genreRows)}catch(M){Z(J0(M,"Failed to load movies. Please try again."))}finally{L(!1)}},[]);g.useEffect(()=>{G(),te()},[G,te]);const q=g.useMemo(()=>X0([r,i,l,c,u]),[r,i,l,c,u]),E=g.useMemo(()=>{var H;if(!(!!x||!!p||!!j||S>0))return[];let B=q;if(p){const fe=m[p]||[];fe.length>0&&(B=X0([B,fe]))}const se=((H=y.find(fe=>fe.name===p))==null?void 0:H.id)??null;return dT(B,{searchQuery:x,genreId:se,year:j,minRating:S})},[q,x,p,j,S,y,m]),_=M=>{M&&window.open(`https://www.youtube.com/watch?v=${M}`,"_blank")},D=g.useMemo(()=>{const M=new Date().getFullYear();return Array.from({length:30},(B,se)=>(M-se).toString())},[]),z=async()=>{Z(null),await G(),await te()};return T?s.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-32 w-32 netflix-spinner-thick"}),s.jsx("div",{className:"h-32 w-32 netflix-ripple"}),s.jsx("div",{className:"h-32 w-32 netflix-ripple",style:{animationDelay:"0.5s"}})]})}):Y?s.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center px-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-red-400 text-lg mb-4",children:Y}),s.jsx("button",{onClick:z,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Retry"})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.length>0&&s.jsx(g1,{items:e,onTrailerClick:_,type:"movie"}),s.jsx(y1,{genres:y,years:D,searchQuery:x,selectedGenre:p,selectedYear:j,selectedRating:S,showFilters:A,onSearchChange:f,onGenreChange:w,onYearChange:k,onRatingChange:C,onToggleFilters:()=>K(!A)}),s.jsx("div",{className:"px-4 sm:px-8 py-8 space-y-12",children:x||p||j||S>0?E.length>0?s.jsx(dt,{title:"Search Results",items:E,type:"movie"}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-400 text-lg",children:"No movies found matching your criteria"})}):s.jsxs(s.Fragment,{children:[s.jsx(dt,{title:"Trending Now",items:r,type:"movie"}),s.jsx(dt,{title:"Popular on CineFlix",items:i,type:"movie"}),s.jsx(dt,{title:"Top Rated",items:l,type:"movie"}),s.jsx(dt,{title:"Now Playing",items:c,type:"movie"}),s.jsx(dt,{title:"Upcoming",items:u,type:"movie"}),y.map(M=>{const B=m[M.name];return B&&B.length>0?s.jsx(dt,{title:M.name,items:B,type:"movie"},M.id):null})]})})]})},fT=()=>{const[e,t]=g.useState([]),[r,n]=g.useState([]),[i,a]=g.useState([]),[l,o]=g.useState([]),[c,d]=g.useState([]),[u,h]=g.useState({}),[m,v]=g.useState([]),[y,b]=g.useState([]),[x,f]=g.useState(""),[p,w]=g.useState(""),[j,k]=g.useState(""),[S,C]=g.useState(0),[T,L]=g.useState(!0),[A,K]=g.useState(!1),Y=g.useMemo(()=>new Map,[]),Z=g.useCallback(async()=>{try{const D=(await da(1)).results.slice(0,5),z=await Promise.all(D.map(async M=>{try{const se=(await Zo(M.id)).find(H=>H.type==="Trailer"&&H.site==="YouTube");return{...M,title:M.name,trailerKey:se==null?void 0:se.key}}catch(B){return console.error(`Error fetching videos for show ${M.id}:`,B),{...M,title:M.name,trailerKey:void 0}}}));t(z)}catch(_){console.error("Error fetching hero shows:",_)}},[]),te=g.useCallback(async _=>{if(Y.has(_))return Y.get(_);try{const D=await tm(_,1);return Y.set(_,D.results),D.results}catch(D){return console.error(`Error fetching shows for genre ${_}:`,D),[]}},[Y]),G=g.useCallback(async()=>{L(!0);try{const[_,D,z,M,B]=await Promise.all([da(1),Kh(1),Cv(1),Qh(1),Xo()]);n(_.results),a(D.results),o(z.results),d(M.results),v(B);const se={};await Promise.all(B.map(async H=>{const fe=await te(H.id);se[H.name]=fe})),h(se),b(_.results)}catch(_){console.error("Error fetching TV shows data:",_)}finally{L(!1)}},[te]);g.useEffect(()=>{G(),Z()},[G,Z]),g.useEffect(()=>{var z;let _=[...r,...i,...l,...c];if(x&&(_=_.filter(M=>M.name.toLowerCase().includes(x.toLowerCase())||M.overview.toLowerCase().includes(x.toLowerCase()))),p){const M=(z=m.find(B=>B.name===p))==null?void 0:z.id;if(M){const B=u[p]||[];_=[..._,...B],_=_.filter(se=>se.genre_ids.includes(M))}}j&&(_=_.filter(M=>{var B;return(B=M.first_air_date)==null?void 0:B.startsWith(j)})),S>0&&(_=_.filter(M=>M.vote_average>=S));const D=_.filter((M,B,se)=>B===se.findIndex(H=>H.id===M.id));b(D)},[x,p,j,S,r,i,l,c,m,u]);const q=_=>{_&&window.open(`https://www.youtube.com/watch?v=${_}`,"_blank")},E=g.useMemo(()=>{const _=new Date().getFullYear();return Array.from({length:30},(D,z)=>(_-z).toString())},[]);return T?s.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-32 w-32 netflix-spinner-thick"}),s.jsx("div",{className:"h-32 w-32 netflix-ripple"}),s.jsx("div",{className:"h-32 w-32 netflix-ripple",style:{animationDelay:"0.5s"}})]})}):s.jsxs("div",{className:"min-h-screen bg-gray-900 text-white",children:[e.length>0&&s.jsx(g1,{items:e,onTrailerClick:q,type:"tv"}),s.jsx(y1,{genres:m,years:E,searchQuery:x,selectedGenre:p,selectedYear:j,selectedRating:S,showFilters:A,onSearchChange:f,onGenreChange:w,onYearChange:k,onRatingChange:C,onToggleFilters:()=>K(!A)}),s.jsx("div",{className:"px-4 sm:px-8 py-8 space-y-12",children:x||p||j||S>0?y.length>0?s.jsx(dt,{title:"Search Results",items:y,type:"tv"}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-gray-400 text-lg",children:"No shows found matching your criteria"})}):s.jsxs(s.Fragment,{children:[s.jsx(dt,{title:"Trending Now",items:r,type:"tv"}),s.jsx(dt,{title:"Popular on CineFlix",items:i,type:"tv"}),s.jsx(dt,{title:"Top Rated",items:l,type:"tv"}),s.jsx(dt,{title:"On the Air",items:c,type:"tv"}),m.map(_=>{const D=u[_.name];return D&&D.length>0?s.jsx(dt,{title:_.name,items:D,type:"tv"},_.id):null})]})})]})},xT=()=>{const[e]=sN(),[t,r]=g.useState([]),[n,i]=g.useState(!1),[a,l]=g.useState(e.get("q")||"");g.useEffect(()=>{const h=e.get("q");h&&o(h)},[e]);const o=async h=>{if(!h.trim()){r([]);return}i(!0);try{const m=await em(h);r(m.results.filter(v=>v.media_type==="movie"||v.media_type==="tv"))}catch(m){console.error("Search error:",m),r([])}finally{i(!1)}},c=h=>{h.preventDefault(),o(a)},d=h=>h.title||h.name||"Untitled",u=h=>{const m=h.release_date||h.first_air_date;return m?new Date(m).getFullYear():""};return s.jsx("div",{className:"min-h-screen bg-netflix-black pt-24",children:s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Search Results"}),s.jsx("form",{onSubmit:c,className:"max-w-md",children:s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:"text",value:a,onChange:h=>l(h.target.value),placeholder:"Search movies and TV shows...",className:"w-full bg-gray-800 text-white px-4 py-3 pl-12 rounded-lg focus:outline-none focus:ring-2 focus:ring-netflix-red"}),s.jsx(Ct,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"})]})})]}),n?s.jsx("div",{className:"flex justify-center py-12",children:s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-16 w-16 netflix-spinner-thick"}),s.jsx("div",{className:"h-16 w-16 netflix-ripple"}),s.jsx("div",{className:"h-16 w-16 netflix-ripple",style:{animationDelay:"0.5s"}})]})}):t.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ct,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl text-gray-400 mb-2",children:a?"No results found":"Search for movies and TV shows"}),s.jsx("p",{className:"text-gray-500",children:a?`No results found for "${a}"`:"Enter a search term to get started"})]}):s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-400 mb-6",children:["Found ",t.length,' results for "',a,'"']}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:t.map(h=>s.jsxs(xe,{to:`/${h.media_type}/${h.id}`,className:"group relative",children:[s.jsx("div",{className:"aspect-video bg-gray-800 rounded overflow-hidden",children:s.jsx("img",{src:ze(h.poster_path,"w500"),alt:d(h),className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110",onError:m=>{m.target.src="/fallback-poster.jpg"},loading:"lazy"})}),s.jsxs("div",{className:"mt-2",children:[s.jsx("h3",{className:"text-white font-medium text-sm line-clamp-2",children:d(h)}),s.jsxs("div",{className:"flex items-center text-xs text-gray-400 mt-1",children:[s.jsx("span",{children:u(h)}),s.jsx("span",{className:"mx-1",children:""}),s.jsxs("span",{className:"text-yellow-400",children:[" ",Math.round(h.vote_average*10)/10]})]}),s.jsx("span",{className:"text-xs text-gray-500 capitalize",children:h.media_type})]})]},h.id))})]})]})})},pT={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western",10759:"Action & Adventure",10762:"Kids",10763:"News",10764:"Reality",10765:"Sci-Fi & Fantasy",10766:"Soap",10767:"Talk",10768:"War & Politics"},id=(e=[])=>e.map(t=>pT[t]||"Unknown").slice(0,2),gT=()=>{var T,L,A,K,Y,Z,te,G,q;const[e,t]=g.useState({newReleases:{title:"New Releases",items:[],type:"mixed"},trendingNow:{title:"Trending Now",items:[],type:"mixed"},comingSoon:{title:"Coming Soon",items:[],type:"mixed"},top10Movies:{title:"Top 10 Movies",items:[],type:"movie"},top10TV:{title:"Top 10 TV Shows",items:[],type:"tv"},recentlyAddedMovies:{title:"Recently Added Movies",items:[],type:"movie"},recentlyAddedTV:{title:"Recently Added TV Shows",items:[],type:"tv"}}),[r,n]=g.useState(!0),[i,a]=g.useState(null),[l,o]=g.useState("all"),[c,d]=g.useState("popularity"),[u,h]=g.useState("week"),[m,v]=g.useState(0),[y,b]=g.useState(!1),[x,f]=g.useState(!1),[p,w]=g.useState("grid"),j=g.useRef(null);g.useEffect(()=>{k()},[l,c,u]),g.useEffect(()=>{const E=()=>{f(window.scrollY>50)};return window.addEventListener("scroll",E),()=>window.removeEventListener("scroll",E)},[]),g.useEffect(()=>{const E=setInterval(()=>{v(_=>(_+1)%Math.max(3,e.trendingNow.items.length))},5e3);return()=>clearInterval(E)},[e.trendingNow.items]);const k=async()=>{try{n(!0),a(null);const[E,_,D,z,M,B,se]=await Promise.all([Sr(),da(),Ea(),Kh(),Qo(),Pa(1),Qh()]),H=(it,I)=>it.map(R=>({...R,media_type:I,release_date:R.release_date||R.first_air_date,title:R.title||R.name,original_title:R.original_title||R.original_name})),fe=H(E.results.slice(0,20),"movie"),Ye=H(_.results.slice(0,20),"tv"),_e=H(D.results.slice(0,20),"movie"),pe=H(z.results.slice(0,20),"tv"),le=H(M.results.slice(0,20),"movie"),ye=H(B.results.slice(0,20),"movie"),Ne=H(se.results.slice(0,20),"tv");let Ie=fe,oe=Ye,vt=_e,Fe=pe,Q=le,qe=ye,Gt=Ne;l==="movies"?(oe=[],Fe=[],Gt=[]):l==="tv"&&(Ie=[],vt=[],Q=[],qe=[]),t({newReleases:{title:"New Releases",items:[...qe,...Gt].sort((it,I)=>new Date(I.release_date||0).getTime()-new Date(it.release_date||0).getTime()).slice(0,20),type:"mixed"},trendingNow:{title:"Trending Now",items:[...Ie,...oe].sort((it,I)=>(I.popularity||0)-(it.popularity||0)),type:"mixed"},comingSoon:{title:"Coming Soon",items:Q.sort((it,I)=>new Date(it.release_date||0).getTime()-new Date(I.release_date||0).getTime()),type:"movie"},top10Movies:{title:"Top 10 Movies",items:vt.sort((it,I)=>(I.vote_average||0)-(it.vote_average||0)).slice(0,10),type:"movie"},top10TV:{title:"Top 10 TV Shows",items:Fe.sort((it,I)=>(I.vote_average||0)-(it.vote_average||0)).slice(0,10),type:"tv"},recentlyAddedMovies:{title:"Recently Added Movies",items:qe.slice(0,20),type:"movie"},recentlyAddedTV:{title:"Recently Added TV Shows",items:Gt.slice(0,20),type:"tv"}})}catch(E){a("Failed to load content. Please try again later."),console.error("Error fetching data:",E)}finally{n(!1)}},S=e.trendingNow.items.slice(0,5),C=g.useCallback(E=>{v(_=>E==="prev"?_===0?S.length-1:_-1:_===S.length-1?0:_+1)},[S.length]);return r?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-netflix-dark-purple via-netflix-purple-blue to-netflix-deep-blue",children:s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsxs("div",{className:"flex flex-col items-center gap-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-32 w-32 netflix-spinner-thick"}),s.jsx("div",{className:"h-32 w-32 netflix-ripple"}),s.jsx("div",{className:"h-32 w-32 netflix-ripple",style:{animationDelay:"0.5s"}})]}),s.jsxs("div",{className:"text-center loading-text",children:[s.jsx("p",{className:"text-white text-xl font-medium mb-3",children:"Loading New & Popular"}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsx("div",{className:"netflix-dot"}),s.jsx("div",{className:"netflix-dot"}),s.jsx("div",{className:"netflix-dot"})]})]})]})})}):i?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-netflix-dark-purple via-netflix-purple-blue to-netflix-deep-blue",children:s.jsx("div",{className:"flex items-center justify-center h-screen",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Error"}),s.jsx("p",{className:"text-netflix-lightgray mb-4",children:i}),s.jsx("button",{onClick:k,className:"bg-netflix-red text-white px-6 py-2 rounded hover:bg-red-600 transition",children:"Try Again"})]})})}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-netflix-dark-purple via-netflix-purple-blue to-netflix-deep-blue text-white",children:[S.length>0&&s.jsxs("div",{ref:j,className:"relative h-[70vh] md:h-[85vh] overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:ze(((T=S[m])==null?void 0:T.backdrop_path)||null,"original"),alt:((L=S[m])==null?void 0:L.title)||((A=S[m])==null?void 0:A.name),className:"w-full h-full object-cover transition-transform duration-1000 ease-in-out",onError:ga}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-netflix-black via-netflix-black/60 to-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-netflix-black via-transparent to-transparent"})]}),s.jsx("button",{onClick:()=>C("prev"),className:"absolute left-2 sm:left-4 top-1/2 transform -translate-y-1/2 z-10 p-2 bg-black/60 hover:bg-black/80 rounded-full transition-all duration-300 backdrop-blur-sm border border-white/20 hover:border-white/40 shadow-xl hover:scale-110",children:s.jsx(ks,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),s.jsx("button",{onClick:()=>C("next"),className:"absolute right-2 sm:right-4 top-1/2 transform -translate-y-1/2 z-10 p-2 bg-black/60 hover:bg-black/80 rounded-full transition-all duration-300 backdrop-blur-sm border border-white/20 hover:border-white/40 shadow-xl hover:scale-110",children:s.jsx(Ks,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),s.jsx("div",{className:"absolute inset-0 flex items-center px-4 md:px-16",children:s.jsxs("div",{className:"max-w-2xl animate-fade-in",children:[s.jsx("div",{className:"mb-4 animate-slide-up",children:s.jsx(ac,{logoPath:(K=S[m])==null?void 0:K.logo_path,title:((Y=S[m])==null?void 0:Y.title)||((Z=S[m])==null?void 0:Z.name)||"",size:"xl",className:"justify-start",textClassName:"text-4xl md:text-6xl font-bold",maxHeight:"max-h-20 md:max-h-28 lg:max-h-32",contentId:(te=S[m])==null?void 0:te.id,contentType:((G=S[m])==null?void 0:G.media_type)||"movie",enableOnDemandFetch:!0})}),s.jsx("p",{className:"text-lg md:text-xl text-netflix-lightgray mb-6 line-clamp-3 animate-slide-up animation-delay-200",children:(q=S[m])==null?void 0:q.overview}),s.jsxs("div",{className:"flex gap-4 animate-slide-up animation-delay-400",children:[s.jsxs("button",{className:"bg-white text-black px-8 py-3 rounded flex items-center gap-2 hover:bg-opacity-80 transition hover:scale-105",children:[s.jsx(de,{className:"w-5 h-5",fill:"black"}),"Play"]}),S[m]&&S[m].id&&s.jsx(Fa,{content:S[m],contentType:S[m].media_type||"movie",variant:"button",className:"bg-gray-600/70 hover:bg-gray-600 transition hover:scale-105",showText:!0}),s.jsx("button",{className:"bg-gray-600/70 text-white px-8 py-3 rounded flex items-center gap-2 hover:bg-gray-600 transition hover:scale-105",children:s.jsx(Yy,{className:"w-5 h-5"})})]})]})}),s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex gap-2",children:S.map((E,_)=>s.jsx("button",{className:`w-2 h-2 rounded-full transition-all duration-300 ${_===m?"bg-white w-8":"bg-white/50 hover:bg-white/70"}`,onClick:()=>v(_)},_))})]}),s.jsx("div",{className:`sticky top-0 z-40 transition-all duration-300 ${x?"bg-netflix-black/95 backdrop-blur-md shadow-lg":"bg-netflix-black/90 backdrop-blur-sm"} border-b border-gray-800`,children:s.jsxs("div",{className:"px-4 md:px-16 py-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-white to-netflix-lightgray bg-clip-text text-transparent",children:"New & Popular"}),s.jsx("p",{className:"text-sm text-netflix-lightgray mt-1",children:"Discover trending content"})]}),s.jsxs("div",{className:"flex gap-3 items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:()=>w("carousel"),className:`p-2 rounded transition ${p==="carousel"?"bg-netflix-red text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,title:"Carousel view",children:s.jsx(Sa,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>w("grid"),className:`p-2 rounded transition ${p==="grid"?"bg-netflix-red text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,title:"Grid view",children:s.jsx(rn,{className:"w-4 h-4"})})]}),s.jsxs("button",{onClick:()=>b(!y),className:"flex items-center gap-2 px-4 py-2 bg-gray-800 rounded hover:bg-gray-700 transition",children:[s.jsx(sn,{className:"w-4 h-4"}),"Filters"]})]})]}),y&&s.jsx("div",{className:"mt-4 p-4 bg-gray-900 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Content Type"}),s.jsxs("select",{value:l,onChange:E=>o(E.target.value),className:"w-full px-3 py-2 bg-gray-800 rounded border border-gray-700 focus:border-netflix-red focus:outline-none transition",children:[s.jsx("option",{value:"all",children:"All Content"}),s.jsx("option",{value:"movies",children:"Movies Only"}),s.jsx("option",{value:"tv",children:"TV Shows Only"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Sort By"}),s.jsxs("select",{value:c,onChange:E=>d(E.target.value),className:"w-full px-3 py-2 bg-gray-800 rounded border border-gray-700 focus:border-netflix-red focus:outline-none transition",children:[s.jsx("option",{value:"popularity",children:"Popularity"}),s.jsx("option",{value:"release_date",children:"Release Date"}),s.jsx("option",{value:"rating",children:"Rating"}),s.jsx("option",{value:"title",children:"Alphabetical"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Time Period"}),s.jsxs("select",{value:u,onChange:E=>h(E.target.value),className:"w-full px-3 py-2 bg-gray-800 rounded border border-gray-700 focus:border-netflix-red focus:outline-none transition",children:[s.jsx("option",{value:"week",children:"This Week"}),s.jsx("option",{value:"month",children:"This Month"}),s.jsx("option",{value:"year",children:"This Year"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"View Mode"}),s.jsxs("select",{value:p,onChange:E=>w(E.target.value),className:"w-full px-3 py-2 bg-gray-800 rounded border border-gray-700 focus:border-netflix-red focus:outline-none transition",children:[s.jsx("option",{value:"carousel",children:"Carousel"}),s.jsx("option",{value:"grid",children:"Grid"})]})]})]})})]})}),s.jsx("div",{className:"px-4 md:px-16 py-8 space-y-12",children:Object.entries(e).map(([E,_])=>s.jsx(yT,{id:E,title:_.title,items:_.items,type:_.type},E))}),s.jsx("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"fixed bottom-8 right-8 bg-netflix-red text-white p-3 rounded-full hover:bg-red-600 transition shadow-lg",children:s.jsx(ks,{className:"w-6 h-6 rotate-90"})})]})},yT=({id:e,title:t,items:r,type:n})=>{const i=g.useRef(null),[a,l]=g.useState(!1),[o,c]=g.useState(!0);g.useEffect(()=>{const h=()=>{if(i.current){const{scrollLeft:v,scrollWidth:y,clientWidth:b}=i.current;l(v>0),c(v<y-b-10)}};h();const m=i.current;if(m)return m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)},[r]);const d=h=>{if(i.current){const m=window.innerWidth>768?600:300,v=i.current.scrollLeft,y=h==="left"?v-m:v+m;i.current.scrollTo({left:y,behavior:"smooth"})}};if(r.length===0)return null;const u=()=>s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl md:text-3xl font-bold bg-gradient-to-r from-white to-netflix-lightgray bg-clip-text text-transparent",children:t}),s.jsxs("p",{className:"text-sm text-netflix-lightgray mt-1",children:[r.length," ",r.length===1?"item":"items"]})]}),s.jsxs("div",{className:"flex gap-2",role:"group","aria-label":"Carousel navigation",children:[s.jsx("button",{onClick:()=>d("left"),disabled:!a,className:`p-2 rounded-full transition ${a?"bg-gray-800 hover:bg-gray-700 text-white":"bg-gray-900 text-gray-600 cursor-not-allowed"}`,"aria-label":"Scroll left",children:s.jsx(ks,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>d("right"),disabled:!o,className:`p-2 rounded-full transition ${o?"bg-gray-800 hover:bg-gray-700 text-white":"bg-gray-900 text-gray-600 cursor-not-allowed"}`,"aria-label":"Scroll right",children:s.jsx(Ks,{className:"w-5 h-5"})})]})]});return s.jsxs("section",{id:e,className:"space-y-6",children:[s.jsx(u,{}),s.jsx("div",{ref:i,className:"flex gap-4 overflow-x-auto scrollbar-hide pb-4",style:{scrollbarWidth:"none",msOverflowStyle:"none"},role:"region","aria-label":`${t} carousel`,tabIndex:0,children:r.map((h,m)=>s.jsx(vT,{item:h,index:m,type:n,onHover:()=>{},isHovered:!1},`${h.id}-${m}`))})]})},vT=({item:e,index:t,type:r,onHover:n,isHovered:i})=>{const[a,l]=g.useState(!1),[o,c]=g.useState(!1),{isMobile:d,isTablet:u}=ka(),h=!d&&!u,m=()=>{if(!e.release_date)return!1;const x=new Date(e.release_date),f=new Date;return f.setDate(f.getDate()-7),x>=f},v=()=>{h&&(l(!0),n==null||n(t))},y=()=>{h&&(l(!1),n==null||n(null))},b=h&&(i!==void 0?i:a);return s.jsxs("div",{className:`relative flex-shrink-0 w-36 sm:w-40 md:w-48 lg:w-64 group cursor-pointer transition-all duration-300 ${b?"scale-105 z-10":"scale-100"}`,onMouseEnter:v,onMouseLeave:y,children:[s.jsx(xe,{to:`/${e.media_type==="movie"?"movie":"tv"}/${e.id}`,children:s.jsxs("div",{className:"relative aspect-[2/3] overflow-hidden rounded-lg shadow-lg",children:[!o&&s.jsx("div",{className:"absolute inset-0 bg-gray-800 animate-pulse"}),s.jsx("img",{src:ze(e.poster_path||null,"w500"),alt:e.title||e.name,className:`w-full h-full object-cover transition-all duration-500 ${o?"opacity-100":"opacity-0"} ${b?"scale-110":"scale-100"}`,onError:ga,onLoad:()=>c(!0)}),s.jsx("div",{className:`absolute inset-0 bg-gradient-to-t from-black/90 via-black/20 to-transparent transition-opacity duration-300 ${b?"opacity-100":"opacity-0"}`,children:s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:[s.jsx("h4",{className:"text-sm font-bold mb-2 line-clamp-2",children:e.title||e.name}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-300 mb-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ne,{className:"w-3 h-3 fill-yellow-400 text-yellow-400"}),s.jsx("span",{children:(e.vote_average||0).toFixed(1)})]}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date(e.release_date||"").getFullYear()}),e.runtime&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[Math.floor(e.runtime/60),"h ",e.runtime%60,"m"]})]})]}),s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:id(e.genre_ids).map(x=>s.jsx("span",{className:"text-xs bg-gray-700/80 px-2 py-1 rounded",children:x},x))})]})}),s.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-all duration-300 ${b?"opacity-100":"opacity-0"}`,children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{className:"bg-white/90 text-black rounded-full p-3 hover:bg-white transition hover:scale-110",children:s.jsx(de,{className:"w-5 h-5 fill-black"})}),s.jsx($a,{content:e,contentType:r==="mixed"?e.media_type||"movie":r,variant:"icon",className:"bg-gray-800/90 text-white rounded-full p-3 hover:bg-gray-700 transition hover:scale-110",showText:!1}),s.jsx("button",{className:"bg-gray-800/90 text-white rounded-full p-3 hover:bg-gray-700 transition hover:scale-110",children:s.jsx(qr,{className:"w-5 h-5"})})]})}),s.jsxs("div",{className:"absolute top-2 left-2 flex gap-2",children:[m()&&s.jsx("div",{className:"bg-netflix-red text-white text-xs font-bold px-2 py-1 rounded animate-pulse",children:"NEW"}),r==="movie"&&t<10&&s.jsxs("div",{className:"bg-black/80 text-white text-sm font-bold px-2 py-1 rounded backdrop-blur-sm",children:["#",t+1]}),e.vote_average&&e.vote_average>=8&&s.jsx("div",{className:"bg-yellow-500 text-black text-xs font-bold px-2 py-1 rounded",children:"TOP RATED"})]}),e.vote_average&&s.jsxs("div",{className:"absolute top-2 right-2 bg-black/80 text-white text-sm font-bold px-2 py-1 rounded backdrop-blur-sm",children:[(e.vote_average*10).toFixed(0),"%"]})]})}),s.jsxs("div",{className:"mt-2 px-1",children:[s.jsx("h4",{className:"text-sm font-semibold line-clamp-2 hover:text-netflix-red transition-colors",children:e.title||e.name}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-netflix-lightgray mt-1",children:[s.jsx("span",{children:new Date(e.release_date||"").getFullYear()}),s.jsx("span",{children:""}),s.jsxs("span",{children:[(e.vote_average||0).toFixed(1)," "]}),id(e.genre_ids)[0]&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsx("span",{className:"text-netflix-red",children:id(e.genre_ids)[0]})]})]})]})]})},wT=({stats:e,viewMode:t,onViewModeChange:r,sortBy:n,sortDirection:i,onSortChange:a,onStatsClick:l,onExportClick:o,selectedCount:c,totalCount:d})=>{const u=m=>n!==m?s.jsx(dN,{className:"w-4 h-4"}):i==="asc"?s.jsx(uN,{className:"w-4 h-4"}):s.jsx(cN,{className:"w-4 h-4"}),h=m=>{if(m<1)return`${Math.round(m*60)}m`;if(m<24)return`${Math.round(m)}h`;const v=Math.floor(m/24),y=Math.round(m%24);return`${v}d ${y}h`};return s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"My List"}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-400",children:[s.jsxs("span",{children:[e.totalItems," items"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[e.totalMovies," movies"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[e.totalTVShows," TV shows"]}),s.jsx("span",{children:""}),s.jsxs("span",{children:[h(e.totalHours)," total"]}),e.completionRate>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("span",{children:[e.completionRate,"% completed"]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-4 lg:mt-0",children:[s.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[s.jsx(Yr,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Stats"})]}),s.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[s.jsx(Rt,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Export"})]})]})]}),c>0&&s.jsx("div",{className:"bg-netflix-red/10 border border-netflix-red/20 rounded-lg p-4 mb-6",children:s.jsxs("p",{className:"text-netflix-red",children:[c," of ",d," items selected"]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-400 text-sm mr-2",children:"View:"}),s.jsxs("div",{className:"flex bg-gray-800 rounded-lg p-1",children:[s.jsxs("button",{onClick:()=>r("grid"),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${t==="grid"?"bg-netflix-red text-white":"text-gray-400 hover:text-white"}`,children:[s.jsx(rn,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Grid"})]}),s.jsxs("button",{onClick:()=>r("list"),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${t==="list"?"bg-netflix-red text-white":"text-gray-400 hover:text-white"}`,children:[s.jsx(Sa,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"List"})]}),s.jsxs("button",{onClick:()=>r("compact"),className:`flex items-center gap-2 px-3 py-2 rounded-md transition-colors ${t==="compact"?"bg-netflix-red text-white":"text-gray-400 hover:text-white"}`,children:[s.jsx(Wy,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Compact"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-gray-400 text-sm mr-2",children:"Sort by:"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{onClick:()=>a("dateAdded"),className:`flex items-center gap-1 px-3 py-2 rounded-lg transition-colors ${n==="dateAdded"?"bg-netflix-red text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:["Date Added",u("dateAdded")]}),s.jsxs("button",{onClick:()=>a("title"),className:`flex items-center gap-1 px-3 py-2 rounded-lg transition-colors ${n==="title"?"bg-netflix-red text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:["Title",u("title")]}),s.jsxs("button",{onClick:()=>a("rating"),className:`flex items-center gap-1 px-3 py-2 rounded-lg transition-colors ${n==="rating"?"bg-netflix-red text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:["Rating",u("rating")]}),s.jsxs("button",{onClick:()=>a("runtime"),className:`flex items-center gap-1 px-3 py-2 rounded-lg transition-colors ${n==="runtime"?"bg-netflix-red text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:[s.jsx("span",{className:"hidden sm:inline",children:"Runtime"}),s.jsx("span",{className:"sm:hidden",children:"Time"}),u("runtime")]})]})]})]})]})},bT=({filters:e,onFilterChange:t,availableTags:r})=>{const[n,i]=g.useState(!1),a=()=>e.contentType!=="all"||e.status!=="all"||e.genres.length>0||e.dateAdded!=="all"||e.rating!=="all"||e.runtime!=="all"||e.releaseYear!=="all"||e.customTags.length>0||e.priority!=="all"||e.liked!=="all",l=()=>{t({contentType:"all",status:"all",genres:[],dateAdded:"all",rating:"all",runtime:"all",releaseYear:"all",customTags:[],priority:"all",liked:"all"})},o=c=>{const d=e.customTags.includes(c)?e.customTags.filter(u=>u!==c):[...e.customTags,c];t({customTags:d})};return s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(sn,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-gray-400 text-sm",children:"Filters:"})]}),s.jsxs("select",{value:e.contentType,onChange:c=>t({contentType:c.target.value}),className:"bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-netflix-red focus:outline-none",children:[s.jsx("option",{value:"all",children:"All Content"}),s.jsx("option",{value:"movie",children:"Movies"}),s.jsx("option",{value:"tv",children:"TV Shows"}),s.jsx("option",{value:"documentary",children:"Documentaries"})]}),s.jsxs("select",{value:e.status,onChange:c=>t({status:c.target.value}),className:"bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-netflix-red focus:outline-none",children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"notStarted",children:"Not Started"}),s.jsx("option",{value:"inProgress",children:"In Progress"}),s.jsx("option",{value:"completed",children:"Completed"}),s.jsx("option",{value:"dropped",children:"Dropped"})]}),s.jsxs("select",{value:e.priority,onChange:c=>t({priority:c.target.value}),className:"bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-netflix-red focus:outline-none",children:[s.jsx("option",{value:"all",children:"All Priority"}),s.jsx("option",{value:"high",children:"High Priority"}),s.jsx("option",{value:"medium",children:"Medium Priority"}),s.jsx("option",{value:"low",children:"Low Priority"})]}),s.jsxs("select",{value:e.liked,onChange:c=>t({liked:c.target.value}),className:"bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-netflix-red focus:outline-none",children:[s.jsx("option",{value:"all",children:"All Content"}),s.jsx("option",{value:"liked",children:" Liked"}),s.jsx("option",{value:"notLiked",children:"Not Liked"})]}),s.jsxs("button",{onClick:()=>i(!n),className:"flex items-center gap-2 px-3 py-2 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:[s.jsx("span",{children:"Advanced"}),s.jsx(ei,{className:`w-4 h-4 transition-transform ${n?"rotate-180":""}`})]}),a()&&s.jsxs("button",{onClick:l,className:"flex items-center gap-2 px-3 py-2 bg-netflix-red hover:bg-red-700 text-white rounded-lg transition-colors",children:[s.jsx(os,{className:"w-4 h-4"}),"Clear All"]})]}),n&&s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-4 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-gray-400 text-sm mb-2",children:[s.jsx(gt,{className:"w-4 h-4"}),"Date Added"]}),s.jsxs("select",{value:e.dateAdded,onChange:c=>t({dateAdded:c.target.value}),className:"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-netflix-red focus:outline-none",children:[s.jsx("option",{value:"all",children:"All Time"}),s.jsx("option",{value:"lastWeek",children:"Last Week"}),s.jsx("option",{value:"lastMonth",children:"Last Month"}),s.jsx("option",{value:"lastYear",children:"Last Year"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-gray-400 text-sm mb-2",children:[s.jsx(ne,{className:"w-4 h-4"}),"Rating"]}),s.jsxs("select",{value:e.rating,onChange:c=>t({rating:c.target.value}),className:"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-netflix-red focus:outline-none",children:[s.jsx("option",{value:"all",children:"All Ratings"}),s.jsx("option",{value:"high",children:"High (8.0+)"}),s.jsx("option",{value:"medium",children:"Medium (6.0-7.9)"}),s.jsx("option",{value:"low",children:"Low (<6.0)"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-gray-400 text-sm mb-2",children:[s.jsx(yt,{className:"w-4 h-4"}),"Runtime"]}),s.jsxs("select",{value:e.runtime,onChange:c=>t({runtime:c.target.value}),className:"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-netflix-red focus:outline-none",children:[s.jsx("option",{value:"all",children:"All Lengths"}),s.jsx("option",{value:"short",children:"Short (<90 min)"}),s.jsx("option",{value:"medium",children:"Medium (90-150 min)"}),s.jsx("option",{value:"long",children:"Long (150+ min)"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-gray-400 text-sm mb-2",children:[s.jsx(gt,{className:"w-4 h-4"}),"Release Year"]}),s.jsxs("select",{value:e.releaseYear,onChange:c=>t({releaseYear:c.target.value}),className:"w-full bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-700 focus:border-netflix-red focus:outline-none",children:[s.jsx("option",{value:"all",children:"All Years"}),s.jsx("option",{value:"recent",children:"Recent (2020+)"}),s.jsx("option",{value:"classic",children:"Classic (Before 2000)"})]})]})]}),r.length>0&&s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-gray-400 text-sm mb-2",children:[s.jsx(oo,{className:"w-4 h-4"}),"Custom Tags"]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(c=>s.jsx("button",{onClick:()=>o(c),className:`px-3 py-1 rounded-full text-sm transition-colors ${e.customTags.includes(c)?"bg-netflix-red text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:c},c))})]})]}),a()&&s.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[e.contentType!=="all"&&s.jsxs("div",{className:"flex items-center gap-2 bg-netflix-red/20 text-netflix-red px-3 py-1 rounded-full text-sm",children:[s.jsx(Ce,{className:"w-3 h-3"}),e.contentType==="movie"?"Movies":e.contentType==="tv"?"TV Shows":e.contentType==="documentary"?"Documentaries":e.contentType,s.jsx("button",{onClick:()=>t({contentType:"all"}),className:"hover:text-white",children:s.jsx(os,{className:"w-3 h-3"})})]}),e.status!=="all"&&s.jsxs("div",{className:"flex items-center gap-2 bg-netflix-red/20 text-netflix-red px-3 py-1 rounded-full text-sm",children:[s.jsx("span",{className:"capitalize",children:e.status.replace(/([A-Z])/g," $1").trim()}),s.jsx("button",{onClick:()=>t({status:"all"}),className:"hover:text-white",children:s.jsx(os,{className:"w-3 h-3"})})]}),e.priority!=="all"&&s.jsxs("div",{className:"flex items-center gap-2 bg-netflix-red/20 text-netflix-red px-3 py-1 rounded-full text-sm",children:[s.jsxs("span",{className:"capitalize",children:[e.priority," Priority"]}),s.jsx("button",{onClick:()=>t({priority:"all"}),className:"hover:text-white",children:s.jsx(os,{className:"w-3 h-3"})})]}),e.customTags.map(c=>s.jsxs("div",{className:"flex items-center gap-2 bg-netflix-red/20 text-netflix-red px-3 py-1 rounded-full text-sm",children:[s.jsx(oo,{className:"w-3 h-3"}),c,s.jsx("button",{onClick:()=>o(c),className:"hover:text-white",children:s.jsx(os,{className:"w-3 h-3"})})]},c))]})]})},jT=({continueWatching:e,recentlyAdded:t})=>{const r=(o,c="w300")=>o?`https://image.tmdb.org/t/p/${c}${o}`:"/api/placeholder/300/450",n=o=>o.content.title||o.content.name||"Unknown Title",i=o=>{const c=o.content.release_date||o.content.first_air_date;return c?new Date(c).getFullYear():""},a=o=>`${Math.round(o)}%`,l=({item:o,showProgress:c=!1})=>s.jsxs("div",{className:"group relative bg-gray-900 rounded-lg overflow-hidden hover:scale-105 transition-transform duration-200",children:[s.jsx(xe,{to:`/${o.contentType}/${o.contentId}`,className:"block",children:s.jsxs("div",{className:"aspect-[2/3] relative",children:[s.jsx("img",{src:r(o.content.poster_path),alt:n(o),className:"w-full h-full object-cover",loading:"lazy"}),c&&o.progress>0&&s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black/60 p-2",children:[s.jsx("div",{className:"w-full bg-gray-600 rounded-full h-1 mb-1",children:s.jsx("div",{className:"bg-netflix-red h-1 rounded-full transition-all duration-300",style:{width:`${o.progress}%`}})}),s.jsxs("p",{className:"text-xs text-white",children:[a(o.progress)," watched"]})]}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors duration-200 flex items-center justify-center",children:s.jsx(de,{className:"w-12 h-12 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200"})}),o.priority==="high"&&s.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-netflix-red rounded-full"})]})}),s.jsxs("div",{className:"p-3",children:[s.jsx("h3",{className:"text-white font-medium text-sm mb-1 line-clamp-2",children:n(o)}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[s.jsx("span",{children:i(o)}),s.jsx("span",{className:"capitalize",children:o.contentType})]}),o.personalRating&&s.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[s.jsx("span",{className:"text-yellow-400",children:""}),s.jsxs("span",{className:"text-xs text-gray-400",children:[o.personalRating,"/5"]})]})]})]});return s.jsxs("div",{className:"mb-8 space-y-6",children:[e.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(de,{className:"w-5 h-5 text-netflix-red"}),"Continue Watching"]}),s.jsxs(xe,{to:"/my-list?filter=inProgress",className:"text-netflix-red hover:text-red-400 text-sm flex items-center gap-1",children:["View All",s.jsx(fx,{className:"w-4 h-4"})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:e.slice(0,6).map(o=>s.jsx(l,{item:o,showProgress:!0},o.id))})]}),t.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-xl font-semibold text-white flex items-center gap-2",children:[s.jsx(Ds,{className:"w-5 h-5 text-netflix-red"}),"Recently Added"]}),s.jsxs(xe,{to:"/my-list?sort=dateAdded",className:"text-netflix-red hover:text-red-400 text-sm flex items-center gap-1",children:["View All",s.jsx(fx,{className:"w-4 h-4"})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:t.slice(0,6).map(o=>s.jsx(l,{item:o},o.id))})]}),s.jsx("div",{className:"bg-gray-900/50 rounded-lg p-4",children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-netflix-red",children:e.length}),s.jsx("div",{className:"text-sm text-gray-400",children:"In Progress"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-netflix-red",children:t.length}),s.jsx("div",{className:"text-sm text-gray-400",children:"Recently Added"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-2xl font-bold text-netflix-red",children:e.filter(o=>o.priority==="high").length}),s.jsx("div",{className:"text-sm text-gray-400",children:"High Priority"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-2xl font-bold text-netflix-red",children:[Math.round(e.reduce((o,c)=>o+c.progress,0)/Math.max(e.length,1)),"%"]}),s.jsx("div",{className:"text-sm text-gray-400",children:"Avg Progress"})]})]})})]})},jo=(e,t)=>{try{if(!e||typeof e!="object")return;const r=e.content;return!r||typeof r!="object"?void 0:r[t]}catch{return}},NT=(e,t="w300")=>e?`https://image.tmdb.org/t/p/${t}${e}`:"/api/placeholder/300/450",ST=e=>{const t=e==null?void 0:e.content,r=(t==null?void 0:t.title)||(t==null?void 0:t.name)||(t==null?void 0:t.original_title)||(t==null?void 0:t.original_name);return typeof r=="string"&&r.trim().length>0?r:"Unknown Title"},kT=e=>{const t=jo(e,"release_date")||jo(e,"first_air_date");if(!t)return"";const r=Date.parse(t);if(Number.isNaN(r))return"";try{return new Date(r).getFullYear().toString()}catch{return""}},CT=e=>{const t=typeof e=="number"&&!Number.isNaN(e)&&e>=0?Math.floor(e):0,r=Math.floor(t/60),n=t%60;return r>0?`${r}h ${n}m`:`${n}m`},TT=e=>{const t=typeof e=="number"&&!Number.isNaN(e)?e:0;return`${Math.round(t)}%`},_T=e=>{switch(e){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},ET=e=>{switch(e){case"completed":return"text-green-400";case"inProgress":return"text-yellow-400";case"dropped":return"text-red-400";default:return"text-gray-400"}},PT=e=>!e||typeof e!="string"?"":e.replace(/([A-Z])/g," $1").trim(),MT=e=>{const t=jo(e,"vote_average");return typeof t=="number"&&!Number.isNaN(t)?t:void 0},AT=e=>{const t=e==null?void 0:e.progress;return typeof t=="number"&&!Number.isNaN(t)?t:0},RT=e=>{const t=e==null?void 0:e.customTags;return Array.isArray(t)?t:[]},LT=e=>{if(!e||typeof e!="string")return"Unknown date";const t=Date.parse(e);if(Number.isNaN(t))return"Unknown date";try{return new Date(t).toLocaleDateString()}catch{return"Unknown date"}},DT=(e,t)=>Array.isArray(t)&&t.includes(e),ep=({items:e,selectedItems:t,onItemSelect:r,onItemUpdate:n,onItemRemove:i})=>{const[a,l]=g.useState(null);if(!Array.isArray(e)||e.length===0)return s.jsx("div",{className:"text-gray-400",children:"No items to display"});const o=(u,h)=>{const m=h==="completed"?100:h==="notStarted"?0:void 0;n(u,{status:h,...m!==void 0&&{progress:m}}),l(null)},c=(u,h)=>{n(u,{priority:h}),l(null)},d=({item:u})=>{const h=DT(u.id,t),m=jo(u,"poster_path"),v=NT(m),y=ST(u),b=kT(u),x=CT(u==null?void 0:u.estimatedRuntime),f=PT(u.status),p=ET(u.status),w=_T(u.priority),j=MT(u),k=typeof j=="number"&&j>0,S=AT(u),C=S>0,T=RT(u),L=LT(u==null?void 0:u.dateAdded);return s.jsxs("div",{className:"group relative bg-gray-900 rounded-lg overflow-hidden hover:scale-105 transition-all duration-200",children:[s.jsx("div",{className:"absolute top-2 left-2 z-10",children:s.jsx("button",{onClick:A=>{A.preventDefault(),A.stopPropagation(),r(u.id,!h)},className:`p-1 rounded transition-colors ${h?"bg-netflix-red text-white":"bg-black/60 text-white hover:bg-black/80"}`,children:h?s.jsx(wr,{className:"w-4 h-4"}):s.jsx(br,{className:"w-4 h-4"})})}),s.jsx("div",{className:`absolute top-2 right-2 w-3 h-3 rounded-full ${w}`}),u.isLiked&&s.jsx("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 z-10",children:s.jsxs("div",{className:"bg-red-600/80 backdrop-blur-sm rounded-full px-2 py-1 shadow-lg flex items-center gap-1",children:[s.jsx(rt,{className:"w-3 h-3 text-white fill-current"}),s.jsx("span",{className:"text-white text-xs font-medium",children:"Liked"})]})}),s.jsxs("div",{className:"absolute top-2 right-8 z-10",children:[s.jsx("button",{onClick:A=>{A.preventDefault(),A.stopPropagation(),l(a===u.id?null:u.id)},className:"p-1 bg-black/60 text-white rounded hover:bg-black/80 transition-colors",children:s.jsx(Fh,{className:"w-4 h-4"})}),a===u.id&&s.jsxs("div",{className:"absolute right-0 top-8 bg-gray-800 rounded-lg shadow-lg py-2 min-w-48 z-20",children:[s.jsx("div",{className:"px-3 py-1 text-xs text-gray-400 border-b border-gray-700",children:"Status"}),s.jsxs("button",{onClick:()=>o(u.id,"notStarted"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx(br,{className:"w-4 h-4"}),"Not Started"]}),s.jsxs("button",{onClick:()=>o(u.id,"inProgress"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx(de,{className:"w-4 h-4"}),"In Progress"]}),s.jsxs("button",{onClick:()=>o(u.id,"completed"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx(wr,{className:"w-4 h-4"}),"Completed"]}),s.jsxs("button",{onClick:()=>o(u.id,"dropped"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx(aa,{className:"w-4 h-4"}),"Dropped"]}),s.jsx("div",{className:"px-3 py-1 text-xs text-gray-400 border-b border-gray-700 mt-2",children:"Priority"}),s.jsxs("button",{onClick:()=>c(u.id,"high"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),"High Priority"]}),s.jsxs("button",{onClick:()=>c(u.id,"medium"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),"Medium Priority"]}),s.jsxs("button",{onClick:()=>c(u.id,"low"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),"Low Priority"]}),s.jsx("div",{className:"px-3 py-1 text-xs text-gray-400 border-b border-gray-700 mt-2",children:"Actions"}),s.jsxs("button",{onClick:()=>{i(u.id),l(null)},className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-red-400 text-sm flex items-center gap-2",children:[s.jsx(Oo,{className:"w-4 h-4"}),"Remove from List"]})]})]}),s.jsx(xe,{to:`/${u.contentType}/${u.contentId}`,className:"block",children:s.jsxs("div",{className:"aspect-[2/3] relative",children:[s.jsx("img",{src:v,alt:y,className:"w-full h-full object-cover",loading:"lazy"}),C&&s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 bg-black/80 p-2",children:[s.jsx("div",{className:"w-full bg-gray-600 rounded-full h-1 mb-1",children:s.jsx("div",{className:"bg-netflix-red h-1 rounded-full transition-all duration-300",style:{width:`${S}%`}})}),s.jsxs("p",{className:"text-xs text-white",children:[TT(S)," watched"]})]}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors duration-200 flex items-center justify-center",children:s.jsx(de,{className:"w-12 h-12 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-200"})})]})}),s.jsxs("div",{className:"p-3",children:[s.jsx("h3",{className:"text-white font-medium text-sm mb-2 line-clamp-2",children:y}),s.jsxs("div",{className:"space-y-1 text-xs text-gray-400",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:b}),s.jsx("span",{className:"capitalize",children:u.contentType})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{children:x}),s.jsx("span",{className:p,children:f})]}),k&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ne,{className:"w-3 h-3 text-yellow-400"}),s.jsx("span",{children:j.toFixed(1)})]}),typeof u.personalRating=="number"&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"text-yellow-400",children:""}),s.jsxs("span",{children:["Your rating: ",u.personalRating,"/5"]})]}),T.length>0&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(oo,{className:"w-3 h-3"}),s.jsx("span",{className:"truncate",children:T.join(", ")})]}),s.jsxs("div",{className:"flex items-center gap-1 text-xs",children:[s.jsx(gt,{className:"w-3 h-3"}),s.jsxs("span",{children:["Added ",L]})]})]})]})]})};return ln.useEffect(()=>{const u=()=>l(null);return document.addEventListener("click",u),()=>document.removeEventListener("click",u)},[]),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4",children:e.map(u=>s.jsx(d,{item:u},u.id))})},IT=(e,t="w154")=>e?`https://image.tmdb.org/t/p/${t}${e}`:"/api/placeholder/154/231",FT=e=>{const t=e==null?void 0:e.content;return t&&(t.title||t.name)||"Unknown Title"},$T=e=>{const t=e==null?void 0:e.content,r=(t==null?void 0:t.release_date)||(t==null?void 0:t.first_air_date);if(!r)return"";const n=Date.parse(r);return isNaN(n)?"":new Date(n).getFullYear().toString()},VT=e=>{if(!e||e<=0)return"0m";const t=Math.floor(e/60),r=e%60;return t>0?`${t}h ${r}m`:`${r}m`},OT=e=>{const t=typeof e=="number"&&!isNaN(e)?e:0;return`${Math.round(t)}%`},zT=e=>{switch(e){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},BT=e=>{switch(e){case"completed":return"text-green-400";case"inProgress":return"text-yellow-400";case"dropped":return"text-red-400";default:return"text-gray-400"}},UT=e=>{if(!e)return{};const t={status:e};return e==="completed"?t.progress=100:e==="notStarted"&&(t.progress=0),t},HT=e=>e?{priority:e}:{},WT=({item:e,selectedItems:t,onItemSelect:r,onItemUpdate:n,onItemRemove:i,showingMenu:a,setShowingMenu:l})=>{var b;const o=t.includes(e.id),c=FT(e),d=$T(e),u=VT(e.estimatedRuntime),h=e.content&&typeof e.content.vote_average=="number"?e.content.vote_average:0,m=e.content&&e.content.overview?e.content.overview:"",v=(x,f)=>{const p=UT(f);n(x,p),l(null)},y=(x,f)=>{const p=HT(f);n(x,p),l(null)};return s.jsx("div",{className:"group bg-gray-900/50 hover:bg-gray-800/50 rounded-lg p-4 transition-colors",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:x=>{x.preventDefault(),x.stopPropagation(),r(e.id,!o)},className:`p-1 rounded transition-colors ${o?"bg-netflix-red text-white":"text-gray-400 hover:text-white"}`,children:o?s.jsx(wr,{className:"w-5 h-5"}):s.jsx(br,{className:"w-5 h-5"})}),s.jsx(xe,{to:`/${e.contentType}/${e.contentId}`,className:"flex-shrink-0",children:s.jsxs("div",{className:"w-16 h-24 relative rounded overflow-hidden group-hover:scale-105 transition-transform",children:[s.jsx("img",{src:IT((b=e.content)==null?void 0:b.poster_path),alt:c,className:"w-full h-full object-cover",loading:"lazy"}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/40 transition-colors flex items-center justify-center",children:s.jsx(de,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx(xe,{to:`/${e.contentType}/${e.contentId}`,children:s.jsx("h3",{className:"text-white font-medium text-lg mb-1 hover:text-netflix-red transition-colors",children:c})}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-400 mb-2",children:[s.jsx("span",{children:d}),s.jsx("span",{children:""}),s.jsx("span",{className:"capitalize",children:e.contentType}),s.jsx("span",{children:""}),s.jsx("span",{children:u}),h>0&&s.jsxs(s.Fragment,{children:[s.jsx("span",{children:""}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ne,{className:"w-4 h-4 text-yellow-400"}),s.jsx("span",{children:h.toFixed(1)})]})]})]}),s.jsx("p",{className:"text-gray-400 text-sm line-clamp-2 mb-2",children:m}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:Array.isArray(e.customTags)&&e.customTags.map(x=>s.jsx("span",{className:"bg-gray-700 text-gray-300 px-2 py-1 rounded text-xs",children:x},x))}),e.personalNotes&&s.jsxs("p",{className:"text-gray-400 text-sm italic",children:['"',e.personalNotes,'"']})]}),s.jsxs("div",{className:"flex-shrink-0 text-right",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${zT(e.priority)}`}),e.isLiked&&s.jsxs("div",{className:"bg-red-600/80 backdrop-blur-sm rounded-full px-2 py-1 flex items-center gap-1",children:[s.jsx(rt,{className:"w-3 h-3 text-white fill-current"}),s.jsx("span",{className:"text-white text-xs font-medium",children:"Liked"})]}),s.jsx("span",{className:`text-sm ${BT(e.status)}`,children:String(e.status).replace(/([A-Z])/g," $1").trim()})]}),typeof e.progress=="number"&&e.progress>0&&s.jsxs("div",{className:"w-24 mb-2",children:[s.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:s.jsx("div",{className:"bg-netflix-red h-2 rounded-full transition-all duration-300",style:{width:`${e.progress}%`}})}),s.jsx("p",{className:"text-xs text-gray-400 mt-1",children:OT(e.progress)})]}),e.personalRating&&s.jsxs("div",{className:"flex items-center gap-1 justify-end mb-2",children:[s.jsx("span",{className:"text-yellow-400",children:""}),s.jsxs("span",{className:"text-sm text-gray-400",children:[e.personalRating,"/5"]})]}),s.jsxs("div",{className:"text-xs text-gray-500",children:["Added ",new Date(e.dateAdded).toLocaleDateString()]})]}),s.jsxs("div",{className:"flex-shrink-0 relative",children:[s.jsx("button",{onClick:x=>{x.preventDefault(),x.stopPropagation(),l(a===e.id?null:e.id)},className:"p-2 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:s.jsx(Fh,{className:"w-5 h-5"})}),a===e.id&&s.jsxs("div",{className:"absolute right-0 top-10 bg-gray-800 rounded-lg shadow-lg py-2 min-w-48 z-20",children:[s.jsx("div",{className:"px-3 py-1 text-xs text-gray-400 border-b border-gray-700",children:"Status"}),s.jsxs("button",{onClick:()=>v(e.id,"notStarted"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx(br,{className:"w-4 h-4"}),"Not Started"]}),s.jsxs("button",{onClick:()=>v(e.id,"inProgress"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx(de,{className:"w-4 h-4"}),"In Progress"]}),s.jsxs("button",{onClick:()=>v(e.id,"completed"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx(wr,{className:"w-4 h-4"}),"Completed"]}),s.jsxs("button",{onClick:()=>v(e.id,"dropped"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx(aa,{className:"w-4 h-4"}),"Dropped"]}),s.jsx("div",{className:"px-3 py-1 text-xs text-gray-400 border-b border-gray-700 mt-2",children:"Priority"}),s.jsxs("button",{onClick:()=>y(e.id,"high"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),"High Priority"]}),s.jsxs("button",{onClick:()=>y(e.id,"medium"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),"Medium Priority"]}),s.jsxs("button",{onClick:()=>y(e.id,"low"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),"Low Priority"]}),s.jsx("div",{className:"px-3 py-1 text-xs text-gray-400 border-b border-gray-700 mt-2",children:"Actions"}),s.jsxs("button",{onClick:()=>{i(e.id),l(null)},className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-red-400 text-sm flex items-center gap-2",children:[s.jsx(Oo,{className:"w-4 h-4"}),"Remove from List"]})]})]})]})})},GT=({items:e,selectedItems:t,onItemSelect:r,onItemUpdate:n,onItemRemove:i})=>{const[a,l]=g.useState(null);return ln.useEffect(()=>{const o=()=>l(null);return document.addEventListener("click",o),()=>document.removeEventListener("click",o)},[]),Array.isArray(e)?s.jsx("div",{className:"space-y-2",children:e.map(o=>s.jsx(WT,{item:o,selectedItems:t,onItemSelect:r,onItemUpdate:n,onItemRemove:i,showingMenu:a,setShowingMenu:l},o.id))}):s.jsx("div",{className:"text-red-400",children:"Invalid items data"})},YT=({items:e,selectedItems:t,onItemSelect:r,onItemUpdate:n,onItemRemove:i})=>{const[a,l]=g.useState(null),o=f=>f.content.title||f.content.name||"Unknown Title",c=f=>{const p=f.content.release_date||f.content.first_air_date;return p?new Date(p).getFullYear():""},d=f=>{const p=Math.floor(f/60),w=f%60;return p>0?`${p}h ${w}m`:`${w}m`},u=f=>`${Math.round(f)}%`,h=f=>{switch(f){case"high":return"bg-red-500";case"medium":return"bg-yellow-500";case"low":return"bg-green-500";default:return"bg-gray-500"}},m=f=>{switch(f){case"completed":return"text-green-400";case"inProgress":return"text-yellow-400";case"dropped":return"text-red-400";default:return"text-gray-400"}},v=f=>{switch(f){case"completed":return s.jsx(wr,{className:"w-4 h-4"});case"inProgress":return s.jsx(de,{className:"w-4 h-4"});case"dropped":return s.jsx(aa,{className:"w-4 h-4"});default:return s.jsx(br,{className:"w-4 h-4"})}},y=(f,p)=>{const w=p==="completed"?100:p==="notStarted"?0:void 0;n(f,{status:p,...w!==void 0&&{progress:w}}),l(null)},b=(f,p)=>{n(f,{priority:p}),l(null)},x=({item:f})=>{const p=t.includes(f.id);return s.jsxs("div",{className:"group flex items-center gap-3 py-2 px-3 hover:bg-gray-800/30 rounded transition-colors text-sm",children:[s.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),r(f.id,!p)},className:`flex-shrink-0 ${p?"text-netflix-red":"text-gray-400 hover:text-white"}`,children:p?s.jsx(wr,{className:"w-4 h-4"}):s.jsx(br,{className:"w-4 h-4"})}),s.jsx("div",{className:`w-2 h-2 rounded-full flex-shrink-0 ${h(f.priority)}`}),s.jsx("div",{className:`flex-shrink-0 ${m(f.status)}`,children:v(f.status)}),s.jsx(xe,{to:`/${f.contentType}/${f.contentId}`,className:"flex-1 min-w-0 text-white hover:text-netflix-red transition-colors truncate",children:o(f)}),s.jsx("div",{className:"flex-shrink-0 w-12 text-gray-400 text-xs",children:c(f)}),s.jsx("div",{className:"flex-shrink-0 w-16 text-gray-400 text-xs capitalize",children:f.contentType}),s.jsx("div",{className:"flex-shrink-0 w-16 text-gray-400 text-xs",children:f.progress>0?u(f.progress):"-"}),s.jsx("div",{className:"flex-shrink-0 w-20 text-gray-400 text-xs",children:d(f.estimatedRuntime)}),s.jsx("div",{className:"flex-shrink-0 w-12 text-gray-400 text-xs flex items-center gap-1",children:f.content.vote_average>0?s.jsxs(s.Fragment,{children:[s.jsx(ne,{className:"w-3 h-3 text-yellow-400"}),s.jsx("span",{children:f.content.vote_average.toFixed(1)})]}):"-"}),s.jsx("div",{className:"flex-shrink-0 w-20 text-gray-400 text-xs",children:new Date(f.dateAdded).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),s.jsx("div",{className:"flex-shrink-0 w-24 text-gray-400 text-xs truncate",children:f.customTags.length>0?f.customTags.join(", "):"-"}),s.jsxs("div",{className:"flex-shrink-0 relative",children:[s.jsx("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),l(a===f.id?null:f.id)},className:"p-1 text-gray-400 hover:text-white hover:bg-gray-700 rounded transition-colors",children:s.jsx(Fh,{className:"w-4 h-4"})}),a===f.id&&s.jsxs("div",{className:"absolute right-0 top-6 bg-gray-800 rounded-lg shadow-lg py-2 min-w-48 z-20",children:[s.jsx("div",{className:"px-3 py-1 text-xs text-gray-400 border-b border-gray-700",children:"Status"}),s.jsxs("button",{onClick:()=>y(f.id,"notStarted"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx(br,{className:"w-4 h-4"}),"Not Started"]}),s.jsxs("button",{onClick:()=>y(f.id,"inProgress"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx(de,{className:"w-4 h-4"}),"In Progress"]}),s.jsxs("button",{onClick:()=>y(f.id,"completed"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx(wr,{className:"w-4 h-4"}),"Completed"]}),s.jsxs("button",{onClick:()=>y(f.id,"dropped"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx(aa,{className:"w-4 h-4"}),"Dropped"]}),s.jsx("div",{className:"px-3 py-1 text-xs text-gray-400 border-b border-gray-700 mt-2",children:"Priority"}),s.jsxs("button",{onClick:()=>b(f.id,"high"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),"High Priority"]}),s.jsxs("button",{onClick:()=>b(f.id,"medium"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),"Medium Priority"]}),s.jsxs("button",{onClick:()=>b(f.id,"low"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),"Low Priority"]}),s.jsx("div",{className:"px-3 py-1 text-xs text-gray-400 border-b border-gray-700 mt-2",children:"Actions"}),s.jsxs("button",{onClick:()=>{i(f.id),l(null)},className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-red-400 text-sm flex items-center gap-2",children:[s.jsx(Oo,{className:"w-4 h-4"}),"Remove from List"]})]})]})]})};return ln.useEffect(()=>{const f=()=>l(null);return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[]),s.jsxs("div",{className:"bg-gray-900/30 rounded-lg overflow-hidden",children:[s.jsxs("div",{className:"flex items-center gap-3 py-3 px-3 bg-gray-800/50 text-xs text-gray-400 font-medium border-b border-gray-700",children:[s.jsx("div",{className:"w-4"})," ",s.jsx("div",{className:"w-2"})," ",s.jsx("div",{className:"w-4"})," ",s.jsx("div",{className:"flex-1",children:"Title"}),s.jsx("div",{className:"w-12",children:"Year"}),s.jsx("div",{className:"w-16",children:"Type"}),s.jsx("div",{className:"w-16",children:"Progress"}),s.jsx("div",{className:"w-20",children:"Runtime"}),s.jsx("div",{className:"w-12",children:"Rating"}),s.jsx("div",{className:"w-20",children:"Added"}),s.jsx("div",{className:"w-24",children:"Tags"}),s.jsx("div",{className:"w-6"})," "]}),s.jsx("div",{className:"max-h-96 overflow-y-auto",children:e.map(f=>s.jsx(x,{item:f},f.id))})]})},qT=({items:e,viewMode:t,selectedItems:r,onItemSelect:n,onItemUpdate:i,onItemRemove:a})=>{const l={items:e,selectedItems:r,onItemSelect:n,onItemUpdate:i,onItemRemove:a};switch(t){case"grid":return s.jsx(ep,{...l});case"list":return s.jsx(GT,{...l});case"compact":return s.jsx(YT,{...l});default:return s.jsx(ep,{...l})}},KT=({hasItems:e,searchQuery:t,onClearFilters:r})=>e&&t?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(Ct,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsxs("h2",{className:"text-2xl font-semibold text-white mb-2",children:['No results found for "',t,'"']}),s.jsx("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:"Try adjusting your search terms or clearing filters to see more results."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsx("button",{onClick:r,className:"px-6 py-3 bg-netflix-red hover:bg-red-700 text-white rounded-lg transition-colors",children:"Clear Search & Filters"}),s.jsx(xe,{to:"/",className:"px-6 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Browse Content"})]})]}):e?s.jsxs("div",{className:"text-center py-16",children:[s.jsx(sn,{className:"w-16 h-16 text-gray-600 mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-semibold text-white mb-2",children:"No items match your filters"}),s.jsx("p",{className:"text-gray-400 mb-6 max-w-md mx-auto",children:"Try adjusting your filters to see more content from your list."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsx("button",{onClick:r,className:"px-6 py-3 bg-netflix-red hover:bg-red-700 text-white rounded-lg transition-colors",children:"Clear All Filters"}),s.jsx(xe,{to:"/",className:"px-6 py-3 bg-gray-800 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"Add More Content"})]})]}):s.jsxs("div",{className:"text-center py-16",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-lg flex items-center justify-center",children:s.jsx(Ce,{className:"w-8 h-8 text-gray-600"})}),s.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-lg flex items-center justify-center",children:s.jsx(la,{className:"w-8 h-8 text-gray-600"})}),s.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-lg flex items-center justify-center",children:s.jsx(rt,{className:"w-8 h-8 text-gray-600"})})]}),s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Your list is empty"}),s.jsx("p",{className:"text-gray-400 text-lg mb-8 max-w-2xl mx-auto",children:"Start building your personal watchlist by adding movies and TV shows you want to watch. Keep track of your progress, rate content, and organize everything in one place."})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto mb-8",children:[s.jsxs(xe,{to:"/movies",className:"group bg-gray-900 hover:bg-gray-800 rounded-lg p-6 transition-colors",children:[s.jsx(Ce,{className:"w-12 h-12 text-netflix-red mx-auto mb-4 group-hover:scale-110 transition-transform"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Browse Movies"}),s.jsx("p",{className:"text-gray-400",children:"Discover trending movies, classics, and new releases to add to your list."})]}),s.jsxs(xe,{to:"/tv-shows",className:"group bg-gray-900 hover:bg-gray-800 rounded-lg p-6 transition-colors",children:[s.jsx(la,{className:"w-12 h-12 text-netflix-red mx-auto mb-4 group-hover:scale-110 transition-transform"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Browse TV Shows"}),s.jsx("p",{className:"text-gray-400",children:"Find your next binge-worthy series from our extensive TV show collection."})]}),s.jsxs(xe,{to:"/new-popular",className:"group bg-gray-900 hover:bg-gray-800 rounded-lg p-6 transition-colors",children:[s.jsx(Ds,{className:"w-12 h-12 text-netflix-red mx-auto mb-4 group-hover:scale-110 transition-transform"}),s.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"What's Popular"}),s.jsx("p",{className:"text-gray-400",children:"Check out what's trending and popular right now across all categories."})]})]}),s.jsxs("div",{className:"bg-gray-900/50 rounded-lg p-8 max-w-4xl mx-auto",children:[s.jsx("h3",{className:"text-xl font-semibold text-white mb-6 text-center",children:"What you can do with My List"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"w-12 h-12 bg-netflix-red/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(Ds,{className:"w-6 h-6 text-netflix-red"})}),s.jsx("h4",{className:"text-white font-medium mb-1",children:"Add & Organize"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Save movies and shows with custom tags and priorities"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"w-12 h-12 bg-netflix-red/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(Ct,{className:"w-6 h-6 text-netflix-red"})}),s.jsx("h4",{className:"text-white font-medium mb-1",children:"Search & Filter"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Quickly find content with powerful search and filters"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"w-12 h-12 bg-netflix-red/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(rt,{className:"w-6 h-6 text-netflix-red"})}),s.jsx("h4",{className:"text-white font-medium mb-1",children:"Track Progress"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Monitor your watching progress and completion status"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"w-12 h-12 bg-netflix-red/20 rounded-lg flex items-center justify-center mx-auto mb-3",children:s.jsx(sn,{className:"w-6 h-6 text-netflix-red"})}),s.jsx("h4",{className:"text-white font-medium mb-1",children:"Multiple Views"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Switch between grid, list, and compact viewing modes"})]})]})]}),s.jsx("div",{className:"mt-8",children:s.jsxs(xe,{to:"/",className:"inline-flex items-center gap-2 px-8 py-4 bg-netflix-red hover:bg-red-700 text-white font-semibold rounded-lg transition-colors",children:[s.jsx(Ds,{className:"w-5 h-5"}),"Start Building Your List"]})})]}),QT=({selectedItems:e,onBulkOperation:t,onSelectAll:r,onClearSelection:n,isAllSelected:i})=>{const[a,l]=g.useState(!1),[o,c]=g.useState(!1),[d,u]=g.useState(""),h=()=>{t({type:"markWatched",itemIds:e})},m=()=>{t({type:"markUnwatched",itemIds:e})},v=()=>{confirm(`Are you sure you want to remove ${e.length} items from your list?`)&&t({type:"remove",itemIds:e})},y=x=>{t({type:"setPriority",itemIds:e,payload:x}),l(!1)},b=()=>{d.trim()&&(t({type:"addTags",itemIds:e,payload:[d.trim()]}),u(""),c(!1))};return s.jsx("div",{className:"bg-netflix-red/10 border border-netflix-red/20 rounded-lg p-4 mb-6",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("button",{onClick:r,className:"flex items-center gap-2 text-netflix-red hover:text-red-400 transition-colors",children:[i?s.jsx(wr,{className:"w-5 h-5"}):s.jsx(br,{className:"w-5 h-5"}),s.jsx("span",{children:i?"Deselect All":"Select All"})]}),s.jsxs("div",{className:"text-white",children:[e.length," item",e.length!==1?"s":""," selected"]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors text-sm",children:[s.jsx(gN,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Mark Watched"})]}),s.jsxs("button",{onClick:m,className:"flex items-center gap-2 px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors text-sm",children:[s.jsx(aa,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Mark Unwatched"})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>l(!a),className:"flex items-center gap-2 px-3 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm",children:[s.jsx(bN,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Priority"}),s.jsx(ei,{className:"w-4 h-4"})]}),a&&s.jsxs("div",{className:"absolute top-10 left-0 bg-gray-800 rounded-lg shadow-lg py-2 min-w-40 z-20",children:[s.jsxs("button",{onClick:()=>y("high"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),"High Priority"]}),s.jsxs("button",{onClick:()=>y("medium"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),"Medium Priority"]}),s.jsxs("button",{onClick:()=>y("low"),className:"w-full text-left px-3 py-2 hover:bg-gray-700 text-white text-sm flex items-center gap-2",children:[s.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),"Low Priority"]})]})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>c(!o),className:"flex items-center gap-2 px-3 py-2 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors text-sm",children:[s.jsx(oo,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Add Tag"})]}),o&&s.jsx("div",{className:"absolute top-10 left-0 bg-gray-800 rounded-lg shadow-lg p-3 min-w-48 z-20",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Enter tag name...",value:d,onChange:x=>u(x.target.value),onKeyPress:x=>x.key==="Enter"&&b(),className:"flex-1 bg-gray-700 text-white px-2 py-1 rounded text-sm focus:outline-none focus:ring-1 focus:ring-netflix-red"}),s.jsx("button",{onClick:b,className:"px-3 py-1 bg-netflix-red hover:bg-red-700 text-white rounded text-sm",children:"Add"})]})})]}),s.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-3 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors text-sm",children:[s.jsx(Oo,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Remove"})]}),s.jsxs("button",{onClick:n,className:"flex items-center gap-2 px-3 py-2 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors text-sm",children:[s.jsx(os,{className:"w-4 h-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Clear"})]})]})]})})};function v1(e){try{if(!Number.isFinite(e)||e<=0)return"0m";if(e<1)return`${Math.round(e*60)}m`;if(e<24)return`${Math.round(e)}h`;const t=Math.floor(e/24),r=Math.round(e%24);return`${t}d ${r}h`}catch{return"0m"}}function ZT(e,t=5){try{return!e||!e.genreDistribution?[]:Object.entries(e.genreDistribution).sort(([,r],[,n])=>n-r).slice(0,t)}catch{return[]}}function XT(e,t=6){try{return!e||!e.monthlyAdditions?[]:Object.entries(e.monthlyAdditions).slice(-t).map(([n,i])=>({month:new Date(n+"-01").toLocaleDateString("en-US",{month:"short"}),count:i}))}catch{return[]}}function JT(e){try{if(!e)return[];const t=[];return typeof e.completionRate=="number"&&(e.completionRate>70?t.push({type:"positive",text:`Great job! You complete ${e.completionRate}% of what you add to your list.`}):e.completionRate<30&&t.push({type:"suggestion",text:"Consider removing items you're unlikely to watch to keep your list focused."})),typeof e.totalHours=="number"&&e.totalHours>100&&t.push({type:"info",text:`You have ${v1(e.totalHours)} of content - that's quite a collection!`}),typeof e.averageRating=="number"&&e.averageRating>4&&t.push({type:"positive",text:`You have excellent taste! Your average rating is ${e.averageRating}/5.`}),t}catch{return[]}}function e_(e){const t=e||{},r=t.statusDistribution||{},n=t.genreDistribution&&typeof t.genreDistribution=="object"?t.genreDistribution:{},i=t.monthlyAdditions&&typeof t.monthlyAdditions=="object"?t.monthlyAdditions:{};return{totalItems:Number.isFinite(t.totalItems)&&t.totalItems>0?t.totalItems:0,completionRate:Number.isFinite(t.completionRate)?t.completionRate:0,totalHours:Number.isFinite(t.totalHours)?t.totalHours:0,averageRating:Number.isFinite(t.averageRating)?t.averageRating:0,totalMovies:Number.isFinite(t.totalMovies)?t.totalMovies:0,totalTVShows:Number.isFinite(t.totalTVShows)?t.totalTVShows:0,statusDistribution:{notStarted:Number.isFinite(r.notStarted)?r.notStarted:0,inProgress:Number.isFinite(r.inProgress)?r.inProgress:0,completed:Number.isFinite(r.completed)?r.completed:0,dropped:Number.isFinite(r.dropped)?r.dropped:0},genreDistribution:n,monthlyAdditions:i}}function Dr(e,t){return!Number.isFinite(e)||!Number.isFinite(t)||t<=0?0:e/t*100}const t_=({stats:e,onClose:t})=>{const r=e_(e),n=ZT(r),i=XT(r),a=JT(r),l=r.totalItems,o=i.length>0?Math.max(...i.map(c=>c.count)):0;return s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Yr,{className:"w-6 h-6 text-netflix-red"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"My List Statistics"})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:s.jsx(os,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-netflix-red mb-1",children:r.totalItems}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Total Items"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-netflix-red mb-1",children:[r.completionRate,"%"]}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Completion Rate"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-netflix-red mb-1",children:v1(r.totalHours)}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Total Runtime"})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-netflix-red mb-1",children:r.averageRating||"N/A"}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Avg Rating"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(Ce,{className:"w-5 h-5"}),"Content Types"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Ce,{className:"w-4 h-4 text-blue-400"}),s.jsx("span",{className:"text-white",children:"Movies"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-blue-400 h-2 rounded-full",style:{width:`${Dr(r.totalMovies,l)}%`}})}),s.jsx("span",{className:"text-gray-400 text-sm w-8",children:r.totalMovies})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(la,{className:"w-4 h-4 text-green-400"}),s.jsx("span",{className:"text-white",children:"TV Shows"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-green-400 h-2 rounded-full",style:{width:`${Dr(r.totalTVShows,l)}%`}})}),s.jsx("span",{className:"text-gray-400 text-sm w-8",children:r.totalTVShows})]})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(HN,{className:"w-5 h-5"}),"Watch Status"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white",children:"Not Started"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-gray-400 h-2 rounded-full",style:{width:`${Dr(r.statusDistribution.notStarted,l)}%`}})}),s.jsx("span",{className:"text-gray-400 text-sm w-8",children:r.statusDistribution.notStarted})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white",children:"In Progress"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:`${Dr(r.statusDistribution.inProgress,l)}%`}})}),s.jsx("span",{className:"text-gray-400 text-sm w-8",children:r.statusDistribution.inProgress})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white",children:"Completed"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-green-400 h-2 rounded-full",style:{width:`${Dr(r.statusDistribution.completed,l)}%`}})}),s.jsx("span",{className:"text-gray-400 text-sm w-8",children:r.statusDistribution.completed})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-white",children:"Dropped"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-20 bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-red-400 h-2 rounded-full",style:{width:`${Dr(r.statusDistribution.dropped,l)}%`}})}),s.jsx("span",{className:"text-gray-400 text-sm w-8",children:r.statusDistribution.dropped})]})]})]})]})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(ia,{className:"w-5 h-5"}),"Top Genres"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(([c,d],u)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-netflix-red rounded text-white text-xs flex items-center justify-center",children:u+1}),s.jsx("span",{className:"text-white",children:c})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-24 bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-netflix-red h-2 rounded-full",style:{width:`${Dr(d,l)}%`}})}),s.jsx("span",{className:"text-gray-400 text-sm w-8",children:d})]})]},c))})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(nn,{className:"w-5 h-5"}),"Recent Activity (Last 6 Months)"]}),s.jsx("div",{className:"flex items-end justify-between h-32 gap-2",children:i.map(({month:c,count:d})=>s.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[s.jsx("div",{className:"w-full bg-netflix-red rounded-t",style:{height:`${Math.max(o>0?d/o*100:0,5)}%`,minHeight:"4px"}}),s.jsx("div",{className:"text-xs text-gray-400 mt-2",children:c}),s.jsx("div",{className:"text-xs text-white",children:d})]},c))})]}),s.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-white mb-4 flex items-center gap-2",children:[s.jsx(ne,{className:"w-5 h-5"}),"Insights"]}),s.jsxs("div",{className:"space-y-3",children:[a.map((c,d)=>s.jsx("div",{className:`p-3 rounded-lg ${c.type==="positive"?"bg-green-900/30 border border-green-700":c.type==="suggestion"?"bg-yellow-900/30 border border-yellow-700":"bg-blue-900/30 border border-blue-700"}`,children:s.jsx("p",{className:"text-white text-sm",children:c.text})},d)),a.length===0&&s.jsx("p",{className:"text-gray-400 text-sm",children:"Keep using your list to unlock personalized insights!"})]})]})]})]})})},lc=e=>{if(!Array.isArray(e))throw new Error("Export items must be an array");if(e.length>0){const t=e[0];if(!t.content||!t.contentType||typeof t.dateAdded>"u")throw new Error("Export items appear malformed; missing expected fields")}},w1=e=>{const t=typeof e=="number"&&!isNaN(e)?Math.max(0,Math.floor(e)):0,r=Math.floor(t/60),n=t%60;return r>0?`${r}h ${n}m`:`${n}m`},Fm=(e,t)=>{const r=e&&e.content?e.content:{},n=r.title||r.name||"Unknown Title",i=r.release_date||r.first_air_date,a=i?new Date(i).getFullYear():"",l=typeof e.estimatedRuntime=="number"&&!isNaN(e.estimatedRuntime)?e.estimatedRuntime:Number(r.runtime)||0,o=typeof r.vote_average=="number"&&!isNaN(r.vote_average)?r.vote_average:Number(r.vote_average)||0,c=typeof e.dateAdded<"u"&&e.dateAdded!==null?String(e.dateAdded):new Date().toISOString(),d={title:n,year:a,type:e.contentType,runtime:l,status:e.status,rating:o,dateAdded:c,tmdbId:e.contentId,overview:r.overview,posterPath:r.poster_path};return t.includeProgress&&(d.progress=e.progress??0),t.includeNotes&&e.personalNotes&&(d.notes=e.personalNotes),t.includeTags&&e.customTags&&e.customTags.length>0&&(d.tags=e.customTags),d},s_=(e,t)=>{lc(e);const r={includeProgress:!!(t!=null&&t.includeProgress),includeNotes:!!(t!=null&&t.includeNotes),includeTags:!!(t!=null&&t.includeTags)},n=["Title","Year","Type","Runtime","Status","Rating","Date Added",...r.includeProgress?["Progress"]:[],...r.includeNotes?["Notes"]:[],...r.includeTags?["Tags"]:[]],i=e.map(l=>{const o=Fm(l,r);return[o.title,o.year,o.type,w1(o.runtime),o.status,(o.rating||0).toFixed(1),new Date(o.dateAdded).toLocaleDateString(),...r.includeProgress?[`${o.progress??0}%`]:[],...r.includeNotes?[o.notes||""]:[],...r.includeTags?[(o.tags||[]).join(", ")]:[]]});return[n,...i].map(l=>l.map(o=>`"${String(o).replace(/"/g,'""')}"`).join(",")).join(`
`)},r_=(e,t)=>{lc(e);const r={includeProgress:!!(t!=null&&t.includeProgress),includeNotes:!!(t!=null&&t.includeNotes),includeTags:!!(t!=null&&t.includeTags)},n=e.map(i=>Fm(i,r));return JSON.stringify(n,null,2)},tp=(e,t)=>{lc(e);const r={includeProgress:!!(t!=null&&t.includeProgress),includeNotes:!!(t!=null&&t.includeNotes),includeTags:!!(t!=null&&t.includeTags)};let n=`My CineFlix Watchlist
`;return n+=`Generated on ${new Date().toLocaleDateString()}
`,n+=`Total items: ${e.length}

`,e.forEach((i,a)=>{const l=Fm(i,r);n+=`${a+1}. ${l.title} (${l.year})
`,n+=`   Type: ${l.type}
`,n+=`   Runtime: ${w1(l.runtime)}
`,n+=`   Status: ${l.status}
`,n+=`   Rating: ${(l.rating||0).toFixed(1)}/10
`,n+=`   Added: ${new Date(l.dateAdded).toLocaleDateString()}
`,r.includeProgress&&typeof l.progress<"u"&&l.progress>0&&(n+=`   Progress: ${l.progress}%
`),r.includeNotes&&l.notes&&(n+=`   Notes: ${l.notes}
`),r.includeTags&&l.tags&&l.tags.length>0&&(n+=`   Tags: ${l.tags.join(", ")}
`),n+=`
`}),n},n_=({items:e,onClose:t})=>{const[r,n]=g.useState("pdf"),[i,a]=g.useState(!0),[l,o]=g.useState(!0),[c,d]=g.useState(!0),[u,h]=g.useState(""),[m,v]=g.useState(!1),y=(p,w,j)=>{const k=new Blob([p],{type:j}),S=URL.createObjectURL(k),C=document.createElement("a");C.href=S,C.download=w,document.body.appendChild(C),C.click(),document.body.removeChild(C),URL.revokeObjectURL(S)},b=()=>{const p=new Date().toISOString().split("T")[0],w={includeProgress:i,includeNotes:l,includeTags:c};try{switch(lc(e),r){case"csv":{const j=s_(e,w);y(j,`cineflix-watchlist-${p}.csv`,"text/csv");break}case"json":{const j=r_(e,w);y(j,`cineflix-watchlist-${p}.json`,"application/json");break}case"text":{const j=tp(e,w);y(j,`cineflix-watchlist-${p}.txt`,"text/plain");break}case"pdf":{const j=tp(e,w);y(j,`cineflix-watchlist-${p}.txt`,"text/plain");break}default:throw new Error("Unsupported export format")}t()}catch(j){console.error("Export failed:",j);try{alert(`Export failed: ${(j==null?void 0:j.message)||"Unknown error"}`)}catch{}}},x=()=>{try{const p=btoa(JSON.stringify(e.slice(0,10))),w=`${window.location.origin}/shared-list?data=${p}`;h(w)}catch(p){console.error("Failed to generate shareable link:",p);try{alert("Failed to generate shareable link")}catch{}}},f=async()=>{try{await navigator.clipboard.writeText(u),v(!0),setTimeout(()=>v(!1),2e3)}catch(p){console.error("Failed to copy to clipboard:",p);try{alert("Failed to copy link to clipboard")}catch{}}};return s.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-gray-900 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Rt,{className:"w-6 h-6 text-netflix-red"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Export My List"})]}),s.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-white hover:bg-gray-800 rounded-lg transition-colors",children:s.jsx(os,{className:"w-6 h-6"})})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[s.jsxs("div",{className:"bg-gray-800 rounded-lg p-4",children:[s.jsxs("p",{className:"text-white mb-2",children:["Exporting ",s.jsx("span",{className:"font-semibold text-netflix-red",children:e.length})," items from your list"]}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Choose your preferred format and customize what information to include."})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Export Format"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("button",{onClick:()=>n("pdf"),className:`p-4 rounded-lg border-2 transition-colors ${r==="pdf"?"border-netflix-red bg-netflix-red/10":"border-gray-700 hover:border-gray-600"}`,children:[s.jsx($n,{className:"w-6 h-6 text-netflix-red mx-auto mb-2"}),s.jsx("div",{className:"text-white font-medium",children:"PDF"}),s.jsx("div",{className:"text-gray-400 text-xs",children:"Formatted document"})]}),s.jsxs("button",{onClick:()=>n("csv"),className:`p-4 rounded-lg border-2 transition-colors ${r==="csv"?"border-netflix-red bg-netflix-red/10":"border-gray-700 hover:border-gray-600"}`,children:[s.jsx($n,{className:"w-6 h-6 text-green-400 mx-auto mb-2"}),s.jsx("div",{className:"text-white font-medium",children:"CSV"}),s.jsx("div",{className:"text-gray-400 text-xs",children:"Spreadsheet format"})]}),s.jsxs("button",{onClick:()=>n("json"),className:`p-4 rounded-lg border-2 transition-colors ${r==="json"?"border-netflix-red bg-netflix-red/10":"border-gray-700 hover:border-gray-600"}`,children:[s.jsx(wN,{className:"w-6 h-6 text-blue-400 mx-auto mb-2"}),s.jsx("div",{className:"text-white font-medium",children:"JSON"}),s.jsx("div",{className:"text-gray-400 text-xs",children:"Developer format"})]}),s.jsxs("button",{onClick:()=>n("text"),className:`p-4 rounded-lg border-2 transition-colors ${r==="text"?"border-netflix-red bg-netflix-red/10":"border-gray-700 hover:border-gray-600"}`,children:[s.jsx($n,{className:"w-6 h-6 text-gray-400 mx-auto mb-2"}),s.jsx("div",{className:"text-white font-medium",children:"Text"}),s.jsx("div",{className:"text-gray-400 text-xs",children:"Plain text file"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Include Information"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i,onChange:p=>a(p.target.checked),className:"w-4 h-4 text-netflix-red bg-gray-800 border-gray-600 rounded focus:ring-netflix-red"}),s.jsx("span",{className:"text-white",children:"Watch progress"})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:l,onChange:p=>o(p.target.checked),className:"w-4 h-4 text-netflix-red bg-gray-800 border-gray-600 rounded focus:ring-netflix-red"}),s.jsx("span",{className:"text-white",children:"Personal notes"})]}),s.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:c,onChange:p=>d(p.target.checked),className:"w-4 h-4 text-netflix-red bg-gray-800 border-gray-600 rounded focus:ring-netflix-red"}),s.jsx("span",{className:"text-white",children:"Custom tags"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Share Your List"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:x,className:"w-full flex items-center gap-3 p-3 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:[s.jsx(Hy,{className:"w-5 h-5 text-blue-400"}),s.jsx("span",{className:"text-white",children:"Generate Shareable Link"})]}),u&&s.jsxs("div",{className:"bg-gray-800 rounded-lg p-3",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("input",{type:"text",value:u,readOnly:!0,className:"flex-1 bg-gray-700 text-white px-3 py-2 rounded text-sm"}),s.jsx("button",{onClick:f,className:"px-3 py-2 bg-netflix-red hover:bg-red-700 text-white rounded transition-colors",children:m?s.jsx(Vy,{className:"w-4 h-4"}):s.jsx(xN,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-gray-400 text-xs",children:"Share this link with friends to show them your watchlist (first 10 items)"})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsxs("button",{onClick:b,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 bg-netflix-red hover:bg-red-700 text-white rounded-lg transition-colors",children:[s.jsx(Rt,{className:"w-5 h-5"}),"Export ",r.toUpperCase()]}),s.jsx("button",{onClick:t,className:"px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors",children:"Cancel"})]})]})]})})},i_=()=>{const[e,t]=g.useState([]),[r,n]=g.useState([]),[i,a]=g.useState("grid"),[l,o]=g.useState("dateAdded"),[c,d]=g.useState("desc"),[u,h]=g.useState(""),[m,v]=g.useState([]),[y,b]=g.useState(!1),[x,f]=g.useState(!1),[p,w]=g.useState(!1),[j,k]=g.useState(!0),[S,C]=g.useState({contentType:"all",status:"all",genres:[],dateAdded:"all",rating:"all",runtime:"all",releaseYear:"all",customTags:[],priority:"all",liked:"all"});g.useEffect(()=>{T()},[]),g.useEffect(()=>{L()},[e,S,l,c,u]),g.useEffect(()=>{const M=We.getPreferences();a(M.defaultViewMode),o(M.defaultSortOption),d(M.defaultSortDirection)},[]);const T=()=>{k(!0);try{const M=We.getMyList();t(M)}catch(M){console.error("Error loading My List:",M)}finally{k(!1)}},L=()=>{let M=We.getFilteredItems(S,l,c);u.trim()&&(M=We.searchItems(u),M=M.filter(B=>!(S.contentType!=="all"&&B.contentType!==S.contentType||S.status!=="all"&&B.status!==S.status||S.priority!=="all"&&B.priority!==S.priority))),n(M)},A=g.useMemo(()=>We.getListStats(),[e]),K=g.useMemo(()=>We.getContinueWatching(),[e]),Y=g.useMemo(()=>We.getRecentlyAdded(),[e]),Z=(M,B)=>{We.updateItem(M,B),T()},te=M=>{We.removeFromList(M),T(),v(B=>B.filter(se=>se!==M))},G=M=>{We.performBulkOperation(M),T(),v([]),b(!1)},q=(M,B)=>{v(B?se=>[...se,M]:se=>se.filter(H=>H!==M))},E=()=>{m.length===r.length?v([]):v(r.map(M=>M.id))},_=M=>{C(B=>({...B,...M}))},D=(M,B)=>{o(M),d(B||(se=>se==="asc"?"desc":"asc"))},z=M=>{a(M);const B=We.getPreferences();We.savePreferences({...B,defaultViewMode:M})};return g.useEffect(()=>{b(m.length>0)},[m]),j?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-netflix-dark-purple via-netflix-purple-blue to-netflix-deep-blue text-white flex items-center justify-center",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-20 w-20 netflix-spinner-thick"}),s.jsx("div",{className:"h-20 w-20 netflix-ripple"}),s.jsx("div",{className:"h-20 w-20 netflix-ripple",style:{animationDelay:"0.5s"}})]}),s.jsxs("div",{className:"text-center loading-text",children:[s.jsx("p",{className:"text-white text-lg font-medium mb-2",children:"Loading your list..."}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsx("div",{className:"netflix-dot"}),s.jsx("div",{className:"netflix-dot"}),s.jsx("div",{className:"netflix-dot"})]})]})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-netflix-dark-purple via-netflix-purple-blue to-netflix-deep-blue text-white pt-20",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx(wT,{stats:A,viewMode:i,onViewModeChange:z,sortBy:l,sortDirection:c,onSortChange:D,onStatsClick:()=>f(!0),onExportClick:()=>w(!0),selectedCount:m.length,totalCount:r.length}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative max-w-md",children:[s.jsx(Ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search your list...",value:u,onChange:M=>h(M.target.value),className:"w-full bg-gray-800 text-white pl-10 pr-4 py-3 rounded-lg border border-gray-700 focus:border-netflix-red focus:outline-none focus:ring-1 focus:ring-netflix-red"})]})}),s.jsx(bT,{filters:S,onFilterChange:_,availableTags:We.getAllTags()}),(K.length>0||Y.length>0)&&s.jsx(jT,{continueWatching:K,recentlyAdded:Y,onItemUpdate:Z,onItemRemove:te}),y&&s.jsx(QT,{selectedItems:m,onBulkOperation:G,onSelectAll:E,onClearSelection:()=>v([]),isAllSelected:m.length===r.length}),r.length===0?s.jsx(KT,{hasItems:e.length>0,searchQuery:u,onClearFilters:()=>{C({contentType:"all",status:"all",genres:[],dateAdded:"all",rating:"all",runtime:"all",releaseYear:"all",customTags:[],priority:"all",liked:"all"}),h("")}}):s.jsx(qT,{items:r,viewMode:i,selectedItems:m,onItemSelect:q,onItemUpdate:Z,onItemRemove:te}),x&&s.jsx(t_,{stats:A,items:e,onClose:()=>f(!1)}),p&&s.jsx(n_,{items:m.length>0?r.filter(M=>m.includes(M.id)):r,onClose:()=>w(!1)})]})})},sp="cineflix_collections_progress",rp="cineflix_marathon_sessions";function ad(e){if(e===null)return null;try{return JSON.parse(e)}catch(t){return console.error("safeParse: failed to parse value",t),null}}function a_(e,t){const r=t[e.id]||null,n=r&&typeof r.completion_percentage=="number"?r.completion_percentage:0;return{...e,user_progress:r,completion_progress:n}}function l_(e){const t=Object.values(e||{}),r=t.filter(l=>l&&l.completion_percentage===100).length,n=t.filter(l=>l&&l.completion_percentage>0&&l.completion_percentage<100).length,i=t.reduce((l,o)=>{if(!o)return l;const c=typeof o.total_films=="number"&&o.total_films>0?o.total_films:0,d=typeof o.completion_percentage=="number"?o.completion_percentage:0;return l+c*(d/100)*120},0),a=t.length>0?t.reduce((l,o)=>l+((o==null?void 0:o.completion_percentage)||0),0)/t.length:0;return{totalCollections:t.length,completedCollections:r,inProgressCollections:n,totalWatchTime:Math.round(i),averageCompletion:Math.round(a)}}class is{static getStoredProgress(){try{const t=localStorage.getItem(sp);return ad(t)||{}}catch(t){return console.error("getStoredProgress: error reading progress from storage",t),{}}}static saveProgress(t){try{localStorage.setItem(sp,JSON.stringify(t))}catch(r){console.error("saveProgress: failed to save progress to storage",r)}}static getStoredSessions(){try{const t=localStorage.getItem(rp);return ad(t)||{}}catch(t){return console.error("getStoredSessions: error reading sessions from storage",t),{}}}static saveSessions(t){try{localStorage.setItem(rp,JSON.stringify(t))}catch(r){console.error("saveSessions: failed to save sessions to storage",r)}}static markFilmWatched(t,r){const n=this.getStoredProgress(),i=n[t]||{watched_films:[],total_films:0,completion_percentage:0,viewing_order:"release"};if(Array.isArray(i.watched_films)||(i.watched_films=[]),!i.watched_films.includes(r)){i.watched_films.push(r);const a=typeof i.total_films=="number"&&i.total_films>0?i.total_films:0;i.completion_percentage=a>0?i.watched_films.length/a*100:0,i.last_watched=new Date().toISOString()}n[t]=i,this.saveProgress(n)}static markFilmUnwatched(t,r){const n=this.getStoredProgress(),i=n[t];if(i&&Array.isArray(i.watched_films)){i.watched_films=i.watched_films.filter(l=>l!==r);const a=typeof i.total_films=="number"&&i.total_films>0?i.total_films:0;i.completion_percentage=a>0?i.watched_films.length/a*100:0,n[t]=i,this.saveProgress(n)}}static getFranchiseProgress(t){return this.getStoredProgress()[t]||null}static initializeFranchiseProgress(t){const r=this.getStoredProgress();if(!r[t.id]){const n={watched_films:[],total_films:t.film_count,completion_percentage:0,viewing_order:"release",current_film:t.parts[0],next_film:t.parts[1]};return r[t.id]=n,this.saveProgress(r),n}return r[t.id]}static updateViewingOrder(t,r){const n=this.getStoredProgress(),i=n[t];i&&(i.viewing_order=r,n[t]=i,this.saveProgress(n))}static startMarathonSession(t,r="release"){const n=this.getStoredSessions(),i={collection_id:t.id,current_film_index:0,viewing_order:r,started_at:new Date().toISOString(),completed_films:[],total_runtime_watched:0,breaks_taken:0};return n[t.id]=i,this.saveSessions(n),this.initializeFranchiseProgress(t),i}static getMarathonSession(t){return this.getStoredSessions()[t]||null}static updateMarathonProgress(t,r,n){const i=this.getStoredSessions(),a=i[t];a&&(a.current_film_index=r,a.total_runtime_watched=(typeof a.total_runtime_watched=="number"?a.total_runtime_watched:0)+(typeof n=="number"?n:0),i[t]=a,this.saveSessions(i))}static pauseMarathonSession(t){const r=this.getStoredSessions(),n=r[t];n&&(n.paused_at=new Date().toISOString(),r[t]=n,this.saveSessions(r))}static resumeMarathonSession(t){const r=this.getStoredSessions(),n=r[t];n&&(delete n.paused_at,r[t]=n,this.saveSessions(r))}static completeMarathonSession(t){const r=this.getStoredSessions();delete r[t],this.saveSessions(r)}static getCollectionStats(){const t=this.getStoredProgress();return l_(t)}static getRecommendedCollections(t){const r=this.getStoredProgress(),n=Object.entries(r).filter(([a,l])=>l&&l.completion_percentage===100).map(([a])=>parseInt(a,10)),i=new Set;return t.forEach(a=>{n.includes(a.id)&&(a.genre_categories||[]).forEach(l=>i.add(l))}),t.filter(a=>{const l=r[a.id];return!l||l.completion_percentage<100}).filter(a=>(a.genre_categories||[]).some(l=>i.has(l))).slice(0,6)}static getContinueWatching(t){const r=this.getStoredProgress();return t.filter(n=>{const i=r[n.id];return i&&i.completion_percentage>0&&i.completion_percentage<100}).sort((n,i)=>{const a=r[n.id],l=r[i.id],o=new Date((a==null?void 0:a.last_watched)||"").getTime();return new Date((l==null?void 0:l.last_watched)||"").getTime()-o}).slice(0,6)}static enhanceCollectionsWithProgress(t){const r=this.getStoredProgress();return t.map(n=>a_(n,r))}static exportProgressData(){try{const t=this.getStoredProgress(),r=this.getStoredSessions();return JSON.stringify({progress:t,sessions:r,exportedAt:new Date().toISOString()},null,2)}catch(t){return console.error("exportProgressData: failed to export data",t),JSON.stringify({progress:{},sessions:{},exportedAt:new Date().toISOString()},null,2)}}static importProgressData(t){try{const r=ad(t);return!r||typeof r!="object"?!1:(r.progress&&typeof r.progress=="object"&&this.saveProgress(r.progress),r.sessions&&typeof r.sessions=="object"&&this.saveSessions(r.sessions),!0)}catch(r){return console.error("importProgressData: Error importing progress data:",r),!1}}}const ld=({collection:e,onClick:t})=>{const r=Cs(),{isMobile:n,isTablet:i}=ka(),a=!n&&!i,l=m=>{const v=Math.floor(m/60),y=m%60;return v===0?`${y}m`:`${v}h ${y}m`},o=m=>({trilogy:"Trilogy",quadrilogy:"Quadrilogy",pentology:"Pentology",hexalogy:"Hexalogy",septology:"Septology",octology:"Octology",nonology:"Nonology",extended_series:"Extended Series",incomplete_series:"Series"})[m]||"Series",c=m=>{switch(m){case"complete":return"bg-green-600";case"ongoing":return"bg-blue-600";case"incomplete":return"bg-yellow-600";default:return"bg-gray-600"}},u=(()=>e.user_progress?e.user_progress.watched_films.length/e.film_count*100:0)(),h=()=>{t?t(e):r(`/collection/${e.id}`)};return s.jsx("div",{className:`relative group cursor-pointer transform transition-all duration-300 ${a?"hover:scale-105 hover:z-10":""}`,onClick:h,children:s.jsxs("div",{className:"relative bg-gray-900 rounded-lg overflow-hidden shadow-lg",children:[s.jsxs("div",{className:"relative h-64 w-full overflow-hidden bg-gray-900",children:[e.backdrop_path?s.jsx("img",{src:ri(e.backdrop_path,"w780"),alt:e.name,className:`w-full h-full object-cover transition-transform duration-300 ${a?"group-hover:scale-110":""}`,onError:m=>{const v=m.target;v.src="/fallback-poster.jpg",v.onerror=null}}):e.parts&&e.parts.length>0?s.jsx("div",{className:`grid h-full w-full ${e.parts.length===1?"grid-cols-1":"grid-cols-2"}`,children:e.parts.slice(0,e.parts.length>=4?4:2).map(m=>s.jsx("img",{src:be(m.poster_path,"w342"),alt:m.title,className:"w-full h-full object-cover",onError:v=>{const y=v.target;y.src="/fallback-poster.jpg",y.onerror=null}},m.id))}):s.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:s.jsx(Ce,{className:"w-16 h-16 text-gray-500"})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/60 to-transparent"}),s.jsx("div",{className:`absolute top-3 left-3 px-2 py-1 rounded-full text-xs font-medium text-white ${c(e.status)}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),s.jsx("div",{className:"absolute top-3 right-3 bg-red-600 text-white px-2 py-1 rounded-full text-xs font-medium",children:o(e.type)}),s.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("div",{className:"bg-red-600 rounded-full p-4 transform scale-75 group-hover:scale-100 transition-transform",children:s.jsx(de,{className:"w-8 h-8 text-white ml-1"})})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-2 line-clamp-2 group-hover:text-red-400 transition-colors",children:e.name}),s.jsxs("div",{className:"flex items-center space-x-4 text-gray-400 text-sm mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Ce,{className:"w-4 h-4"}),s.jsxs("span",{children:[e.film_count," Films"]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(yt,{className:"w-4 h-4"}),s.jsx("span",{children:l(e.total_runtime)})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(gt,{className:"w-4 h-4"}),s.jsxs("span",{children:[new Date(e.first_release_date).getFullYear(),"-",new Date(e.latest_release_date).getFullYear()]})]})]}),u>0&&s.jsxs("div",{className:"mb-3",children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"text-sm text-gray-400",children:"Progress"}),s.jsxs("span",{className:"text-sm text-white",children:[Math.round(u),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-red-600 h-2 rounded-full transition-all duration-300",style:{width:`${u}%`}})})]}),s.jsx("p",{className:"text-gray-300 text-sm line-clamp-2 mb-3",children:e.overview||`Experience the complete ${e.name} franchise with all ${e.film_count} films.`}),s.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[e.genre_categories.slice(0,3).map((m,v)=>s.jsx("span",{className:"bg-gray-700 text-gray-300 px-2 py-1 rounded-full text-xs",children:m},v)),e.genre_categories.length>3&&s.jsxs("span",{className:"bg-gray-700 text-gray-300 px-2 py-1 rounded-full text-xs",children:["+",e.genre_categories.length-3]})]}),s.jsxs("div",{className:"flex -space-x-2 mb-3",children:[e.parts.slice(0,4).map((m,v)=>s.jsx("div",{className:"relative w-8 h-12 border-2 border-gray-900 rounded overflow-hidden",style:{zIndex:4-v},children:s.jsx("img",{src:be(m.poster_path,"w92"),alt:m.title,className:"w-full h-full object-cover",onError:y=>{const b=y.target;b.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTIiIGhlaWdodD0iMTM4IiB2aWV3Qm94PSIwIDAgOTIgMTM4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iOTIiIGhlaWdodD0iMTM4IiBmaWxsPSIjMTQxNDE0Ii8+CjxyZWN0IHg9IjMiIHk9IjMiIHdpZHRoPSI4NiIgaGVpZ2h0PSIxMzIiIHJ4PSI0IiBmaWxsPSIjMkEyQTJBIiBzdHJva2U9IiMzNzQxNTEiIHN0cm9rZS13aWR0aD0iMSIvPgo8c3ZnIHg9IjM2IiB5PSI1OSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiPgo8cGF0aCBkPSJNMTQgMlYyMEwxOSAxNVYxMUwxNCA2VjJaIiBmaWxsPSIjRTUwOTE0Ii8+CjxwYXRoIGQ9Ik0xMyAySDVDMy45IDIgMyAyLjkgMyA0VjIwQzMgMjEuMSAzLjkgMjIgNSAyMkgxM1YyWiIgZmlsbD0iI0U1MDkxNCIvPgo8L3N2Zz4KPC9zdmc+",b.onerror=null}})},m.id)),e.parts.length>4&&s.jsx("div",{className:"w-8 h-12 bg-gray-700 border-2 border-gray-900 rounded flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-xs font-bold",children:["+",e.parts.length-4]})})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs("button",{onClick:m=>{m.stopPropagation(),h()},className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-2",children:[s.jsx(de,{className:"w-4 h-4"}),s.jsx("span",{children:"Start Marathon"})]}),s.jsx("button",{className:"bg-gray-700 hover:bg-gray-600 text-white py-2 px-3 rounded-lg transition-colors",children:s.jsx(ne,{className:"w-4 h-4"})})]})]})]})})},o_="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAwIiBoZWlnaHQ9Ijc1MCIgdmlld0JveD0iMCAwIDUwMCA3NTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSI1MDAiIGhlaWdodD0iNzUwIiBmaWxsPSIjMTQxNDE0Ii8+CjxyZWN0IHg9IjIwIiB5PSIyMCIgd2lkdGg9IjQ2MCIgaGVpZ2h0PSI3MTAiIHJ4PSIxMiIgZmlsbD0iIzJBMkEyQSIgc3Ryb2tlPSIjMzc0MTUxIiBzdHJva2Utd2lkdGg9IjIiLz4KPHN2ZyB4PSIyMjAiIHk9IjMzNSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjYwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiPgo8cGF0aCBkPSJNMTQgMlYyMEwxOSAxNVYxMUwxNCA2VjJaIiBmaWxsPSIjRTUwOTE0Ii8+CjxwYXRoIGQ9Ik0xMyAySDVDMy45IDIgMyAyLjkgMyA0VjIwQzMgMjEuMSAzLjkgMjIgNSAyMkgxM1YyWiIgZmlsbD0iI0U1MDkxNCIvPgo8L3N2Zz4KPHRleHQgeD0iMjUwIiB5PSI0MzAiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNiIgZmlsbD0iIzlDQTNBRiIgdGV4dC1hbmNob3I9Im1pZGRsZSI+Q2luZUZsaXggQ29sbGVjdGlvbjwvdGV4dD4KPC9zdmc+",c_="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTIiIGhlaWdodD0iMTM4IiB2aWV3Qm94PSIwIDAgOTIgMTM4IiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cmVjdCB3aWR0aD0iOTIiIGhlaWdodD0iMTM4IiBmaWxsPSIjMTQxNDE0Ii8+CjxyZWN0IHg9IjMiIHk9IjMiIHdpZHRoPSI4NiIgaGVpZ2h0PSIxMzIiIHJ4PSI0IiBmaWxsPSIjMkEyQTJBIiBzdHJva2U9IiMzNzQxNTEiIHN0cm9rZS13aWR0aD0iMSIvPgo8c3ZnIHg9IjM2IiB5PSI1OSIgd2lkdGg9IjIwIiBoZWlnaHQ9IjIwIiB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiPgo8cGF0aCBkPSJNMTQgMlYyMEwxOSAxNVYxMUwxNCA2VjJaIiBmaWxsPSIjRTUwOTE0Ii8+CjxwYXRoIGQ9Ik0xMyAySDVDMy45IDIgMyAyLjkgMyA0VjIwQzMgMjEuMSAzLjkgMjIgNSAyMkgxM1YyWiIgZmlsbD0iI0U1MDkxNCIvPgo8L3N2Zz4KPC9zdmc+",b1=e=>t=>{const r=t.target;r.src=e,r.onerror=null},d_=e=>{const t=Math.max(0,Math.floor(e||0)),r=Math.floor(t/60),n=t%60;return r===0?`${n}m`:`${r}h ${n}m`},u_=e=>{const t={trilogy:"Trilogy",quadrilogy:"Quadrilogy",pentology:"Pentology",hexalogy:"Hexalogy",septology:"Septology",octology:"Octology",nonology:"Nonology",extended_series:"Extended Series",incomplete_series:"Series"};return e&&t[e]||"Series"},h_=e=>!e||e.length===0?[]:e.slice(0,3).map(t=>ri(t.backdrop_path,"w1280")).filter(Boolean),m_=e=>{var t,r;return e&&(((t=e.user_progress)==null?void 0:t.next_film)||((r=e.parts)==null?void 0:r[0]))||null},f_=e=>!e||e.length===0?0:e.reduce((r,n)=>r+(n.vote_average||0),0)/e.length,x_=e=>!(!e||typeof e!="object"||typeof e.id!="number"||typeof e.name!="string"||!Array.isArray(e.parts)||"film_count"in e&&typeof e.film_count!="number"),p_=b1(o_),np=b1(c_),g_=({collection:e,onStartMarathon:t,onViewCollection:r,onHeroInteraction:n})=>{var f;const[i,a]=g.useState(0),[l,o]=g.useState(0),c=x_(e);if(g.useEffect(()=>{if(!c)return;const p=is.getFranchiseProgress(e.id);p&&o(p.completion_percentage)},[e==null?void 0:e.id]),g.useEffect(()=>{var j;const p=Math.max(Math.min(((j=e.parts)==null?void 0:j.length)??0,3),1),w=setInterval(()=>{a(k=>(k+1)%p)},6e3);return()=>clearInterval(w)},[(f=e.parts)==null?void 0:f.length]),!c)return console.error('CollectionsHero: invalid "collection" prop provided',e),null;const d=h_(e.parts),u=m_(e),h=d_(e.total_runtime),m=f_(e.parts),v=e.first_release_date?new Date(e.first_release_date).getFullYear():null,y=e.latest_release_date?new Date(e.latest_release_date).getFullYear():null,b=v&&y?`${v} - ${y}`:"N/A",x=v&&y?`${y-v+1}`:"multiple";return s.jsxs("div",{className:"relative h-screen flex items-center",onMouseEnter:n,children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[d.map((p,w)=>s.jsx("div",{className:`absolute inset-0 transition-opacity duration-1000 ${w===i?"opacity-100":"opacity-0"}`,children:s.jsx("img",{src:p,alt:e.name,className:"w-full h-full object-cover scale-110 animate-slow-zoom"})},`${w}-${e.id}`)),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-transparent to-black opacity-80"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent"})]}),s.jsx("div",{className:"relative z-10 container mx-auto px-4 flex items-center h-full",children:s.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center w-full gap-8",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:be(e.poster_path,"w500"),alt:e.name,className:"w-64 h-96 object-cover rounded-lg shadow-2xl transform hover:scale-105 transition-transform duration-300",onError:p_}),l>0&&s.jsxs("div",{className:"absolute -top-3 -right-3 w-16 h-16",children:[s.jsxs("svg",{className:"w-16 h-16 transform -rotate-90",viewBox:"0 0 36 36",children:[s.jsx("path",{className:"text-gray-700",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3"}),s.jsx("path",{className:"text-red-600",d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${l}, 100`})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("span",{className:"text-white text-xs font-bold",children:[Math.round(l),"%"]})})]})]})}),s.jsxs("div",{className:"flex-1 max-w-2xl",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-2",children:[s.jsx("span",{className:"bg-red-600 text-white px-3 py-1 rounded-full text-sm font-medium",children:u_(e.type)}),s.jsx("span",{className:"bg-gray-800 text-gray-300 px-3 py-1 rounded-full text-sm",children:(e.status||"").charAt(0).toUpperCase()+(e.status||"").slice(1)}),s.jsxs("div",{className:"flex items-center space-x-1 bg-gray-800 text-yellow-400 px-3 py-1 rounded-full text-sm",children:[s.jsx(ne,{className:"w-4 h-4 fill-current"}),s.jsx("span",{children:m.toFixed(1)})]})]}),s.jsx("h1",{className:"text-6xl lg:text-7xl font-bold text-white mb-2 leading-tight",children:e.name})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-gray-300 mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Ce,{className:"w-5 h-5"}),s.jsxs("span",{className:"font-medium",children:[e.film_count," Films"]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(yt,{className:"w-5 h-5"}),s.jsxs("span",{className:"font-medium",children:["Total Runtime: ",h]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(gt,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:b})]})]}),s.jsx("p",{className:"text-xl text-gray-300 leading-relaxed mb-8 max-w-2xl",children:e.overview||`Experience the complete ${e.name} franchise. Follow the epic journey through ${e.film_count} films spanning ${x} years of cinematic excellence.`}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:(e.genre_categories||[]).map((p,w)=>s.jsx("span",{className:"bg-gray-800/50 border border-gray-700 text-gray-300 px-3 py-1 rounded-full text-sm backdrop-blur-sm",children:p},w))}),s.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[s.jsxs("button",{onClick:t,className:"bg-red-600 hover:bg-red-700 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors flex items-center space-x-3 group",children:[s.jsx(de,{className:"w-6 h-6 group-hover:scale-110 transition-transform"}),s.jsx("span",{children:l>0?"Continue Marathon":"Start Marathon"})]}),s.jsxs("button",{onClick:r||t,className:"bg-gray-800/50 hover:bg-gray-700/50 border border-gray-700 text-white px-8 py-4 rounded-lg text-lg font-semibold transition-colors backdrop-blur-sm flex items-center space-x-3",children:[s.jsx(ds,{className:"w-6 h-6"}),s.jsx("span",{children:"View Collection"})]}),s.jsx("button",{className:"bg-gray-800/50 hover:bg-gray-700/50 border border-gray-700 text-white px-6 py-4 rounded-lg text-lg transition-colors backdrop-blur-sm",children:s.jsx(ne,{className:"w-6 h-6"})})]}),l>0&&s.jsxs("div",{className:"bg-gray-900/50 border border-gray-800 rounded-lg p-6 backdrop-blur-sm",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Your Progress"}),s.jsxs("span",{className:"text-red-400 font-bold",children:[Math.round(l),"% Complete"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-3 mb-4",children:s.jsx("div",{className:"bg-gradient-to-r from-red-600 to-red-500 h-3 rounded-full transition-all duration-500",style:{width:`${l}%`}})}),u&&s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("img",{src:be(u.poster_path,"w92"),alt:u.title,className:"w-12 h-18 object-cover rounded",onError:np}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-400",children:"Up Next:"}),s.jsx("p",{className:"text-white font-medium",children:u.title}),s.jsx("p",{className:"text-sm text-gray-400",children:u.release_date?new Date(u.release_date).getFullYear():"N/A"})]}),s.jsxs("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-2",children:[s.jsx(de,{className:"w-4 h-4"}),s.jsx("span",{children:"Watch Now"})]})]})]})]}),s.jsxs("div",{className:"hidden xl:flex flex-col space-y-3",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Films in Collection"}),(e.parts||[]).slice(0,4).map(p=>s.jsxs("div",{className:"flex items-center space-x-3 bg-gray-900/50 backdrop-blur-sm border border-gray-800 rounded-lg p-3 hover:bg-gray-800/50 transition-colors cursor-pointer group",children:[s.jsx("img",{src:be(p.poster_path,"w92"),alt:p.title,className:"w-10 h-15 object-cover rounded",onError:np}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-white font-medium text-sm truncate group-hover:text-red-400 transition-colors",children:p.title}),s.jsx("p",{className:"text-gray-400 text-xs",children:p.release_date?new Date(p.release_date).getFullYear():"N/A"})]}),s.jsx(Ks,{className:"w-4 h-4 text-gray-400 group-hover:text-white transition-colors"})]},p.id)),e.parts&&e.parts.length>4&&s.jsx("div",{className:"text-center py-2",children:s.jsxs("span",{className:"text-gray-400 text-sm",children:["+",e.parts.length-4," more films"]})})]})]})}),s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce",children:s.jsx("div",{className:"w-6 h-10 border-2 border-white rounded-full flex justify-center",children:s.jsx("div",{className:"w-1 h-3 bg-white rounded-full mt-2 animate-pulse"})})})]})},y_=({onFilterChange:e,collections:t})=>{const[r,n]=g.useState(!1),[i,a]=g.useState({}),l=Array.from(new Set(t.flatMap(x=>x.genre_categories))).sort(),o=Array.from(new Set(t.map(x=>x.studio))).sort(),c=[{value:"trilogy",label:"Trilogy (3 films)"},{value:"quadrilogy",label:"Quadrilogy (4 films)"},{value:"pentology",label:"Pentology (5 films)"},{value:"extended_series",label:"Extended Series (6+ films)"},{value:"incomplete_series",label:"Incomplete Series"}],d=[{value:"complete",label:"Complete"},{value:"ongoing",label:"Ongoing"},{value:"incomplete",label:"Incomplete"}],u=[{value:"all",label:"All Collections"},{value:"completed",label:"Completed"},{value:"in_progress",label:"In Progress"},{value:"not_started",label:"Not Started"}],h=(x,f)=>{const p={...i,[x]:f};a(p),e(p)},m=(x,f)=>{const p=i[x]||[];let w;p.includes(f)?w=p.filter(j=>j!==f):w=[...p,f],h(x,w.length>0?w:void 0)},v=()=>{a({}),e({})},b=(()=>{var f,p,w,j;let x=0;return(f=i.genre)!=null&&f.length&&x++,(p=i.type)!=null&&p.length&&x++,(w=i.status)!=null&&w.length&&x++,(j=i.studio)!=null&&j.length&&x++,i.completion&&i.completion!=="all"&&x++,x})();return s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>n(!r),className:"bg-gray-900 border border-gray-700 rounded-lg px-4 py-3 text-white hover:border-red-500 transition-colors flex items-center space-x-2",children:[s.jsx(sn,{className:"w-5 h-5"}),s.jsx("span",{children:"Filters"}),b>0&&s.jsx("span",{className:"bg-red-600 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:b}),s.jsx(ei,{className:`w-4 h-4 transition-transform ${r?"rotate-180":""}`})]}),r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),s.jsxs("div",{className:"absolute top-full left-0 mt-2 w-80 bg-gray-900 border border-gray-700 rounded-lg shadow-xl z-50 max-h-96 overflow-y-auto",children:[s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Filter Collections"}),b>0&&s.jsxs("button",{onClick:v,className:"text-red-400 hover:text-red-300 text-sm font-medium flex items-center space-x-1",children:[s.jsx(os,{className:"w-4 h-4"}),s.jsx("span",{children:"Clear All"})]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Progress Status"}),s.jsx("div",{className:"space-y-2",children:u.map(x=>s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"radio",name:"completion",value:x.value,checked:i.completion===x.value||x.value==="all"&&!i.completion,onChange:f=>h("completion",f.target.value==="all"?void 0:f.target.value),className:"text-red-600 bg-gray-800 border-gray-600 focus:ring-red-500"}),s.jsx("span",{className:"text-sm text-gray-300",children:x.label})]},x.value))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Collection Type"}),s.jsx("div",{className:"space-y-2",children:c.map(x=>{var f;return s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:((f=i.type)==null?void 0:f.includes(x.value))||!1,onChange:()=>m("type",x.value),className:"text-red-600 bg-gray-800 border-gray-600 focus:ring-red-500 rounded"}),s.jsx("span",{className:"text-sm text-gray-300",children:x.label})]},x.value)})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Series Status"}),s.jsx("div",{className:"space-y-2",children:d.map(x=>{var f;return s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:((f=i.status)==null?void 0:f.includes(x.value))||!1,onChange:()=>m("status",x.value),className:"text-red-600 bg-gray-800 border-gray-600 focus:ring-red-500 rounded"}),s.jsx("span",{className:"text-sm text-gray-300 capitalize",children:x.label})]},x.value)})})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Genres"}),s.jsx("div",{className:"max-h-32 overflow-y-auto space-y-2",children:l.map(x=>{var f;return s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:((f=i.genre)==null?void 0:f.includes(x))||!1,onChange:()=>m("genre",x),className:"text-red-600 bg-gray-800 border-gray-600 focus:ring-red-500 rounded"}),s.jsx("span",{className:"text-sm text-gray-300",children:x})]},x)})})]}),o.length>1&&s.jsxs("div",{className:"mb-4",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-300 mb-2",children:"Studios"}),s.jsx("div",{className:"max-h-32 overflow-y-auto space-y-2",children:o.map(x=>{var f;return s.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:((f=i.studio)==null?void 0:f.includes(x))||!1,onChange:()=>m("studio",x),className:"text-red-600 bg-gray-800 border-gray-600 focus:ring-red-500 rounded"}),s.jsx("span",{className:"text-sm text-gray-300",children:x})]},x)})})]})]}),s.jsx("div",{className:"border-t border-gray-700 p-4",children:s.jsx("button",{onClick:()=>n(!1),className:"w-full bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg transition-colors",children:"Apply Filters"})})]})]})]})};function v_(e){return Array.from({length:Math.max(0,Math.floor(e))}).map(()=>({left:`${Math.random()*100}%`,top:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`}))}function w_({posterIndexOffset:e,keyBase:t}){return s.jsxs("div",{className:"aspect-[3/4] bg-gradient-to-br from-gray-700 to-gray-800 relative overflow-hidden",children:[s.jsx("div",{className:"grid grid-cols-2 h-full gap-1 p-1",children:Array.from({length:4}).map((r,n)=>s.jsx("div",{className:"bg-gray-600 rounded animate-pulse",style:{animationDelay:`${(n+e)*.2}s`}},`${t}-poster-${n}`))}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-50"})]})}function b_(e){return s.jsx("div",{className:"group relative animate-pulse",style:{animationDelay:`${e*.1}s`},children:s.jsxs("div",{className:"relative bg-gray-800/50 rounded-lg overflow-hidden border border-gray-700/50 hover:border-red-500/30 transition-all duration-300",children:[s.jsx(w_,{posterIndexOffset:e,keyBase:`card-${e}`}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx("div",{className:"h-5 bg-gray-700 rounded w-3/4 animate-pulse"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded w-16 animate-pulse"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded w-12 animate-pulse"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-2 bg-gray-700 rounded-full overflow-hidden",children:s.jsx("div",{className:"h-full bg-red-500/30 rounded-full animate-pulse",style:{width:`${Math.random()*100}%`}})}),s.jsx("div",{className:"h-3 bg-gray-700 rounded w-20 animate-pulse"})]})]})]})},e)}function j_(e,t){const r=[];for(let n=0;n<Math.max(0,Math.floor(e));n++){const i=[];for(let a=0;a<Math.max(0,Math.floor(t));a++)i.push(b_(a));r.push(s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-6 h-6 bg-red-500/30 rounded animate-pulse"}),s.jsx("div",{className:"h-8 bg-gray-700 rounded w-48 animate-pulse"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:i})]},n))}return r}const N_=({isSlowNetwork:e=!1,noData:t=!1,particleCount:r=20,categoriesCount:n=4,cardsPerCategory:i=10})=>{const a=v_(r),l=j_(n,i);return s.jsxs("div",{className:"min-h-screen bg-netflix-black text-white",children:[s.jsxs("div",{className:"relative h-[70vh] bg-gradient-to-br from-gray-800 via-gray-900 to-netflix-black overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0",children:a.map((o,c)=>s.jsx("div",{className:"absolute animate-pulse",style:{left:o.left,top:o.top,animationDelay:o.animationDelay,animationDuration:o.animationDuration},children:s.jsx(Vh,{className:"w-4 h-4 text-red-500/30"})},c))}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-netflix-black via-netflix-black/50 to-transparent"}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 md:p-16",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative overflow-hidden",children:s.jsx("div",{className:"h-16 bg-gradient-to-r from-gray-700 via-gray-600 to-gray-700 rounded-lg w-96 animate-pulse"})}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded w-full max-w-2xl animate-pulse"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4 max-w-2xl animate-pulse"})]}),s.jsxs("div",{className:"flex gap-6 mt-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 bg-gray-700 rounded animate-pulse"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded w-16 animate-pulse"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-5 h-5 bg-gray-700 rounded animate-pulse"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded w-20 animate-pulse"})]})]}),s.jsxs("div",{className:"flex gap-4 mt-8",children:[s.jsx("div",{className:"h-12 bg-red-600/30 rounded w-40 animate-pulse"}),s.jsx("div",{className:"h-12 bg-gray-700/30 rounded w-36 animate-pulse"})]})]})})]}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex items-center justify-center mb-12",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-20 w-20 netflix-spinner-thick"}),s.jsx("div",{className:"h-20 w-20 netflix-ripple"}),s.jsx("div",{className:"h-20 w-20 netflix-ripple",style:{animationDelay:"0.5s"}})]}),s.jsxs("div",{className:"ml-6 space-y-2 loading-text",children:[s.jsx("div",{className:"text-xl font-semibold text-white",children:"Loading Collections"}),s.jsx("div",{className:"text-gray-400",children:"Discovering amazing franchises..."}),s.jsxs("div",{className:"flex gap-2 mt-3",children:[s.jsx("div",{className:"netflix-dot"}),s.jsx("div",{className:"netflix-dot"}),s.jsx("div",{className:"netflix-dot"})]})]})]}),e&&s.jsx("div",{className:"mb-6 p-3 bg-yellow-900/30 text-yellow-200 rounded-md text-center",children:"Slow network detected  content may take longer to load."}),!t&&s.jsxs("div",{className:"flex flex-wrap gap-4 mb-8 p-4 bg-gray-900/50 rounded-lg",children:[s.jsx("div",{className:"h-10 bg-gray-700 rounded w-32 animate-pulse"}),s.jsx("div",{className:"h-10 bg-gray-700 rounded w-28 animate-pulse"}),s.jsx("div",{className:"h-10 bg-gray-700 rounded w-36 animate-pulse"}),s.jsx("div",{className:"h-10 bg-gray-700 rounded w-24 animate-pulse"})]}),s.jsx("div",{className:"space-y-12",children:t?s.jsxs("div",{className:"text-center text-gray-300 py-12",children:[s.jsx("div",{className:"text-2xl font-semibold mb-2",children:"No Collections Found"}),s.jsx("div",{className:"text-gray-400",children:"We couldn't find any collections at this time. Try adjusting filters or check back later."})]}):l})]})]})},S_=()=>{var Rr;const e=Cs(),[t,r]=g.useState([]),[n,i]=g.useState([]),[a,l]=g.useState(null),[o,c]=g.useState([]),[d,u]=g.useState(!0),[h,m]=g.useState(!0),[v,y]=g.useState(""),[b,x]=g.useState({}),[f,p]=g.useState("grid"),[w,j]=g.useState("all"),[k,S]=g.useState(1),[C]=g.useState(20),[T,L]=g.useState(null),[A,K]=g.useState(!1),[Y,Z]=g.useState(null),[te,G]=g.useState({scanned:0,found:0,step:"Initializing..."}),[q,E]=g.useState(!1),[_,D]=g.useState([]),[z,M]=g.useState(!1),[B,se]=g.useState(!0),[H,fe]=g.useState(null),[Ye,_e]=g.useState(!1);g.useEffect(()=>{pe()},[]),g.useEffect(()=>()=>{H&&clearInterval(H)},[H]);const pe=async(O=!1)=>{O?(K(!0),Yh()):(u(!0),m(!0)),Z(null),G({scanned:0,found:0,step:O?"Starting fresh discovery...":"Loading collections..."});try{console.log(` ${O?"Refreshing":"Loading"} collections from TMDB...`);const ee=await un(200,O,Ke=>{G(Ke)});if(ee.length===0)throw new Error("No collections discovered from TMDB. Please check your internet connection and try again.");G({scanned:ee.length,found:ee.length,step:"Processing collections..."});const we=is.enhanceCollectionsWithProgress(ee);i(we),r(we),Vs(we),li(we),G({scanned:we.length,found:we.length,step:"Organizing categories..."}),await le(we);try{const Ke=await Iv();L(Ke)}catch(Ke){console.warn("Failed to load stats:",Ke)}G({scanned:we.length,found:we.length,step:` Complete! Found ${we.length} collections`}),console.log(` Successfully discovered and loaded ${we.length} collections from TMDB!`)}catch(X){console.error(" Error in comprehensive collection discovery:",X);const ee=(X==null?void 0:X.message)||"Failed to discover collections from TMDB. Please try again.";Z(ee),G({scanned:0,found:0,step:` Error: ${ee}`})}finally{u(!1),m(!1),K(!1)}},le=async O=>{const X=is.getContinueWatching(O),ee=is.getRecommendedCollections(O),we=[{id:"popular",name:"Popular Franchises",key:"popular"},{id:"complete",name:"Complete Series",key:"complete"},{id:"trilogies",name:"Trilogies",key:"trilogies"},{id:"extended",name:"Extended Universes",key:"extended"},{id:"superhero",name:"Superhero Universes",key:"superhero"},{id:"action",name:"Action Franchises",key:"action"}].map(async Ve=>{const ot=await Rv(Ve.key);return{id:Ve.id,name:Ve.name,description:ye(Ve.id),collections:ot,icon:Ne(Ve.id)}}),Ke=await Promise.all(we),lt=[...[{id:"continue",name:"Continue Watching",description:"Pick up where you left off",collections:X,icon:"play"},{id:"recommended",name:"Recommended for You",description:"Based on your viewing history",collections:ee,icon:"star"},{id:"recent",name:"Recently Updated",description:"Franchises with new releases",collections:O.filter(Ve=>Math.max(...Ve.parts.map(Va=>new Date(Va.release_date||"").getFullYear()))>=new Date().getFullYear()-2).slice(0,10),icon:"clock"},{id:"scifi",name:"Sci-Fi Universes",description:"Space operas and futuristic franchises",collections:O.filter(Ve=>Ve.genre_categories.includes("Science Fiction")||["Star Wars","Star Trek","Matrix","Alien","Terminator"].some(ot=>Ve.name.includes(ot))).slice(0,8),icon:"rocket"},{id:"fantasy",name:"Fantasy Epics",description:"Magical worlds and adventures",collections:O.filter(Ve=>Ve.genre_categories.includes("Fantasy")||["Lord of the Rings","Harry Potter","Chronicles","Hobbit"].some(ot=>Ve.name.includes(ot))).slice(0,8),icon:"wand"}],...Ke].filter(Ve=>Ve.collections.length>0);c(lt)},ye=O=>({popular:"Most-watched series on the platform",complete:"Full franchises ready to binge",trilogies:"Perfect three-film series",extended:"Epic multi-film sagas",superhero:"Marvel, DC and more hero franchises",action:"High-octane movie series"})[O]||"Great movie collections",Ne=O=>({popular:"crown",complete:"check",trilogies:"three",extended:"infinity",superhero:"zap",action:"bomb"})[O]||"film",[Ie,oe]=g.useState(null),[vt,Fe]=g.useState(!1);g.useEffect(()=>()=>{Ie&&clearTimeout(Ie)},[Ie]),g.useEffect(()=>{if(!q)return;const O=()=>{const X=window.pageYOffset||document.documentElement.scrollTop,ee=window.innerHeight,we=document.documentElement.offsetHeight;X+ee>=we-800&&!z&&B&&Q()};return window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O)},[q,z,B]);const Q=async()=>{if(!(z||!B)){M(!0);try{console.log(" Loading more collections...");const{collections:O,hasMore:X}=await gu(20);if(O.length>0){const ee=is.enhanceCollectionsWithProgress(O);D(we=>[...we,...ee]),console.log(` Loaded ${O.length} more collections`)}O.length===0&&console.log(" No new collections in this batch, but keeping infinite scroll active"),se(X)}catch(O){console.error(" Error loading more collections:",O),console.log(" Keeping infinite scroll active despite error")}finally{M(!1)}}},qe=async()=>{E(!0),u(!0),Z(null);try{const O=Av();if(O.length>0){console.log(` Using ${O.length} cached collections`);const X=is.enhanceCollectionsWithProgress(O);D(X)}else{console.log(" Loading initial collections batch...");const{collections:X,hasMore:ee}=await gu(20);if(X.length>0){const we=is.enhanceCollectionsWithProgress(X);D(we),se(ee)}else Z("No collections found. Please try refreshing.")}}catch(O){console.error(" Error initializing All Collections view:",O),Z("Failed to load collections. Please try again.")}finally{u(!1)}},Gt=()=>{E(!1),D([]),S(1)},it=async O=>{if(O.trim()){Fe(!0);try{console.log(` Searching for: "${O}"`);let ee=n.filter(me=>{const lt=[me.name,me.overview,...me.genre_categories,me.type,me.status,...me.parts.map(ot=>ot.title)].join(" ").toLowerCase();return O.toLowerCase().split(" ").filter(ot=>ot.length>1).some(ot=>lt.includes(ot))});b.length==="trilogy"?ee=ee.filter(me=>me.film_count===3):b.length==="extended"&&(ee=ee.filter(me=>me.film_count>=5)),b.genre&&b.genre.length>0&&(ee=ee.filter(me=>b.genre.some(lt=>me.genre_categories.includes(lt)))),b.status&&b.status.length>0&&(ee=ee.filter(me=>b.status.includes(me.status))),b.type&&b.type.length>0&&(ee=ee.filter(me=>b.type.includes(me.type)));const Ke=ee.map(me=>{let lt=0;const Ve=O.toLowerCase(),ot=me.name.toLowerCase();return ot===Ve?lt+=100:ot.startsWith(Ve)?lt+=50:ot.includes(Ve)&&(lt+=25),lt+=Math.min(me.film_count*2,20),{collection:me,score:lt}}).sort((me,lt)=>lt.score-me.score).map(me=>me.collection);console.log(` Found ${Ke.length} matching collections`),r(Ke),Ke.length===0&&O.length>2&&console.log(" Try searching for: Marvel, Batman, Harry Potter, Star Wars, Disney, Pixar, Horror, Animation")}catch(X){console.error("Search error:",X),r([])}finally{Fe(!1)}}else r(n),Fe(!1)},I=O=>{y(O),S(1),Ie&&clearTimeout(Ie);const X=window.setTimeout(()=>{it(O)},300);oe(X)},R=t.filter(O=>{if(w!=="all"){const X=o.find(ee=>ee.id===w);if(X&&!X.collections.some(ee=>ee.id===O.id))return!1}if(b.type&&b.type.length>0&&!b.type.includes(O.type)||b.status&&b.status.length>0&&!b.status.includes(O.status)||b.genre&&b.genre.length>0&&!b.genre.some(X=>O.genre_categories.includes(X)))return!1;if(b.completion){const X=O.completion_progress||0;switch(b.completion){case"completed":if(X!==100)return!1;break;case"in_progress":if(X===0||X===100)return!1;break;case"not_started":if(X>0)return!1;break}}return!0}),ae=Math.ceil(R.length/C),ve=(k-1)*C,$e=ve+C,at=R.slice(ve,$e),es=O=>{S(O),window.scrollTo({top:0,behavior:"smooth"})},_t=O=>{e(`/collection/${O.id}`)},Vs=O=>{if(O.length===0)return;const X=O.filter(Ke=>["Marvel","Star Wars","Harry Potter","Lord of the Rings","Avengers","Spider-Man","Fast","Furious","Transformers","Pirates","Jurassic","Mission","John Wick","Batman","Superman","X-Men","Terminator","Alien","Predator","Indiana Jones"].some(me=>Ke.name.toLowerCase().includes(me.toLowerCase()))),ee=X.length>=5?X:O;let we;if(ee.length>1&&a){const Ke=ee.filter(me=>me.id!==a.id);we=Ke[Math.floor(Math.random()*Ke.length)]}else we=ee[Math.floor(Math.random()*ee.length)];l(we)},li=O=>{H&&clearInterval(H);const X=window.setInterval(()=>{Vs(O)},5e3);fe(X),_e(!0)},Ar=()=>{H&&(clearInterval(H),fe(null),_e(!1))},hn=O=>{switch(O){case"play":return s.jsx(yt,{className:"w-5 h-5"});case"crown":return s.jsx(lo,{className:"w-5 h-5"});case"zap":return s.jsx(gx,{className:"w-5 h-5"});case"star":return s.jsx(ne,{className:"w-5 h-5"});case"gamepad":return s.jsx(NN,{className:"w-5 h-5"});case"check":return s.jsx(ne,{className:"w-5 h-5"});case"clock":return s.jsx(yt,{className:"w-5 h-5"});case"bomb":return s.jsx(gx,{className:"w-5 h-5"});case"rocket":return s.jsx(ne,{className:"w-5 h-5"});case"wand":return s.jsx(ne,{className:"w-5 h-5"});default:return s.jsx(rn,{className:"w-5 h-5"})}};return d&&!Y?s.jsx(N_,{}):s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-netflix-dark-purple via-netflix-purple-blue to-netflix-deep-blue text-white",children:[a&&s.jsxs("div",{className:"relative",children:[s.jsx(g_,{collection:a,onStartMarathon:()=>{Ar(),_t(a)},onViewCollection:()=>{Ar(),_t(a)},onHeroInteraction:Ar}),s.jsxs("div",{className:"absolute top-6 right-6 z-10 flex items-center space-x-3",children:[s.jsx("button",{onClick:()=>Vs(n),className:"bg-black/50 backdrop-blur-sm rounded-full p-2 hover:bg-black/70 transition-colors group",title:"Next Collection",children:s.jsx(Ks,{className:"w-5 h-5 text-white group-hover:text-netflix-red transition-colors"})}),Ye&&s.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-full px-3 py-2 flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-netflix-red rounded-full animate-pulse"}),s.jsx("span",{className:"text-white text-sm font-medium",children:"Auto-rotating"})]})]})]}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-8",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-4xl font-bold mb-2 flex items-center space-x-3",children:[s.jsx("span",{children:"Collections"}),(h||A)&&s.jsxs("div",{className:"flex items-center space-x-2 text-red-400 text-lg",children:[s.jsx(rl,{className:"w-5 h-5 animate-spin"}),s.jsx("span",{className:"text-sm font-medium",children:"Discovering..."})]})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("p",{className:"text-gray-400 text-lg",children:"Smart collection discovery from TMDB API - Fresh data every time!"}),te.step&&(h||A)&&s.jsx("p",{className:"text-red-400 text-sm font-medium",children:te.step})]})]}),s.jsxs("div",{className:"mt-4 lg:mt-0 flex items-center flex-wrap gap-4 text-sm text-gray-400",children:[s.jsxs("div",{className:"text-center bg-gray-800/50 rounded-lg px-4 py-2 min-w-20",children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:t.length}),s.jsx("div",{className:"text-xs",children:"Collections"})]}),s.jsxs("div",{className:"text-center bg-gray-800/50 rounded-lg px-4 py-2 min-w-20",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:T?T.totalFilms.toLocaleString():"0"}),s.jsx("div",{className:"text-xs",children:"Total Films"})]}),s.jsxs("div",{className:"text-center bg-gray-800/50 rounded-lg px-4 py-2 min-w-20",children:[s.jsx("div",{className:"text-2xl font-bold text-purple-400",children:T?T.averageFilmsPerCollection:"0"}),s.jsx("div",{className:"text-xs",children:"Avg per Collection"})]}),s.jsxs("div",{className:"text-center bg-gray-800/50 rounded-lg px-4 py-2 min-w-20",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-400",children:is.getCollectionStats().completedCollections}),s.jsx("div",{className:"text-xs",children:"Completed"})]})]})]}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-8",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ct,{className:`absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 transition-colors ${vt?"text-red-400 animate-pulse":"text-gray-400"}`}),s.jsx("input",{type:"text",placeholder:"Search collections, movies, characters, genres, keywords...",value:v,onChange:O=>I(O.target.value),className:"w-full bg-gray-900 border border-gray-700 rounded-lg pl-10 pr-12 py-3 text-white placeholder-gray-400 focus:border-red-500 focus:outline-none transition-all"}),vt&&s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:s.jsx("div",{className:"w-4 h-4 netflix-spinner"})}),v&&!vt&&s.jsx("button",{onClick:()=>I(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-white transition-colors",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),v.length>0&&v.length<3&&s.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-gray-900/95 backdrop-blur-sm border border-gray-700 rounded-lg p-3 z-10",children:[s.jsx("p",{className:"text-sm text-gray-400 mb-2",children:" Try searching for:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:["Marvel","Batman","Star Wars","Disney","Horror","Animation"].map(O=>s.jsx("button",{onClick:()=>I(O),className:"px-2 py-1 text-xs bg-gray-800 hover:bg-gray-700 text-gray-300 rounded transition-colors",children:O},O))})]})]}),s.jsxs("button",{onClick:()=>pe(!0),disabled:A||h,className:`px-4 py-3 bg-gradient-to-r from-red-600 to-red-700 border border-red-500 rounded-lg text-white hover:from-red-700 hover:to-red-800 transition-all flex items-center space-x-2 ${A||h?"opacity-50 cursor-not-allowed":"shadow-lg hover:shadow-red-500/25"}`,title:"Clear cache and discover fresh collections from TMDB",children:[s.jsx(rl,{className:`w-5 h-5 ${A?"animate-spin":""}`}),s.jsx("span",{className:"hidden sm:block font-medium",children:A?"Discovering...":" Fresh Discovery"})]}),s.jsxs("div",{className:"flex bg-gray-900 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>p("grid"),className:`p-2 rounded-md transition-colors ${f==="grid"?"bg-red-600 text-white":"text-gray-400 hover:text-white"}`,children:s.jsx(rn,{className:"w-5 h-5"})}),s.jsx("button",{onClick:()=>p("list"),className:`p-2 rounded-md transition-colors ${f==="list"?"bg-red-600 text-white":"text-gray-400 hover:text-white"}`,children:s.jsx(Sa,{className:"w-5 h-5"})})]}),s.jsx(y_,{onFilterChange:x,collections:t})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-8",children:[s.jsx("button",{onClick:()=>{j("all"),Gt()},className:`px-4 py-2 rounded-full text-sm transition-colors ${w==="all"&&!q?"bg-red-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"All Categories"}),s.jsxs("button",{onClick:qe,className:`px-4 py-2 rounded-full text-sm transition-colors flex items-center space-x-2 ${q?"bg-red-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[s.jsx("span",{children:""}),s.jsx("span",{children:"All Collections"}),_.length>0&&s.jsx("span",{className:"bg-gray-700 text-xs px-2 py-0.5 rounded-full",children:_.length})]}),o.map(O=>s.jsxs("button",{onClick:()=>j(O.id),className:`px-4 py-2 rounded-full text-sm transition-colors flex items-center space-x-2 ${w===O.id?"bg-red-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[O.icon&&hn(O.icon),s.jsx("span",{children:O.name}),s.jsx("span",{className:"bg-gray-700 text-xs px-2 py-0.5 rounded-full",children:O.collections.length})]},O.id))]}),q?s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:" All Collections"}),s.jsxs("span",{className:"text-gray-400",children:["(",_.length," collections loaded)"]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"text-sm text-gray-400",children:"Scroll down to load more"}),s.jsx("button",{onClick:async()=>{Mv(),D([]),se(!0),await qe()},className:"px-3 py-1.5 bg-gray-800 hover:bg-gray-700 text-gray-300 text-sm rounded-lg transition-colors",children:" Fresh Collections"})]})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:_.map(O=>s.jsx(ld,{collection:O,onClick:_t},O.id))}),z&&s.jsx("div",{className:"flex justify-center items-center py-8",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-8 h-8 netflix-spinner-thick"})}),s.jsx("span",{className:"text-gray-400 loading-text",children:"Loading more collections..."})]})}),!z&&_.length>0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx("p",{className:"text-gray-400",children:" Keep scrolling to discover more collections!"}),s.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[_.length," collections loaded  Powered by TMDB's vast database"]}),s.jsx("button",{onClick:Q,className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg transition-colors",children:"Load More Collections"})]})]}):w==="all"?s.jsx("div",{className:"space-y-12",children:o.map(O=>s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[O.icon&&hn(O.icon),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:O.name}),s.jsx("p",{className:"text-gray-400",children:O.description})]})]}),s.jsx("button",{onClick:()=>j(O.id),className:"text-red-400 hover:text-red-300 text-sm font-medium",children:"View All "})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:O.collections.slice(0,4).map(X=>s.jsx(ld,{collection:X,onClick:_t},X.id))})]},O.id))}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("h2",{className:"text-2xl font-bold",children:v?"Search Results":w!=="all"?(Rr=o.find(O=>O.id===w))==null?void 0:Rr.name:"All Collections"}),s.jsxs("span",{className:"text-gray-400",children:["(",R.length," collections)"]})]}),T&&s.jsxs("div",{className:"hidden lg:flex items-center space-x-6 text-sm text-gray-400",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-white",children:T.totalCollections}),s.jsx("div",{children:"Total"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-white",children:T.totalFilms}),s.jsx("div",{children:"Films"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-white",children:T.averageFilmsPerCollection}),s.jsx("div",{children:"Avg/Collection"})]})]})]}),s.jsx("div",{className:`${f==="grid"?"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6":"space-y-4"}`,children:at.map(O=>s.jsx(ld,{collection:O,onClick:_t},O.id))}),ae>1&&s.jsxs("div",{className:"flex justify-center items-center space-x-4 mt-12",children:[s.jsxs("button",{onClick:()=>es(k-1),disabled:k===1,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${k===1?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:[s.jsx(ks,{className:"w-4 h-4"}),s.jsx("span",{children:"Previous"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:Array.from({length:Math.min(ae,7)},(O,X)=>{let ee;return ae<=7||k<=4?ee=X+1:k>=ae-3?ee=ae-6+X:ee=k-3+X,s.jsx("button",{onClick:()=>es(ee),className:`w-10 h-10 rounded-lg transition-colors ${k===ee?"bg-red-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:ee},ee)})}),s.jsxs("button",{onClick:()=>es(k+1),disabled:k===ae,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${k===ae?"bg-gray-800 text-gray-500 cursor-not-allowed":"bg-gray-800 text-white hover:bg-gray-700"}`,children:[s.jsx("span",{children:"Next"}),s.jsx(Ks,{className:"w-4 h-4"})]})]})]}),R.length===0&&!d&&!h&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"text-gray-500 text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"No collections found"}),s.jsx("p",{className:"text-gray-500 mb-4",children:v?`No collections match "${v}". Try a different search term or clear filters.`:"Try adjusting your filters to find the perfect franchise to binge."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[s.jsx("button",{onClick:()=>{y(""),x({}),j("all"),S(1),r(n)},className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Clear All Filters"}),s.jsxs("button",{onClick:()=>pe(!0),className:"px-6 py-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[s.jsx(rl,{className:"w-4 h-4"}),s.jsx("span",{children:"Refresh Collections"})]})]}),s.jsxs("div",{className:"mt-8 text-sm text-gray-400",children:[s.jsxs("p",{children:[" ",s.jsx("strong",{children:"Tip:"})," We discover collections dynamically from TMDB."]}),s.jsx("p",{children:"Try refreshing to get the latest collections or search for specific franchises."})]})]}),h&&!Y&&s.jsxs("div",{className:"text-center py-16 max-w-2xl mx-auto",children:[s.jsxs("div",{className:"relative mb-8 flex justify-center",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-20 w-20 netflix-spinner-thick"}),s.jsx("div",{className:"h-20 w-20 netflix-ripple"}),s.jsx("div",{className:"h-20 w-20 netflix-ripple",style:{animationDelay:"0.5s"}})]}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsx("span",{className:"text-netflix-red font-bold text-lg z-10",children:te.found})})]}),s.jsx("h3",{className:"text-2xl font-bold text-white mb-3",children:" Lightning-Fast Discovery"}),s.jsx("p",{className:"text-red-400 font-medium mb-4 text-lg",children:te.step}),s.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6 text-center",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-400",children:te.scanned.toLocaleString()}),s.jsx("div",{className:"text-sm text-gray-400",children:"Movies Scanned"})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[s.jsx("div",{className:"text-2xl font-bold text-green-400",children:te.found.toLocaleString()}),s.jsx("div",{className:"text-sm text-gray-400",children:"Collections Found"})]})]}),s.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-6 text-left",children:[s.jsx("h4",{className:"text-lg font-semibold text-white mb-3",children:" Lightning-Fast Discovery:"}),s.jsxs("ul",{className:"space-y-2 text-sm text-gray-300",children:[s.jsx("li",{children:" Quick scan of popular and trending movies"}),s.jsx("li",{children:" Instant search for top franchises (Marvel, Star Wars, etc.)"}),s.jsx("li",{children:" Smart sampling of key genres (Action, Animation, etc.)"}),s.jsx("li",{children:" Optimized for speed - reduced delays and API calls"})]}),s.jsxs("div",{className:"mt-4 text-xs text-gray-400 bg-gray-900/50 rounded p-3",children:[s.jsx("strong",{children:"Performance:"})," Super-fast discovery completes in 10-20 seconds! Uses cached data when available, reduced API calls, and intelligent fallbacks for the best user experience."]})]})]}),Y&&!d&&s.jsxs("div",{className:"text-center py-16",children:[s.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),s.jsx("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"Something went wrong"}),s.jsx("p",{className:"text-gray-500 mb-6 max-w-2xl mx-auto",children:Y}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[s.jsxs("button",{onClick:()=>pe(!0),disabled:A,className:`px-6 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2 ${A?"opacity-50 cursor-not-allowed":""}`,children:[s.jsx(rl,{className:`w-4 h-4 ${A?"animate-spin":""}`}),s.jsx("span",{children:A?"Retrying...":"Try Again"})]}),s.jsx("button",{onClick:()=>{Z(null),y(""),j("all")},className:"px-6 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Clear Error"})]}),s.jsxs("div",{className:"mt-8 text-sm text-gray-400 max-w-lg mx-auto",children:[s.jsx("p",{className:"mb-2",children:s.jsx("strong",{children:"Troubleshooting:"})}),s.jsxs("ul",{className:"text-left space-y-1",children:[s.jsx("li",{children:" Check your internet connection"}),s.jsx("li",{children:" TMDB API might be temporarily unavailable"}),s.jsx("li",{children:" Try refreshing the page"}),s.jsx("li",{children:" Clear your browser cache if the issue persists"})]})]})]})]})]})},j1=({type:e="card",count:t=1,className:r="",size:n="md",showText:i=!1,text:a="Loading..."})=>{const l=()=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"aspect-[2/3] bg-gray-700 rounded-lg"}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-700 rounded w-1/2"})]})]}),o=()=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-700 rounded w-48"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Array.from({length:6}).map((m,v)=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"aspect-[2/3] bg-gray-700 rounded-lg"}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-700 rounded w-1/2"})]})]},v))})]}),c=()=>s.jsxs("div",{className:"relative h-[70vh] bg-gray-800 animate-pulse",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-netflix-black via-netflix-black/50 to-transparent"}),s.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-8 md:p-16",children:[s.jsx("div",{className:"h-12 bg-gray-700 rounded w-96 mb-4"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded w-full max-w-2xl mb-2"}),s.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4 max-w-2xl mb-6"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsx("div",{className:"h-12 bg-gray-700 rounded w-32"}),s.jsx("div",{className:"h-12 bg-gray-700 rounded w-40"})]})]})]}),d=()=>s.jsxs("div",{className:"min-h-screen bg-netflix-black",children:[c(),s.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 space-y-12",children:Array.from({length:6}).map((m,v)=>s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"h-8 bg-gray-700 rounded w-48 animate-pulse"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4",children:Array.from({length:6}).map((y,b)=>s.jsxs("div",{className:"animate-pulse",children:[s.jsx("div",{className:"aspect-[2/3] bg-gray-700 rounded-lg"}),s.jsxs("div",{className:"mt-2 space-y-2",children:[s.jsx("div",{className:"h-4 bg-gray-700 rounded w-3/4"}),s.jsx("div",{className:"h-3 bg-gray-700 rounded w-1/2"})]})]},b))})]},v))})]}),u=()=>{const m={sm:"h-8 w-8",md:"h-16 w-16",lg:"h-24 w-24",xl:"h-32 w-32"};return s.jsxs("div",{className:"flex flex-col items-center justify-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:`${m[n]} netflix-spinner-thick`}),s.jsx("div",{className:`${m[n]} netflix-ripple`}),s.jsx("div",{className:`${m[n]} netflix-ripple`,style:{animationDelay:"0.5s"}})]}),i&&s.jsxs("div",{className:"text-center space-y-2 loading-text",children:[s.jsx("p",{className:"text-white text-lg font-medium",children:a}),s.jsxs("div",{className:"flex gap-2 justify-center",children:[s.jsx("div",{className:"netflix-dot"}),s.jsx("div",{className:"netflix-dot"}),s.jsx("div",{className:"netflix-dot"})]})]})]})},h=()=>{switch(e){case"spinner":return u();case"card":return Array.from({length:t}).map((m,v)=>s.jsx("div",{children:l()},v));case"carousel":return o();case"hero":return c();case"page":default:return d()}};return s.jsxs("div",{className:r,role:"status","aria-label":"Loading content",children:[h(),s.jsx("span",{className:"sr-only",children:"Loading..."})]})},k_=({collection:e})=>{const[t,r]=g.useState(null),[n,i]=g.useState("chronological"),a=[...e.parts].sort((f,p)=>new Date(f.release_date).getTime()-new Date(p.release_date).getTime()),l=a.map(f=>new Date(f.release_date).getFullYear()),o=Math.min(...l),c=Math.max(...l),d=c-o,u=[],h=Math.floor(o/10)*10,m=Math.ceil(c/10)*10;for(let f=h;f<=m;f+=10)u.push(f);const v=f=>a.filter(p=>new Date(p.release_date).getFullYear()===f),y=f=>d===0?50:(f-o)/d*100,x=(()=>{const f=[];a.length>0&&f.push({year:new Date(a[0].release_date).getFullYear(),title:"Franchise Begins",description:`${a[0].title} launches the ${e.name} franchise`,type:"start",movie:a[0]});const p=a.reduce((w,j)=>w.vote_average>j.vote_average?w:j);if(f.push({year:new Date(p.release_date).getFullYear(),title:"Critical Peak",description:`${p.title} achieves highest rating (${p.vote_average.toFixed(1)}/10)`,type:"peak",movie:p}),a.length>1){const w=a[a.length-1];f.push({year:new Date(w.release_date).getFullYear(),title:e.status==="complete"?"Franchise Concludes":"Latest Release",description:`${w.title} ${e.status==="complete"?"concludes":"continues"} the saga`,type:e.status==="complete"?"end":"continue",movie:w})}return f})();return s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Franchise Timeline"}),s.jsxs("p",{className:"text-gray-300 mb-6",children:["Explore the ",e.name," franchise across ",d+1," years (",o," - ",c,")"]}),s.jsx("div",{className:"flex justify-center mb-8",children:s.jsxs("div",{className:"bg-gray-800 rounded-lg p-1 inline-flex",children:[s.jsx("button",{onClick:()=>i("chronological"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${n==="chronological"?"bg-netflix-red text-white":"text-gray-300 hover:text-white"}`,children:"Release Timeline"}),s.jsx("button",{onClick:()=>i("production"),className:`px-4 py-2 rounded-md text-sm font-medium transition-colors ${n==="production"?"bg-netflix-red text-white":"text-gray-300 hover:text-white"}`,children:"Production History"})]})})]}),n==="chronological"?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-8",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 text-center",children:[s.jsx(gt,{className:"w-6 h-6 text-blue-400 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:d+1}),s.jsx("div",{className:"text-gray-300 text-sm",children:"Years Active"})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 text-center",children:[s.jsx(Ce,{className:"w-6 h-6 text-green-400 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:e.film_count}),s.jsx("div",{className:"text-gray-300 text-sm",children:"Total Films"})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 text-center",children:[s.jsx(ne,{className:"w-6 h-6 text-yellow-400 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:(a.reduce((f,p)=>f+p.vote_average,0)/a.length).toFixed(1)}),s.jsx("div",{className:"text-gray-300 text-sm",children:"Avg Rating"})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-4 text-center",children:[s.jsx(yt,{className:"w-6 h-6 text-purple-400 mx-auto mb-2"}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[Math.round(e.total_runtime/60),"h"]}),s.jsx("div",{className:"text-gray-300 text-sm",children:"Total Runtime"})]})]}),s.jsxs("div",{className:"relative bg-gray-800/30 rounded-lg p-8",children:[s.jsxs("div",{className:"relative mb-8",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-gray-600"}),u.map(f=>s.jsxs("div",{className:"absolute flex flex-col items-center",style:{left:`${y(f)}%`},children:[s.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full -mt-1"}),s.jsxs("span",{className:"text-gray-400 text-sm mt-2",children:[f,"s"]})]},f))]}),s.jsxs("div",{className:"relative h-40 mb-8",children:[s.jsx("div",{className:"absolute top-0 left-0 right-0 h-px bg-netflix-red"}),a.map(f=>{const p=new Date(f.release_date).getFullYear(),w=y(p),j=t===p;return s.jsxs("div",{className:"absolute cursor-pointer transform -translate-x-1/2 group",style:{left:`${w}%`},onClick:()=>r(t===p?null:p),children:[s.jsx("div",{className:`w-4 h-4 rounded-full -mt-2 transition-all duration-200 ${j?"bg-netflix-red scale-150":"bg-white group-hover:bg-netflix-red group-hover:scale-125"}`}),s.jsxs("div",{className:`mt-4 transition-all duration-300 ${j?"opacity-100 transform scale-110":"opacity-70 group-hover:opacity-100"}`,children:[s.jsx("div",{className:"w-16 h-24 rounded overflow-hidden shadow-lg mb-2",children:s.jsx("img",{src:be(f.poster_path,"w185"),alt:f.title,className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"text-center max-w-20",children:[s.jsx("div",{className:"text-white text-xs font-medium truncate",children:f.title}),s.jsx("div",{className:"text-gray-400 text-xs",children:p}),s.jsxs("div",{className:"flex items-center justify-center mt-1",children:[s.jsx(ne,{className:"w-3 h-3 text-yellow-400 mr-1"}),s.jsx("span",{className:"text-gray-300 text-xs",children:f.vote_average.toFixed(1)})]})]})]})]},f.id)})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"Franchise Milestones"}),x.map((f,p)=>s.jsxs("div",{className:"flex items-center space-x-4 bg-gray-800/50 rounded-lg p-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${f.type==="start"?"bg-green-600":f.type==="peak"?"bg-yellow-600":f.type==="end"?"bg-red-600":"bg-blue-600"}`,children:f.type==="start"?s.jsx(Ce,{className:"w-6 h-6"}):f.type==="peak"?s.jsx(ia,{className:"w-6 h-6"}):f.type==="end"?s.jsx(gt,{className:"w-6 h-6"}):s.jsx(nn,{className:"w-6 h-6"})}),s.jsxs("div",{className:"flex-grow",children:[s.jsxs("h4",{className:"text-white font-semibold",children:[f.title," (",f.year,")"]}),s.jsx("p",{className:"text-gray-300 text-sm",children:f.description})]}),s.jsx("img",{src:be(f.movie.poster_path,"w92"),alt:f.movie.title,className:"w-12 h-16 object-cover rounded"})]},p))]}),t&&s.jsxs("div",{className:"mt-8 bg-gray-800/70 rounded-lg p-6",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-4",children:[t," Releases"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v(t).map(f=>s.jsxs("div",{className:"flex space-x-3 bg-gray-700/50 rounded-lg p-3",children:[s.jsx("img",{src:be(f.poster_path,"w92"),alt:f.title,className:"w-12 h-16 object-cover rounded"}),s.jsxs("div",{className:"flex-grow",children:[s.jsx("h4",{className:"text-white font-medium text-sm",children:f.title}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-300 mt-1",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(ne,{className:"w-3 h-3 text-yellow-400 mr-1"}),s.jsx("span",{children:f.vote_average.toFixed(1)})]}),s.jsx("span",{children:""}),s.jsx("span",{children:new Date(f.release_date).toLocaleDateString()})]}),s.jsx("p",{className:"text-gray-400 text-xs mt-1 line-clamp-2",children:f.overview})]})]},f.id))})]})]})]}):s.jsxs("div",{className:"text-center text-white py-16",children:[s.jsx(zy,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Production History"}),s.jsx("p",{className:"text-gray-400",children:"Box office performance, production budgets, and behind-the-scenes timeline."}),s.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"Coming soon..."})]})]})},od=e=>{if(!e||typeof e!="object")return!1;const t=e;return!(typeof t.id!="number"||!Array.isArray(t.parts)||typeof t.film_count!="number"||typeof t.name!="string")},C_=e=>!e||e.length===0?0:e.reduce((r,n)=>r+(typeof n.vote_average=="number"?n.vote_average:0),0)/e.length,T_=(e,t)=>{const r=[...e];switch(t){case"chronological":{const n=i=>i?new Date(i).getTime():0;return r.sort((i,a)=>n(i.release_date)-n(a.release_date))}case"rating":return r.sort((n,i)=>(i.vote_average||0)-(n.vote_average||0));case"title":return r.sort((n,i)=>(n.title||"").localeCompare(i.title||""));case"release":default:return r}},__=(e,t,r)=>{let n=e;const i=(t||"").trim().toLowerCase();return i&&(n=n.filter(a=>{const l=(a.title||"").toLowerCase(),o=(a.overview||"").toLowerCase();return l.includes(i)||o.includes(i)})),typeof r=="number"?n.slice(0,r):n},ip=e=>{if(!e||typeof e!="number"||e<=0)return"0m";const t=Math.floor(e/60),r=e%60;return t===0?`${r}m`:`${t}h ${r}m`},E_=e=>{var n;if(!e)return 0;const t=Array.isArray((n=e.user_progress)==null?void 0:n.watched_films)?e.user_progress.watched_films.length:0,r=e.film_count||(Array.isArray(e.parts)?e.parts.length:0);return r===0?0:t/r*100},P_=e=>{var t;return e&&Array.isArray((t=e.user_progress)==null?void 0:t.watched_films)?e.user_progress.watched_films.length:0},fn=(e,t)=>{var r,n;return e?!!((n=(r=e.user_progress)==null?void 0:r.watched_films)!=null&&n.includes(t)):!1},M_=(e,t)=>e?T_(e.parts,t):[],A_=(e,t,r,n)=>{const i=M_(e,t);return __(i,r,n?void 0:6)},R_=({initialCollection:e,loader:t})=>{const{id:r}=Ih(),n=Cs(),[i,a]=g.useState(()=>od(e)?e:null),[l,o]=g.useState(()=>!od(e)),[c,d]=g.useState(null),[u,h]=g.useState("overview"),[m,v]=g.useState("grid"),[y,b]=g.useState("release"),[x,f]=g.useState(""),[p,w]=g.useState(!1),[j,k]=g.useState(!1),[S,C]=g.useState("release");g.useEffect(()=>{r&&T(parseInt(r,10))},[r]);const T=async E=>{try{o(!0),d(null);const _=await(t?t(E):ht(E));if(!od(_)){d("Collection not found or invalid data received"),a(null);return}const D=is.enhanceCollectionsWithProgress([_])[0];a(D)}catch(_){console.error("Error fetching collection details:",_),d((_==null?void 0:_.message)||"Failed to load collection details"),a(null)}finally{o(!1)}},L=()=>{if(!i||!i.parts.length)return;is.startMarathonSession(i,S);const E=i.parts[0];E!=null&&E.id&&n(`/movie/${E.id}`)},A=()=>{i&&i.parts.forEach(E=>{console.log("Adding to list:",E.title)})},K=E=>{i&&(fn(i,E)?is.markFilmUnwatched(i.id,E):is.markFilmWatched(i.id,E),T(i.id))};if(l)return s.jsx("div",{className:"min-h-screen bg-netflix-black",children:s.jsx(j1,{})});if(c||!i)return s.jsx("div",{className:"min-h-screen bg-netflix-black flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-2xl text-white mb-4",children:c||"Collection not found"}),s.jsx(xe,{to:"/collections",className:"text-netflix-red hover:underline",children:"Back to Collections"})]})});const Y=E_(i),Z=P_(i),te=C_(i.parts).toFixed(1),G=ri(i.backdrop_path||"","w1280"),q=be(i.poster_path||"","w500");return s.jsxs("div",{className:"min-h-screen bg-netflix-black",children:[s.jsxs("div",{className:"relative h-screen overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:G,alt:i.name||"Collection backdrop",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-netflix-black via-netflix-black/80 to-netflix-black/40"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-netflix-black via-transparent to-transparent"})]}),s.jsx("div",{className:"absolute top-24 left-8 z-10",children:s.jsxs(xe,{to:"/collections",className:"flex items-center gap-2 text-white hover:text-gray-300 transition-colors",children:[s.jsx(ks,{className:"w-5 h-5"}),s.jsx("span",{children:"Back to Collections"})]})}),s.jsx("div",{className:"absolute inset-0 flex items-center",children:s.jsx("div",{className:"max-w-7xl mx-auto px-8 w-full",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 items-center",children:[s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"relative max-w-sm mx-auto lg:mx-0",children:[s.jsx("img",{src:q,alt:i.name||"Collection poster",className:"w-full rounded-lg shadow-2xl"}),Y>0&&s.jsx("div",{className:"absolute -top-4 -right-4 w-16 h-16 bg-netflix-black rounded-full flex items-center justify-center border-4 border-netflix-red",children:s.jsxs("span",{className:"text-white text-sm font-bold",children:[Math.round(Y),"%"]})})]})}),s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-5xl md:text-7xl font-bold text-white leading-tight mb-4",children:i.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-6",children:[s.jsxs("span",{className:"bg-netflix-red text-white px-3 py-1 rounded-full text-sm font-semibold",children:[i.film_count," ",i.film_count===1?"Movie":"Movies"]}),s.jsx("span",{className:"bg-gray-700 text-white px-3 py-1 rounded-full text-sm",children:String(i.type||"").replace("_"," ").toUpperCase()}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${i.status==="complete"?"bg-green-600 text-white":i.status==="ongoing"?"bg-blue-600 text-white":"bg-yellow-600 text-black"}`,children:(i.status||"").toUpperCase()})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-center",children:[s.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-lg p-4",children:[s.jsx(ne,{className:"w-6 h-6 text-yellow-400 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:te}),s.jsx("div",{className:"text-gray-300 text-sm",children:"Avg Rating"})]}),s.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-lg p-4",children:[s.jsx(yt,{className:"w-6 h-6 text-blue-400 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:ip(i.total_runtime||0)}),s.jsx("div",{className:"text-gray-300 text-sm",children:"Total Runtime"})]}),s.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-lg p-4",children:[s.jsx(gt,{className:"w-6 h-6 text-green-400 mx-auto mb-2"}),s.jsx("div",{className:"text-2xl font-bold text-white",children:i.first_release_date?new Date(i.first_release_date).getFullYear():"N/A"}),s.jsx("div",{className:"text-gray-300 text-sm",children:"First Release"})]}),s.jsxs("div",{className:"bg-black/50 backdrop-blur-sm rounded-lg p-4",children:[s.jsx(Vc,{className:"w-6 h-6 text-purple-400 mx-auto mb-2"}),s.jsxs("div",{className:"text-2xl font-bold text-white",children:[Z,"/",i.film_count]}),s.jsx("div",{className:"text-gray-300 text-sm",children:"Watched"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("button",{onClick:L,className:"flex items-center bg-white text-black px-8 py-3 rounded-md font-semibold hover:bg-gray-200 transition-all duration-300 hover:scale-105",children:[s.jsx(de,{className:"w-5 h-5 mr-2 fill-current"}),Y>0&&Y<100?"Continue Watching":"Start Watching"]}),s.jsxs("button",{onClick:A,className:"flex items-center bg-gray-600/70 backdrop-blur-sm text-white px-8 py-3 rounded-md font-semibold hover:bg-gray-600/90 transition-all duration-300 hover:scale-105",children:[s.jsx(Ds,{className:"w-5 h-5 mr-2"}),"Add All to My List"]}),s.jsxs("button",{className:"flex items-center bg-gray-600/70 backdrop-blur-sm text-white px-6 py-3 rounded-md font-semibold hover:bg-gray-600/90 transition-all duration-300",children:[s.jsx(qr,{className:"w-5 h-5 mr-2"}),"Share"]}),s.jsxs("button",{className:"flex items-center bg-gray-600/70 backdrop-blur-sm text-white px-6 py-3 rounded-md font-semibold hover:bg-gray-600/90 transition-all duration-300",children:[s.jsx(Rt,{className:"w-5 h-5 mr-2"}),"Download All"]})]}),Y>0&&s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm text-gray-300",children:[s.jsx("span",{children:"Collection Progress"}),s.jsxs("span",{children:[Z," of ",i.film_count," watched"]})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-netflix-red h-2 rounded-full animate-progress-fill",style:{"--progress-width":`${Y}%`}})})]})]})]})})})]}),s.jsx("div",{className:"sticky top-20 z-40 bg-netflix-black/95 backdrop-blur-sm border-b border-gray-800",children:s.jsx("div",{className:"max-w-7xl mx-auto px-8",children:s.jsx("nav",{className:"flex space-x-8 overflow-x-auto",children:[{id:"overview",label:"Overview",icon:Ce},{id:"movies",label:"Movies",icon:rn},{id:"timeline",label:"Timeline",icon:Yr},{id:"cast",label:"Cast & Crew",icon:ds},{id:"trivia",label:"Trivia & Facts",icon:Vc},{id:"related",label:"Related Collections",icon:nn}].map(E=>{const _=E.icon;return s.jsxs("button",{onClick:()=>h(E.id),className:`flex items-center space-x-2 py-4 px-2 border-b-2 whitespace-nowrap transition-colors ${u===E.id?"border-netflix-red text-white":"border-transparent text-gray-400 hover:text-white"}`,children:[s.jsx(_,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:E.label})]},E.id)})})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-8 py-8",children:[u==="overview"&&s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 tab-content",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"About This Collection"}),s.jsx("p",{className:"text-gray-300 text-lg leading-relaxed",children:i.overview||`The ${i.name} collection brings together all the films in this beloved franchise. Experience the complete story arc from beginning to end, watching as characters develop and stories unfold across multiple films. Perfect for marathon viewing or revisiting your favorite moments.`})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Movies in Collection"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"flex items-center bg-gray-800 rounded-lg p-1",children:[s.jsx("button",{onClick:()=>v("grid"),className:`p-2 rounded ${m==="grid"?"bg-netflix-red text-white":"text-gray-400 hover:text-white"}`,children:s.jsx(rn,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>v("list"),className:`p-2 rounded ${m==="list"?"bg-netflix-red text-white":"text-gray-400 hover:text-white"}`,children:s.jsx(Sa,{className:"w-4 h-4"})})]}),s.jsxs("select",{value:y,onChange:E=>b(E.target.value),className:"bg-gray-800 text-white border border-gray-600 rounded-lg px-3 py-2",children:[s.jsx("option",{value:"release",children:"Release Order"}),s.jsx("option",{value:"chronological",children:"Chronological"}),s.jsx("option",{value:"rating",children:"Rating"}),s.jsx("option",{value:"title",children:"Title"})]})]})]}),i.film_count>6&&s.jsxs("div",{className:"relative mb-6",children:[s.jsx(Ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),s.jsx("input",{type:"text",placeholder:"Search movies in this collection...",value:x,onChange:E=>f(E.target.value),className:"w-full bg-gray-800 text-white pl-10 pr-4 py-3 rounded-lg border border-gray-600 focus:border-netflix-red focus:outline-none"})]}),s.jsx("div",{className:`${m==="grid"?"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 md:gap-6":"space-y-4"}`,children:A_(i,y,x,p).map((E,_)=>s.jsx("div",{className:`relative group ${m==="list"?"flex space-x-4 bg-gray-800/50 rounded-lg p-4":""}`,children:m==="grid"?s.jsxs("div",{className:"relative collection-card",children:[s.jsx(xe,{to:`/movie/${E.id}`,children:s.jsxs("div",{className:"relative aspect-[2/3] rounded-lg overflow-hidden bg-gray-800",children:[s.jsx("img",{src:be(E.poster_path,"w500"),alt:E.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"}),s.jsx("div",{className:`absolute top-3 left-3 w-3 h-3 rounded-full ${fn(i,E.id)?"bg-green-500":"bg-gray-500"}`}),s.jsxs("div",{className:"absolute top-3 right-3 bg-black/70 text-white px-2 py-1 rounded text-sm font-bold",children:["#",_+1]}),s.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-center justify-center",children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:D=>{D.preventDefault(),n(`/movie/${E.id}`)},className:"bg-white text-black p-3 rounded-full hover:bg-gray-200 transition-colors",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsx(Fa,{content:E,contentType:"movie",variant:"icon",className:"bg-gray-600/70 p-3 rounded-full hover:bg-gray-600",showText:!1}),s.jsx($a,{content:E,contentType:"movie",variant:"icon",className:"bg-gray-600/70 p-3 rounded-full hover:bg-gray-600",showText:!1})]})})]})}),s.jsxs("div",{className:"mt-3",children:[s.jsx("h3",{className:"text-white font-semibold truncate",children:E.title}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400 mt-1",children:[s.jsx("span",{children:E.release_date?new Date(E.release_date).getFullYear():"N/A"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ne,{className:"w-4 h-4 text-yellow-400 mr-1"}),s.jsx("span",{children:(E.vote_average||0).toFixed(1)})]})]}),s.jsx("button",{onClick:()=>K(E.id),className:`mt-2 w-full py-2 rounded text-sm font-medium transition-colors ${fn(i,E.id)?"bg-green-600 text-white hover:bg-green-700":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:fn(i,E.id)?"Watched":"Mark as Watched"})]})]}):s.jsxs("div",{className:"flex w-full space-x-4",children:[s.jsx(xe,{to:`/movie/${E.id}`,className:"flex-shrink-0",children:s.jsx("img",{src:be(E.poster_path,"w185"),alt:E.title,className:"w-20 h-28 object-cover rounded"})}),s.jsx("div",{className:"flex-grow",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold text-lg",children:E.title}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400 mt-1",children:[s.jsx("span",{children:E.release_date?new Date(E.release_date).getFullYear():"N/A"}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(ne,{className:"w-4 h-4 text-yellow-400 mr-1"}),s.jsx("span",{children:(E.vote_average||0).toFixed(1)})]}),s.jsx("span",{children:E.runtime?ip(E.runtime):"N/A"})]}),s.jsx("p",{className:"text-gray-300 text-sm mt-2 line-clamp-2",children:E.overview})]}),s.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[s.jsx("button",{onClick:()=>K(E.id),className:`px-3 py-1 rounded text-xs font-medium ${fn(i,E.id)?"bg-green-600 text-white":"bg-gray-700 text-gray-300"}`,children:fn(i,E.id)?"Watched":"Unwatched"}),s.jsx("button",{className:"text-gray-400 hover:text-white",children:s.jsx(Wy,{className:"w-5 h-5"})})]})]})})]})},E.id))}),i.film_count>6&&!p&&s.jsx("div",{className:"text-center mt-8",children:s.jsxs("button",{onClick:()=>w(!0),className:"bg-gray-700 hover:bg-gray-600 text-white px-8 py-3 rounded-lg font-medium transition-colors",children:["View All ",i.film_count," Movies"]})})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsxs("div",{className:"sticky top-32 space-y-6",children:[s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-white font-semibold mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("button",{onClick:L,className:"w-full flex items-center justify-center bg-netflix-red hover:bg-red-700 text-white py-3 rounded-lg font-medium transition-colors",children:[s.jsx(Li,{className:"w-5 h-5 mr-2"}),Y>0&&Y<100?"Continue Watching":"Start from Beginning"]}),Y>0&&Y<100&&s.jsxs("button",{className:"w-full flex items-center justify-center bg-gray-700 hover:bg-gray-600 text-white py-3 rounded-lg font-medium transition-colors",children:[s.jsx(UN,{className:"w-5 h-5 mr-2"}),"Skip to Unwatched"]}),s.jsxs("button",{onClick:()=>k(!j),className:`w-full flex items-center justify-center py-3 rounded-lg font-medium transition-colors ${j?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-700 hover:bg-gray-600 text-white"}`,children:[s.jsx(yt,{className:"w-5 h-5 mr-2"}),j?"Marathon Mode On":"Enable Marathon Mode"]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-white font-semibold mb-4",children:"Viewing Order"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"viewingOrder",value:"release",checked:S==="release",onChange:E=>C(E.target.value),className:"text-netflix-red mr-3"}),s.jsx("span",{className:"text-gray-300",children:"Release Order"})]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",name:"viewingOrder",value:"chronological",checked:S==="chronological",onChange:E=>C(E.target.value),className:"text-netflix-red mr-3"}),s.jsx("span",{className:"text-gray-300",children:"Chronological Order"})]})]})]}),s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-white font-semibold mb-4",children:"Collection Details"}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Genres:"}),s.jsx("span",{className:"text-white",children:(i.genre_categories||[]).join(", ")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Studio:"}),s.jsx("span",{className:"text-white",children:i.studio||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Status:"}),s.jsx("span",{className:`capitalize ${i.status==="complete"?"text-green-400":i.status==="ongoing"?"text-blue-400":"text-yellow-400"}`,children:i.status||"unknown"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-400",children:"Span:"}),s.jsxs("span",{className:"text-white",children:[i.first_release_date?new Date(i.first_release_date).getFullYear():"N/A"," - ",i.latest_release_date?new Date(i.latest_release_date).getFullYear():"N/A"]})]})]})]}),Y>0&&s.jsxs("div",{className:"bg-gray-800/50 rounded-lg p-6",children:[s.jsx("h3",{className:"text-white font-semibold mb-4",children:"Your Progress"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-white mb-1",children:[Math.round(Y),"%"]}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Complete"})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-netflix-red h-2 rounded-full transition-all duration-500",style:{width:`${Y}%`}})}),s.jsxs("div",{className:"text-center text-gray-400 text-sm",children:[Z," of ",i.film_count," movies watched"]})]})]})]})})]}),u==="movies"&&s.jsxs("div",{className:"text-center text-white py-16 tab-content",children:[s.jsx(Ce,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Movies Tab"}),s.jsx("p",{className:"text-gray-400",children:"Complete filmography with advanced sorting and filtering options."})]}),u==="timeline"&&s.jsx("div",{className:"tab-content",children:s.jsx(k_,{collection:i})}),u==="cast"&&s.jsxs("div",{className:"text-center text-white py-16 tab-content",children:[s.jsx(ds,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Cast & Crew"}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Recurring actors, directors, and key personnel across the franchise."}),s.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8",children:[s.jsx("p",{className:"text-gray-500",children:"Feature coming soon..."}),s.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"This section will show cast members who appeared in multiple films, director changes across the franchise, and character evolution."})]})]}),u==="trivia"&&s.jsxs("div",{className:"text-center text-white py-16 tab-content",children:[s.jsx(Vc,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Trivia & Facts"}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Behind-the-scenes information and interesting easter eggs."}),s.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8",children:[s.jsx("p",{className:"text-gray-500",children:"Feature coming soon..."}),s.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"This section will include production secrets, easter eggs, filming locations, and franchise connections."})]})]}),u==="related"&&s.jsxs("div",{className:"text-center text-white py-16 tab-content",children:[s.jsx(nn,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Related Collections"}),s.jsx("p",{className:"text-gray-400 mb-8",children:"Similar franchises and spin-off collections you might enjoy."}),s.jsxs("div",{className:"bg-gray-800/30 rounded-lg p-8",children:[s.jsx("p",{className:"text-gray-500",children:"Feature coming soon..."}),s.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"This section will recommend similar franchises, spin-offs, and collections based on your preferences."})]})]})]})]})};function L_(e){if(e.contentType==="tv"){const t=e.season!==void 0?e.season.toString().padStart(2,"0"):"00",r=e.episode!==void 0?e.episode.toString().padStart(2,"0"):"00";return`TV Show S${t}E${r}`}return"Movie"}class D_{constructor(t){ts(this,"endpoints",[{type:"standard",baseUrl:"https://rivestream.org/embed",name:"Rivestream Standard",description:"Standard streaming with multiple quality options"},{type:"aggregator",baseUrl:"https://rivestream.org/embed/agg",name:"Rivestream Aggregator",description:"Multiple aggregator servers for better reliability"},{type:"torrent",baseUrl:"https://rivestream.org/embed/torrent",name:"Rivestream Torrent",description:"High-quality torrent-backed streaming"},{type:"download",baseUrl:"https://rivestream.org/download",name:"Rivestream Download",description:"Direct download functionality"}]);ts(this,"httpClient");this.httpClient=t}buildUrl(t,r){const{contentType:n,tmdbId:i,season:a,episode:l}=r;let o=`${t.baseUrl}?type=${n}&id=${i}`;return n==="tv"&&a&&l&&(o+=`&season=${a}&episode=${l}`),o}buildCinemaOSUrl(t){const{contentType:r,tmdbId:n,season:i,episode:a}=t;let l="";r==="movie"?l=`https://cinemaos.tech/player/${n}`:l=`https://cinemaos.tech/player/${n}/${i}/${a}`;const o=new URLSearchParams({autoplay:"1",muted:"0",controls:"1",rel:"0",modestbranding:"1",fs:"1",cc_load_policy:"0",iv_load_policy:"3",autohide:"2"});return`${l}?${o.toString()}`}buildBeechUrl(t){const{contentType:r,tmdbId:n,season:i,episode:a}=t;return r==="movie"?`https://beech-api.vercel.app/?id=${n}`:`https://beech-api.vercel.app/?id=${n}&type=tv&season=${i}&episode=${a}`}buildVidjoyUrl(t){const{contentType:r,tmdbId:n,season:i,episode:a}=t;return r==="movie"?`https://vidjoy.pro/embed/movie/${n}`:`https://vidjoy.pro/embed/tv/${n}/${i}/${a}`}buildVidSrcUrl(t,r){const{contentType:n,tmdbId:i,season:a,episode:l}=t;if(n==="movie"){const o=`https://vidsrc.wtf/api/${r}/movie/?id=${i}`;return r===1||r===2?`${o}&color=ff0000`:o}else return`https://vidsrc.wtf/api/${r}/tv/?id=${i}&s=${a}&e=${l}`}buildVidFastUrl(t){const{contentType:r,tmdbId:n,season:i,episode:a}=t;return r==="movie"?`https://vidfast.pro/movie/${n}?autoPlay=true`:`https://vidfast.pro/tv/${n}/${i}/${a}?autoPlay=true`}async retryWithBackoff(t,r=3,n=200){let i=0,a=null;for(;i<r;)try{return await t()}catch(l){if(a=l,i+=1,i>=r)break;const o=n*Math.pow(2,i-1);await new Promise(c=>setTimeout(c,o))}throw a}async getStreamSources(t){const r=[],n=this.endpoints.find(l=>l.type==="standard");n&&r.push({id:"rivestream_server_1",name:"Rivestream Server 1",url:this.buildUrl(n,t),type:"hls",quality:"FHD",fileSize:"Auto",reliability:"Fast",isAdFree:!0,language:"English",subtitles:["English","Spanish","French"]});const i=this.endpoints.find(l=>l.type==="aggregator");i&&r.push({id:"rivestream_server_2",name:"Rivestream Server 2",url:this.buildUrl(i,t),type:"hls",quality:"4K",fileSize:"Auto",reliability:"Premium",isAdFree:!0,language:"English",subtitles:["English","Spanish","French","German","Italian"]});const a=this.endpoints.find(l=>l.type==="torrent");return a&&r.push({id:"rivestream_server_3",name:"Rivestream Server 3",url:this.buildUrl(a,t),type:"direct",quality:"HD",fileSize:"Variable",reliability:"Stable",isAdFree:!0,language:"English",subtitles:["English"]}),i&&r.push({id:"rivestream_s2_main",name:"RiveStream S2",url:this.buildUrl(i,t),type:"hls",quality:"4K",fileSize:"Auto",reliability:"Premium",isAdFree:!0,language:"English",subtitles:["English","Spanish","French","German","Italian"]}),r.push({id:"cinemaos_player",name:"CinemaOS",url:this.buildCinemaOSUrl(t),type:"hls",quality:"FHD",fileSize:"Auto",reliability:"Premium",isAdFree:!0,language:"English",subtitles:["English","Spanish","French"]}),r.push({id:"beech_player",name:"Beech",url:this.buildBeechUrl(t),type:"hls",quality:"HD",fileSize:"Auto",reliability:"Fast",isAdFree:!1,language:"English",subtitles:["English"]}),r.push({id:"vidjoy_player",name:"Vidjoy",url:this.buildVidjoyUrl(t),type:"hls",quality:"FHD",fileSize:"Auto",reliability:"Premium",isAdFree:!0,language:"English",subtitles:["English","Spanish","French"]}),r.push({id:"vidsrc_premium_main",name:"VidSrc Premium",url:this.buildVidSrcUrl(t,4),type:"hls",quality:"4K",fileSize:"Auto",reliability:"Premium",isAdFree:!0,language:"English",subtitles:["English","Spanish","French"]}),r.push({id:"vidsrc_api_1",name:"VidSrc Multi Server",url:this.buildVidSrcUrl(t,1),type:"hls",quality:"HD",fileSize:"Auto",reliability:"Fast",isAdFree:!1,language:"English",subtitles:["English"]},{id:"vidsrc_api_2",name:"VidSrc Multi Language",url:this.buildVidSrcUrl(t,2),type:"hls",quality:"FHD",fileSize:"Auto",reliability:"Fast",isAdFree:!1,language:"Multi-Language",subtitles:["English","Spanish","French","German"]},{id:"vidsrc_api_3",name:"VidSrc Multi Embeds",url:this.buildVidSrcUrl(t,3),type:"hls",quality:"FHD",fileSize:"Auto",reliability:"Premium",isAdFree:!0,language:"English",subtitles:["English","Spanish"]},{id:"vidsrc_api_4",name:"VidSrc Premium",url:this.buildVidSrcUrl(t,4),type:"hls",quality:"4K",fileSize:"Auto",reliability:"Premium",isAdFree:!0,language:"English",subtitles:["English","Spanish","French"]}),r.push({id:"vidfast_player",name:"VidFast",url:this.buildVidFastUrl(t),type:"hls",quality:"FHD",fileSize:"Auto",reliability:"Fast",isAdFree:!0,language:"English",subtitles:["English","Spanish","French"]}),r.push({id:"placeholder_embedsu",name:"EmbedSu",url:"",type:"mp4",quality:"FHD",fileSize:"Auto",reliability:"Stable",isAdFree:!0,language:"English",subtitles:["English","Spanish"]}),r}async getDownloadOptions(t){const r=this.endpoints.find(i=>i.type==="download");if(!r)return[];const n=this.buildUrl(r,t);return[{id:"rivestream_download_480p",quality:"480p",format:"MP4",fileSize:"800 MB",codec:"H.264",url:`${n}&quality=480p`,estimatedDownloadTime:"15 min"},{id:"rivestream_download_720p",quality:"720p",format:"MP4",fileSize:"1.4 GB",codec:"H.264",url:`${n}&quality=720p`,estimatedDownloadTime:"25 min"},{id:"rivestream_download_1080p",quality:"1080p",format:"MKV",fileSize:"2.8 GB",codec:"H.265",url:`${n}&quality=1080p`,estimatedDownloadTime:"45 min"},{id:"rivestream_download_4k",quality:"4K",format:"MKV",fileSize:"8.2 GB",codec:"H.265",url:`${n}&quality=4k`,estimatedDownloadTime:"2 hours"}]}async getTorrentSources(t){if(!this.endpoints.find(i=>i.type==="torrent"))return[];const n=L_(t);return[{id:"rivestream_torrent_1080p",name:`${n} BluRay 1080p`,magnetLink:`magnet:?xt=urn:btih:rivestream_${t.tmdbId}_1080p&dn=${encodeURIComponent(n)}`,quality:"BluRay",fileSize:"12.5 GB",seeders:1250,leechers:45,health:"Excellent",releaseGroup:"Rivestream",uploadedBy:"RivestreamBot",isTrusted:!0,uploadDate:new Date().toISOString().split("T")[0]},{id:"rivestream_torrent_720p",name:`${n} WEBRip 720p`,magnetLink:`magnet:?xt=urn:btih:rivestream_${t.tmdbId}_720p&dn=${encodeURIComponent(n)}`,quality:"WEBRip",fileSize:"4.2 GB",seeders:890,leechers:23,health:"Good",releaseGroup:"Rivestream",uploadedBy:"RivestreamBot",isTrusted:!0,uploadDate:new Date().toISOString().split("T")[0]}]}async checkSourceAvailability(t){try{return this.httpClient&&typeof this.httpClient.head=="function"&&await this.retryWithBackoff(()=>this.httpClient.head(t,{timeout:2e3}),3,200),!0}catch(r){return console.error("Source availability check failed:",r),!1}}async getAllContentData(t){try{const[r,n,i]=await Promise.all([this.getStreamSources(t),this.getDownloadOptions(t),this.getTorrentSources(t)]);return{streamSources:r,downloadOptions:n,torrentSources:i}}catch(r){return console.error("Error fetching Rivestream content data:",r),{streamSources:[],downloadOptions:[],torrentSources:[]}}}async getTVShowSeasons(t){return[{season:1,episodes:Array.from({length:10},(r,n)=>n+1)}]}}const I_=new D_,N1=["English","Spanish","French","German","Italian","Portuguese","Russian","Japanese","Korean","Chinese","Arabic","Turkish","Hindi","Dutch","Swedish","Norwegian","Danish","Finnish"];function F_(e){return typeof e=="string"&&e.startsWith("tt")}function dl(e){if(e!=null&&typeof e=="string"&&N1.includes(e))return e}function ul(e){return e?`subLang=${encodeURIComponent(e)}`:""}class sr{static getMovieEmbedUrl(t,r){const n=typeof t=="string"||typeof t=="number"?String(t):"",i=r!=null&&r.subLang?dl(r.subLang):void 0,a=`${this.BASE_URL}/movie/${n}`;return i?`${a}?${ul(i)}`:a}static getTVEmbedUrl(t,r,n,i){const a=typeof t=="string"||typeof t=="number"?String(t):"",l=i!=null&&i.subLang?dl(i.subLang):void 0,o=[];Number.isInteger(r)&&r>=0&&o.push(`s=${r}`),Number.isInteger(n)&&n>=0&&o.push(`e=${n}`);let c=`${this.BASE_URL}/tv/${a}`;return o.length>0&&(c+=`?${o.join("&")}`),l&&(c+=(o.length>0?"&":"?")+ul(l)),c}static getAnimeEmbedUrlAniList(t,r,n){const i=n!=null&&n.subLang?dl(n.subLang):void 0,a=[];Number.isInteger(t)&&t>0&&a.push(`anilist=${t}`),Number.isInteger(r)&&r>=0&&a.push(`e=${r}`);let l=`${this.BASE_URL}/anime`;return a.length>0&&(l+=`?${a.join("&")}`),i&&(l+=(a.length>0?"&":"?")+ul(i)),l}static getAnimeEmbedUrlMAL(t,r,n){const i=n!=null&&n.subLang?dl(n.subLang):void 0,a=[];Number.isInteger(t)&&t>0&&a.push(`mal=${t}`),Number.isInteger(r)&&r>=0&&a.push(`e=${r}`);let l=`${this.BASE_URL}/anime`;return a.length>0&&(l+=`?${a.join("&")}`),i&&(l+=(a.length>0?"&":"?")+ul(i)),l}static isImdbId(t){return F_(t)}static generateMovieSources(t){return[{id:`smashystream_movie_${t}`,name:"SmashyStream",url:this.getMovieEmbedUrl(t),type:"hls",quality:"FHD",reliability:"Premium",isAdFree:!0,language:"Multi",fileSize:"Auto"}]}static generateTVSource(t,r,n){return[{id:`smashystream_tv_${t}_s${r}e${n}`,name:`SmashyStream S${r}E${n}`,url:this.getTVEmbedUrl(t,r,n),type:"hls",quality:"FHD",reliability:"Premium",isAdFree:!0,language:"Multi",fileSize:"Auto"}]}static getSupportedSubtitleLanguages(){return[...N1]}}ts(sr,"BASE_URL","https://player.smashy.stream");function Ll(e,t="value"){if(typeof e!="number"||!Number.isFinite(e)||!Number.isInteger(e)||e<=0)throw new TypeError(`${t} must be a positive integer`)}function ap(e){return typeof e=="string"?e.trim():String(e)}function lp(e){return typeof e=="string"?e.trim():String(e)}function $_(e){return Ll(e,"tmdbId"),{id:`111movies_movie_${e}`,name:"111movies",url:Ms.getMovieEmbedUrl(e),type:"hls",quality:"HD",reliability:"Stable",isAdFree:!1,language:"Multi",fileSize:"Auto"}}function V_(e,t,r){return Ll(e,"tmdbId"),Ll(t,"season"),Ll(r,"episode"),{id:`111movies_tv_${e}_s${t}e${r}`,name:`111movies S${t}E${r}`,url:Ms.getTVEmbedUrl(e,t,r),type:"hls",quality:"HD",reliability:"Stable",isAdFree:!1,language:"Multi",fileSize:"Auto"}}class Ms{static getMovieEmbedUrl(t){try{const r=ap(t);return`${this.BASE_URL}/movie/${r}`}catch(r){throw r}}static getTVEmbedUrl(t,r,n){try{const i=ap(t),a=lp(r),l=lp(n);return`${this.BASE_URL}/tv/${i}/${a}/${l}`}catch(i){throw i}}static isImdbId(t){return typeof t=="string"&&t.startsWith("tt")}static generateMovieSources(t){return[$_(t)]}static generateTVSource(t,r,n){return[V_(t,r,n)]}static getSupportedSubtitleLanguages(){return["English","Spanish","French","German","Portuguese","Russian","Italian","Dutch"]}}ts(Ms,"BASE_URL","https://111movies.com");const O_=({content:e,selectedSource:t})=>{const[r,n]=g.useState(!0),[i,a]=g.useState(!1),l=()=>{a(!1),n(!0)};return g.useEffect(()=>{const o=setTimeout(()=>{n(!1)},2e3);return()=>clearTimeout(o)},[t]),s.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden group",children:[s.jsxs("div",{className:"relative aspect-video bg-gradient-to-br from-gray-900 to-black",children:[r&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-16 w-16 netflix-spinner-thick"}),s.jsx("div",{className:"h-16 w-16 netflix-ripple"}),s.jsx("div",{className:"h-16 w-16 netflix-ripple",style:{animationDelay:"0.5s"}})]}),s.jsxs("div",{className:"text-center loading-text",children:[s.jsx("p",{className:"text-white text-lg font-medium",children:"Loading video..."}),s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:t?`Connecting to ${t.name}`:"Preparing stream"})]})]})}),i&&!r&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black",children:s.jsxs("div",{className:"text-center",children:[s.jsx(lN,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-white text-lg mb-2",children:"Failed to load video"}),s.jsx("p",{className:"text-gray-400 text-sm mb-4",children:"Unable to connect to the selected source"}),s.jsxs("button",{onClick:l,className:"flex items-center px-4 py-2 bg-[#ff0000] text-white rounded-lg hover:bg-red-700 transition-colors mx-auto",children:[s.jsx(VN,{className:"h-4 w-4 mr-2"}),"Retry"]})]})}),!r&&!i&&s.jsx(s.Fragment,{children:t?s.jsx("iframe",{src:t.url,className:"w-full h-full streaming-iframe",frameBorder:"0",allowFullScreen:!0,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",title:`${t.name} - ${"title"in e?e.title:e.name}`,onError:()=>a(!0),onLoad:()=>a(!1),sandbox:"allow-scripts allow-same-origin allow-presentation allow-fullscreen",referrerPolicy:"no-referrer",style:{filter:"none",isolation:"isolate",pointerEvents:"auto"}}):s.jsxs("div",{className:"absolute inset-0",children:[s.jsx("img",{src:`https://image.tmdb.org/t/p/original${e.backdrop_path}`,alt:"title"in e?e.title:e.name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-white text-lg mb-2",children:"Select a source to start watching"}),s.jsx("p",{className:"text-gray-400 text-sm",children:"Choose from the available streaming sources above"})]})})]})}),t&&!r&&s.jsx("div",{className:"absolute top-4 right-4",children:s.jsxs("div",{className:"bg-black/70 backdrop-blur-sm rounded-lg px-3 py-1",children:[s.jsx("span",{className:"text-white text-sm font-medium",children:t.name}),s.jsx("span",{className:"text-green-400 text-xs ml-2",children:t.quality}),t.id==="cinemaos_player"&&s.jsx("span",{className:"text-blue-400 text-xs ml-2",children:"Enhanced"})]})})]}),s.jsx("div",{className:"bg-gray-900 p-4 border-t border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-white font-semibold text-lg",children:"title"in e?e.title:e.name}),s.jsx("p",{className:"text-gray-400 text-sm",children:t?`Streaming from ${t.name}`:"Select a source to start watching"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Quality:"}),s.jsx("span",{className:"text-[#ff0000] text-sm font-medium",children:(t==null?void 0:t.quality)||"Auto"})]})]})})]})},z_=e=>{if(!e||typeof e!="object")return!1;const t=typeof e.id=="string"&&e.id.length>0,r=typeof e.name=="string",n=typeof e.url=="string",i=typeof e.quality=="string",a=typeof e.type=="string";return t&&r&&n&&i&&a},B_=e=>(e||[]).filter(z_).map(r=>({...r})),U_=e=>{const t=B_(e||[]),r=t.filter(u=>u.id.startsWith("rivestream_server_")),n=t.filter(u=>u.id.startsWith("rivestream_s2_")),i=t.filter(u=>u.id.startsWith("vidsrc_api_")),a=t.filter(u=>u.id.startsWith("vidsrc_premium_")),l=t.filter(u=>u.id.startsWith("smashystream_")),o=t.filter(u=>u.id.startsWith("111movies_")),c=new Set([...r.map(u=>u.id),...n.map(u=>u.id),...i.map(u=>u.id),...a.map(u=>u.id),...l.map(u=>u.id),...o.map(u=>u.id)]),d=t.filter(u=>!c.has(u.id));return{rivestream:r,rivestreamS2:n,vidsrc:i,vidsrcPremium:a,smashystream:l,movies111:o,other:d}},cd=new WeakMap,H_=e=>{if(cd.has(e))return cd.get(e);const t=U_(e);return cd.set(e,t),t},hl=e=>{switch(e){case"4K":return"text-purple-400 bg-purple-500/20";case"FHD":return"text-blue-400 bg-blue-500/20";case"HD":return"text-green-400 bg-green-500/20";case"SD":return"text-yellow-400 bg-yellow-500/20";default:return"text-gray-400 bg-gray-500/20"}},op=e=>{switch(e){case"hls":return"";case"direct":return"";case"mp4":return"";default:return""}},W_=(e,t,r,n)=>async i=>{if(i.url!==""){n&&n(null),r&&r(i.id);try{e?await e(i):await new Promise(a=>setTimeout(a,1500)),t&&t(i),console.log("Loading stream from:",i.name,i.url)}catch(a){const l=a&&a.message?a.message:"Failed to load source";n&&n(l),console.error("Error loading source:",l,a)}finally{r&&r(null)}}},G_=({sources:e,onSourceSelect:t,selectedSource:r,loadSource:n})=>{const[i,a]=g.useState(null),[l,o]=g.useState(null),{rivestream:c,rivestreamS2:d,vidsrc:u,vidsrcPremium:h,smashystream:m,movies111:v,other:y}=g.useMemo(()=>H_(e),[e]),b=g.useCallback(W_(n,t,a,o),[n,t]);return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(de,{className:"h-6 w-6 text-[#ff0000]"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Stream Sources"}),s.jsxs("span",{className:"px-2 py-1 bg-[#ff0000] text-white text-sm rounded-full",children:[e.length," Available"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[s.jsx(yt,{className:"h-4 w-4"}),s.jsx("span",{children:"Auto-quality based on connection"})]})]}),l&&s.jsxs(re.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},className:"bg-red-900/30 border border-red-700 rounded-lg p-3 text-sm text-red-200",children:[s.jsx("strong",{children:"Error:"})," ",l]}),r&&s.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-[#ff0000]/10 border border-[#ff0000]/30 rounded-lg p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-white",children:"Now Streaming"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),s.jsx("span",{className:"text-green-400 text-sm",children:"Live"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Source:"}),s.jsx("div",{className:"text-white font-medium",children:r.name})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Quality:"}),s.jsx("div",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${hl(r.quality)}`,children:r.quality})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Size:"}),s.jsx("div",{className:"text-white font-medium",children:r.fileSize})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Type:"}),s.jsxs("div",{className:"text-white font-medium flex items-center space-x-1",children:[s.jsx("span",{children:op(r.type)}),s.jsx("span",{children:r.type.toUpperCase()})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:[y.filter(x=>x.id==="vidjoy_player").length>0&&s.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onClick:()=>{const x=y.find(f=>f.id==="vidjoy_player");x&&x.url!==""&&b(x)},className:`relative rounded-lg p-4 border-2 transition-all duration-300 cursor-pointer ${y.some(x=>x.id==="vidjoy_player"&&(r==null?void 0:r.id)===x.id)?"border-[#ff0000] bg-[#ff0000]/10":"bg-gray-800 border-gray-700 hover:border-gray-600 hover:bg-gray-750"}`,children:[y.some(x=>x.id==="vidjoy_player"&&(r==null?void 0:r.id)===x.id)&&s.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-[#ff0000] rounded-full",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute top-0.5 left-0.5"})}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-purple-500/20 rounded-lg flex items-center justify-center mb-2",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsx("h3",{className:"text-white font-medium text-sm mb-1 leading-tight",children:"Vidjoy"}),s.jsx("p",{className:"text-gray-400 text-xs mb-2",children:y.some(x=>x.id==="vidjoy_player"&&(r==null?void 0:r.id)===x.id)?s.jsx("span",{className:"text-[#ff0000] font-medium",children:" Active"}):y.some(x=>x.id==="vidjoy_player"&&i===x.id)?s.jsx("span",{className:"text-yellow-400",children:"Loading..."}):"Click to switch"}),s.jsx("div",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium text-purple-400 bg-purple-500/20",children:"FHD"}),y.some(x=>x.id==="vidjoy_player"&&i===x.id)&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800/80 rounded-lg",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-[#ff0000] border-t-transparent"})})]})]}),y.filter(x=>x.id==="cinemaos_player").length>0&&s.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},onClick:()=>{const x=y.find(f=>f.id==="cinemaos_player");x&&x.url!==""&&b(x)},className:`relative rounded-lg p-4 border-2 transition-all duration-300 cursor-pointer ${y.some(x=>x.id==="cinemaos_player"&&(r==null?void 0:r.id)===x.id)?"border-[#ff0000] bg-[#ff0000]/10":"bg-gray-800 border-gray-700 hover:border-gray-600 hover:bg-gray-750"}`,children:[y.some(x=>x.id==="cinemaos_player"&&(r==null?void 0:r.id)===x.id)&&s.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-[#ff0000] rounded-full",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute top-0.5 left-0.5"})}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center mb-2",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsx("h3",{className:"text-white font-medium text-sm mb-1 leading-tight",children:"CinemaOS"}),s.jsx("p",{className:"text-gray-400 text-xs mb-2",children:y.some(x=>x.id==="cinemaos_player"&&(r==null?void 0:r.id)===x.id)?s.jsx("span",{className:"text-[#ff0000] font-medium",children:" Active"}):y.some(x=>x.id==="cinemaos_player"&&i===x.id)?s.jsx("span",{className:"text-yellow-400",children:"Loading..."}):"Click to switch"}),s.jsx("div",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium text-blue-400 bg-blue-500/20",children:"FHD"}),y.some(x=>x.id==="cinemaos_player"&&i===x.id)&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800/80 rounded-lg",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-[#ff0000] border-t-transparent"})})]})]}),d.length>0&&s.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},onClick:()=>d.length>0&&b(d[0]),className:`relative rounded-lg p-4 border-2 transition-all duration-300 cursor-pointer ${d.some(x=>(r==null?void 0:r.id)===x.id)?"border-[#ff0000] bg-[#ff0000]/10":"bg-gray-800 border-gray-700 hover:border-gray-600 hover:bg-gray-750"}`,children:[d.some(x=>(r==null?void 0:r.id)===x.id)&&s.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-[#ff0000] rounded-full",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute top-0.5 left-0.5"})}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-red-500/20 to-orange-500/20 rounded-lg flex items-center justify-center mb-2",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsx("h3",{className:"text-white font-medium text-sm mb-1 leading-tight",children:"RiveStream S2"}),s.jsx("p",{className:"text-gray-400 text-xs mb-2",children:d.some(x=>(r==null?void 0:r.id)===x.id)?s.jsx("span",{className:"text-[#ff0000] font-medium",children:" Active"}):d.some(x=>i===x.id)?s.jsx("span",{className:"text-yellow-400",children:"Loading..."}):"Server 2 Variant"}),d.length>0&&s.jsx("div",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium text-purple-400 bg-purple-500/20",children:"4K"}),d.some(x=>i===x.id)&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800/80 rounded-lg",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-[#ff0000] border-t-transparent"})})]})]}),h.length>0&&s.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.25},onClick:()=>h.length>0&&b(h[0]),className:`relative rounded-lg p-4 border-2 transition-all duration-300 cursor-pointer ${h.some(x=>(r==null?void 0:r.id)===x.id)?"border-[#ff0000] bg-[#ff0000]/10":"bg-gray-800 border-gray-700 hover:border-gray-600 hover:bg-gray-750"}`,children:[h.some(x=>(r==null?void 0:r.id)===x.id)&&s.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-[#ff0000] rounded-full",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute top-0.5 left-0.5"})}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-amber-500/20 to-yellow-500/20 rounded-lg flex items-center justify-center mb-2",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsx("h3",{className:"text-white font-medium text-sm mb-1 leading-tight",children:"VidSrc Premium"}),s.jsx("p",{className:"text-gray-400 text-xs mb-2",children:h.some(x=>(r==null?void 0:r.id)===x.id)?s.jsx("span",{className:"text-[#ff0000] font-medium",children:" Active"}):h.some(x=>i===x.id)?s.jsx("span",{className:"text-yellow-400",children:"Loading..."}):"API 4 Premium"}),h.length>0&&s.jsx("div",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium text-amber-400 bg-amber-500/20",children:"4K"}),h.some(x=>i===x.id)&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800/80 rounded-lg",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-[#ff0000] border-t-transparent"})})]})]}),c.length>0&&s.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:`relative rounded-lg p-4 border-2 transition-all duration-300 ${c.some(x=>(r==null?void 0:r.id)===x.id)?"border-[#ff0000] bg-[#ff0000]/10":"bg-gray-800 border-gray-700 hover:border-gray-600"}`,children:[c.some(x=>(r==null?void 0:r.id)===x.id)&&s.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-[#ff0000] rounded-full",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute top-0.5 left-0.5"})}),s.jsxs("div",{className:"flex flex-col items-center text-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-[#ff0000]/20 rounded-lg flex items-center justify-center mb-2",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsx("h3",{className:"text-white font-medium text-sm mb-1",children:"Rivestream"}),s.jsx("p",{className:"text-gray-400 text-xs mb-2",children:c.some(x=>(r==null?void 0:r.id)===x.id)?s.jsx("span",{className:"text-[#ff0000] font-medium",children:" Active"}):"Multiple servers"})]}),s.jsx("div",{className:"space-y-1",children:c.map(x=>{const f=i===x.id,p=(r==null?void 0:r.id)===x.id,w=x.id==="rivestream_server_2",j=x.id.split("_")[2];return s.jsxs("button",{onClick:()=>b(x),disabled:f,className:`w-full px-2 py-1 rounded text-xs font-medium transition-all duration-300 flex items-center justify-between ${p?"bg-[#ff0000] text-white":f?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsxs("span",{children:["Server ",j]}),w&&!p&&s.jsx("span",{className:"text-blue-400",children:""})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[f?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border border-white border-t-transparent"}):p?s.jsx(Ri,{className:"h-3 w-3"}):s.jsx("div",{className:`w-2 h-2 rounded-full ${hl(x.quality).includes("purple")?"bg-purple-400":hl(x.quality).includes("blue")?"bg-blue-400":"bg-green-400"}`}),s.jsx("span",{className:"text-xs",children:x.quality})]})]},x.id)})})]}),u.length>0&&s.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:`relative rounded-lg p-4 border-2 transition-all duration-300 ${u.some(x=>(r==null?void 0:r.id)===x.id)?"border-[#ff0000] bg-[#ff0000]/10":"bg-gray-800 border-gray-700 hover:border-gray-600"}`,children:[u.some(x=>(r==null?void 0:r.id)===x.id)&&s.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-[#ff0000] rounded-full",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute top-0.5 left-0.5"})}),s.jsxs("div",{className:"flex flex-col items-center text-center mb-3",children:[s.jsx("div",{className:"w-8 h-8 bg-orange-500/20 rounded-lg flex items-center justify-center mb-2",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsx("h3",{className:"text-white font-medium text-sm mb-1",children:"VidSrc"}),s.jsx("p",{className:"text-gray-400 text-xs mb-2",children:u.some(x=>(r==null?void 0:r.id)===x.id)?s.jsx("span",{className:"text-[#ff0000] font-medium",children:" Active"}):"4 API variants"})]}),s.jsx("div",{className:"space-y-1",children:u.map(x=>{const f=i===x.id,p=(r==null?void 0:r.id)===x.id,w=x.id.split("_")[2],j=k=>{switch(k){case"1":return"Multi Server";case"2":return"Multi Language";case"3":return"Multi Embeds";case"4":return"Premium";default:return`API ${k}`}};return s.jsxs("button",{onClick:()=>b(x),disabled:f,className:`w-full px-2 py-1 rounded text-xs font-medium transition-all duration-300 flex items-center justify-between ${p?"bg-[#ff0000] text-white":f?"bg-gray-600 text-gray-300 cursor-not-allowed":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsxs("span",{children:["API ",w]}),s.jsx("span",{className:"text-gray-400",children:""}),s.jsx("span",{className:"text-xs",children:j(w)})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[f?s.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border border-white border-t-transparent"}):p?s.jsx(Ri,{className:"h-3 w-3"}):s.jsx("div",{className:`w-2 h-2 rounded-full ${x.isAdFree?"bg-green-400":"bg-yellow-400"}`}),s.jsx("span",{className:"text-xs",children:x.quality})]})]},x.id)})})]}),m.length>0&&s.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},onClick:()=>m.length>0&&b(m[0]),className:`relative rounded-lg p-4 border-2 transition-all duration-300 cursor-pointer ${m.some(x=>(r==null?void 0:r.id)===x.id)?"border-[#ff0000] bg-[#ff0000]/10":"bg-gray-800 border-gray-700 hover:border-gray-600 hover:bg-gray-750"}`,children:[m.some(x=>(r==null?void 0:r.id)===x.id)&&s.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-[#ff0000] rounded-full",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute top-0.5 left-0.5"})}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-lg flex items-center justify-center mb-2",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsx("h3",{className:"text-white font-medium text-sm mb-1 leading-tight",children:"SmashyStream"}),s.jsx("p",{className:"text-gray-400 text-xs mb-2",children:m.some(x=>(r==null?void 0:r.id)===x.id)?s.jsx("span",{className:"text-[#ff0000] font-medium",children:" Active"}):m.some(x=>i===x.id)?s.jsx("span",{className:"text-yellow-400",children:"Loading..."}):"Click to switch"}),m.length>0&&s.jsx("div",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium text-blue-400 bg-blue-500/20",children:"FHD"}),m.some(x=>i===x.id)&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800/80 rounded-lg",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-[#ff0000] border-t-transparent"})})]})]}),v.length>0&&s.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},onClick:()=>v.length>0&&b(v[0]),className:`relative rounded-lg p-4 border-2 transition-all duration-300 cursor-pointer ${v.some(x=>(r==null?void 0:r.id)===x.id)?"border-[#ff0000] bg-[#ff0000]/10":"bg-gray-800 border-gray-700 hover:border-gray-600 hover:bg-gray-750"}`,children:[v.some(x=>(r==null?void 0:r.id)===x.id)&&s.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-[#ff0000] rounded-full",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute top-0.5 left-0.5"})}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-yellow-500/20 to-orange-500/20 rounded-lg flex items-center justify-center mb-2",children:s.jsx("span",{className:"text-lg",children:""})}),s.jsx("h3",{className:"text-white font-medium text-sm mb-1 leading-tight",children:"111movies"}),s.jsx("p",{className:"text-gray-400 text-xs mb-2",children:v.some(x=>(r==null?void 0:r.id)===x.id)?s.jsx("span",{className:"text-[#ff0000] font-medium",children:" Active"}):v.some(x=>i===x.id)?s.jsx("span",{className:"text-yellow-400",children:"Loading..."}):"Click to switch"}),v.length>0&&s.jsx("div",{className:"inline-flex items-center px-2 py-1 rounded text-xs font-medium text-orange-400 bg-orange-500/20",children:"HD"}),v.some(x=>i===x.id)&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800/80 rounded-lg",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-[#ff0000] border-t-transparent"})})]})]}),y.filter(x=>x.id!=="vidjoy_player"&&x.id!=="cinemaos_player").map((x,f)=>{const p=x.url==="",w=i===x.id,j=(r==null?void 0:r.id)===x.id,k=x.id==="beech_player",S=x.id==="vidfast_player";return s.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:(f+1)*.05},onClick:()=>!p&&!w&&b(x),className:`relative rounded-lg p-4 border-2 transition-all duration-300 cursor-pointer ${j?"border-[#ff0000] bg-[#ff0000]/10":p?"bg-gray-800/50 border-gray-700/50 opacity-60 cursor-not-allowed":"bg-gray-800 border-gray-700 hover:border-gray-600 hover:bg-gray-750"}`,children:[j&&s.jsx("div",{className:"absolute top-2 right-2 w-3 h-3 bg-[#ff0000] rounded-full",children:s.jsx("div",{className:"w-2 h-2 bg-white rounded-full absolute top-0.5 left-0.5"})}),s.jsxs("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center mb-2 ${k?"bg-green-500/20":S?"bg-cyan-500/20":"bg-gray-700"}`,children:s.jsx("span",{className:"text-lg",children:k?"":S?"":op(x.type)})}),s.jsx("h3",{className:"text-white font-medium text-sm mb-1 leading-tight",children:x.name}),s.jsx("p",{className:"text-gray-400 text-xs mb-2",children:j?s.jsx("span",{className:"text-[#ff0000] font-medium",children:" Active"}):w?s.jsx("span",{className:"text-yellow-400",children:"Loading..."}):p?"Coming Soon":"Click to switch"}),!p&&s.jsx("div",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${hl(x.quality)}`,children:x.quality}),w&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-800/80 rounded-lg",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-[#ff0000] border-t-transparent"})})]})]},x.id)})]}),s.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"bg-gray-800/50 rounded-lg p-6 border border-gray-700",children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center",children:[s.jsx($h,{className:"h-5 w-5 text-[#ff0000] mr-2"}),"Streaming Tips"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-300",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:" Vidjoy provides reliable FHD streaming"}),s.jsx("p",{children:" CinemaOS has built-in ad reduction features"}),s.jsx("p",{children:" RiveStream S2 offers dedicated Server 2 variant"}),s.jsx("p",{children:" VidSrc Premium delivers premium 4K quality"}),s.jsx("p",{children:" Rivestream servers offer multiple quality options"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:" VidSrc Premium uses advanced API 4 technology"}),s.jsx("p",{children:" RiveStream S2 provides premium ad-free experience"}),s.jsx("p",{children:" Rivestream has 3 server variants for reliability"}),s.jsx("p",{children:" Try different servers if one doesn't work"})]})]})]})]})},Y_=e=>{switch(e){case"4K":return"text-purple-400 bg-purple-500/20 border-purple-500/30";case"1080p":return"text-blue-400 bg-blue-500/20 border-blue-500/30";case"720p":return"text-green-400 bg-green-500/20 border-green-500/30";case"480p":return"text-yellow-400 bg-yellow-500/20 border-yellow-500/30";default:return"text-gray-400 bg-gray-500/20 border-gray-500/30"}},cp=e=>{switch(e){case"MP4":return"";case"MKV":return"";default:return""}},q_=(e,t)=>e==="completed"?"Completed":e==="paused"?"Paused":e==="error"?"Error":t>0?"Downloading...":"Waiting...",K_=(e,t)=>{let r=!1;return{updated:e.map(i=>{if(i.id===t&&i.status==="downloading"){const a=Math.min(i.progress+Math.random()*5,100),l=a>=100;return l&&(r=!0),{...i,progress:a,status:l?"completed":"downloading",timeRemaining:l?"0 min":`${Math.max(1,Math.floor((100-a)/2))} min`,speed:l?"0 MB/s":`${(Math.random()*3+2).toFixed(1)} MB/s`}}return i}),completed:r}},Q_=(e,t)=>e.find(r=>r.id===t),ir=e=>typeof e=="string"&&e.trim().length>0,Z_=e=>!(!e||typeof e!="object"||!ir(e.id)||!ir(e.format)||!ir(e.quality)||e.fileSize&&!ir(e.fileSize)||e.codec&&!ir(e.codec)||e.estimatedDownloadTime&&!ir(e.estimatedDownloadTime)),dp=e=>ir(e)?e:"30 min",X_=({options:e})=>{const[t,r]=g.useState([]),[n]=g.useState(null),i=u=>{const h={id:u.id,progress:0,speed:"5.2 MB/s",timeRemaining:dp(u.estimatedDownloadTime),status:"downloading"};r(m=>m.some(y=>y.id===u.id)?m:[...m,h]),d(u.id)},a=u=>{r(h=>h.map(m=>m.id===u?{...m,status:"paused"}:m))},l=u=>{r(h=>h.map(m=>m.id===u?{...m,status:"downloading"}:m)),d(u)},o=u=>{r(h=>h.map(m=>m.id===u.id?{...m,status:"downloading",speed:"0 MB/s",timeRemaining:dp(u.estimatedDownloadTime)}:m)),d(u.id)},c=u=>{if(!Z_(u)){alert("Invalid download option. Please try a different format.");return}try{const h=t.find(m=>m.id===u.id);h?h.status==="downloading"?a(u.id):h.status==="paused"?l(u.id):h.status==="error"&&o(u):i(u)}catch{r(m=>m.map(v=>v.id===u.id?{...v,status:"error",speed:"0 MB/s",timeRemaining:"Error"}:v)),alert("Failed to start download. Please try again.")}},d=u=>{if(!ir(u))return;const h=setInterval(()=>{try{r(m=>{const{updated:v,completed:y}=K_(m,u);return y&&clearInterval(h),v})}catch{clearInterval(h),r(v=>v.map(y=>y.id===u?{...y,status:"error",speed:"0 MB/s",timeRemaining:"Error"}:y)),alert("An error occurred while downloading. The download has been paused. Please retry.")}},1e3)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Rt,{className:"h-6 w-6 text-[#ff0000]"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Download Options"}),s.jsxs("span",{className:"px-2 py-1 bg-[#ff0000] text-white text-sm rounded-full",children:[e.length," Formats"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-400",children:[s.jsx(jN,{className:"h-4 w-4"}),s.jsx("span",{children:"Downloads saved to: Movies/CineFlix"})]})]}),t.length>0&&s.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800/50 rounded-lg p-6 border border-gray-700",children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center",children:[s.jsx(Rt,{className:"h-5 w-5 text-[#ff0000] mr-2"}),"Active Downloads (",t.length,")"]}),s.jsx("div",{className:"space-y-4",children:t.map(u=>{const h=e.find(m=>m.id===u.id);return h?s.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("span",{className:"text-2xl",children:cp(h.format)}),s.jsxs("div",{children:[s.jsxs("div",{className:"text-white font-medium",children:[h.quality," - ",h.format]}),s.jsxs("div",{className:"text-sm text-gray-400",children:[h.fileSize,"  ",h.codec]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:u.status==="completed"?s.jsx(Ri,{className:"h-6 w-6 text-green-400"}):u.status==="error"?s.jsx("button",{onClick:()=>c(h),className:"p-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors",children:s.jsx(Rt,{className:"h-4 w-4"})}):s.jsx("button",{onClick:()=>c(h),className:"p-2 bg-[#ff0000] text-white rounded-lg hover:bg-red-700 transition-colors",children:u.status==="downloading"?s.jsx($N,{className:"h-4 w-4"}):s.jsx(de,{className:"h-4 w-4"})})})]}),s.jsxs("div",{className:"mb-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-400",children:q_(u.status,u.progress)}),s.jsxs("span",{className:"text-white",children:[Math.round(u.progress),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:s.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${u.status==="completed"?"bg-green-400":u.status==="paused"?"bg-yellow-400":u.status==="error"?"bg-red-400":"bg-[#ff0000]"}`,style:{width:`${u.progress}%`}})})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400",children:[s.jsxs("span",{children:["Speed: ",u.speed]}),s.jsxs("span",{children:["Remaining: ",u.timeRemaining]})]})]},u.id):null})})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:e.map((u,h)=>{const m=Q_(t,u.id),v=(m==null?void 0:m.status)==="downloading",y=(m==null?void 0:m.status)==="completed",b=(m==null?void 0:m.status)==="paused",x=(m==null?void 0:m.status)==="error";return s.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1},className:`bg-gray-800 rounded-lg p-6 border-2 transition-all duration-300 hover:bg-gray-750 ${(n==null?void 0:n.id)===u.id?"border-[#ff0000] bg-[#ff0000]/5":"border-gray-700 hover:border-gray-600"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-12 h-12 bg-[#ff0000]/20 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-2xl",children:cp(u.format)})}),s.jsxs("div",{children:[s.jsx("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium border ${Y_(u.quality)}`,children:u.quality}),s.jsx("div",{className:"text-white font-semibold mt-1",children:u.format})]})]}),y&&s.jsx(Ri,{className:"h-8 w-8 text-green-400"})]}),s.jsxs("div",{className:"space-y-3 mb-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"File Size"}),s.jsx("div",{className:"text-white font-medium",children:u.fileSize})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400",children:"Codec"}),s.jsx("div",{className:"text-white font-medium",children:u.codec})]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(yt,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-gray-400",children:"Estimated time:"}),s.jsx("span",{className:"text-white",children:u.estimatedDownloadTime})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsx(ON,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-gray-400",children:"Direct download"}),s.jsx("span",{className:"px-2 py-1 bg-green-500/20 text-green-400 text-xs rounded-full",children:"Fast"})]})]}),u.subtitles&&u.subtitles.length>0&&s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(Uy,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-gray-400 text-sm",children:"Subtitles included:"})]}),s.jsx("div",{className:"flex flex-wrap gap-1",children:u.subtitles.map(f=>s.jsxs("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded",children:[f.language," (",f.format,")"]},f.language))})]}),s.jsxs("div",{className:"bg-gray-700/30 rounded-lg p-3 mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx(pN,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-gray-400 text-sm",children:"Technical Details"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Format:"}),s.jsx("span",{className:"text-gray-300 ml-1",children:u.format})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Codec:"}),s.jsx("span",{className:"text-gray-300 ml-1",children:u.codec})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Resolution:"}),s.jsx("span",{className:"text-gray-300 ml-1",children:u.quality})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500",children:"Size:"}),s.jsx("span",{className:"text-gray-300 ml-1",children:u.fileSize})]})]})]}),s.jsx(re.button,{onClick:()=>c(u),disabled:v,className:`w-full py-3 px-4 rounded-lg font-semibold transition-all duration-300 flex items-center justify-center space-x-2 ${y?"bg-green-600 text-white hover:bg-green-700":b?"bg-yellow-600 text-white hover:bg-yellow-700":v?"bg-gray-600 text-gray-300 cursor-not-allowed":x?"bg-yellow-600 text-white hover:bg-yellow-700":"bg-[#ff0000] text-white hover:bg-red-700"}`,whileHover:v?{}:{scale:1.02},whileTap:v?{}:{scale:.98},children:y?s.jsxs(s.Fragment,{children:[s.jsx(Ri,{className:"h-5 w-5"}),s.jsx("span",{children:"Downloaded"})]}):b?s.jsxs(s.Fragment,{children:[s.jsx(de,{className:"h-5 w-5"}),s.jsx("span",{children:"Resume Download"})]}):v?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}),s.jsx("span",{children:"Downloading..."})]}):x?s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"h-5 w-5"}),s.jsx("span",{children:"Retry Download"})]}):s.jsxs(s.Fragment,{children:[s.jsx(Rt,{className:"h-5 w-5"}),s.jsx("span",{children:"Download"})]})}),m&&m.status!=="completed"&&s.jsxs("div",{className:"mt-3 text-xs text-gray-400 text-center",children:[m.progress>0&&s.jsxs("span",{children:[Math.round(m.progress),"%  ",m.speed]}),m.status==="error"&&s.jsx("div",{className:"text-red-400 mt-1",children:"Download failed. Click Retry to attempt again."})]})]},u.id)})}),s.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"bg-gray-800/50 rounded-lg p-6 border border-gray-700",children:[s.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center",children:[s.jsx($n,{className:"h-5 w-5 text-[#ff0000] mr-2"}),"Download Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-300",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:" Downloads are saved to your default download folder"}),s.jsx("p",{children:" Higher quality files require more storage space"}),s.jsx("p",{children:" H.265 codec provides better compression than H.264"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{children:" MKV format supports multiple audio tracks and subtitles"}),s.jsx("p",{children:" MP4 format has wider device compatibility"}),s.jsx("p",{children:" Resume interrupted downloads at any time"})]})]})]})]})};function J_(e){if(!e||typeof e!="object")throw new Error("Invalid torrent source: not an object");const t=(x,f=!1)=>{const p=e[x];if(p==null)throw new Error(`Missing required field: ${x}`);if(typeof p!="string")throw new Error(`Invalid type for field ${x}: expected string`);if(!f&&p.trim()==="")throw new Error(`Empty value for required field: ${x}`);return p},r=x=>{const f=e[x];if(f==null)throw new Error(`Missing required field: ${x}`);if(typeof f!="number"||Number.isNaN(f))throw new Error(`Invalid type for field ${x}: expected number`);return f},n=t("id"),i=t("name"),a=t("magnetLink"),l=t("fileSize",!0),o=t("uploadDate"),c=t("quality"),d=t("health"),u=r("seeders"),h=r("leechers"),m=!!e.isTrusted,v=e.torrentFileUrl!==void 0&&e.torrentFileUrl!==null?String(e.torrentFileUrl):void 0,y=e.releaseGroup!==void 0&&e.releaseGroup!==null?String(e.releaseGroup):void 0,b=e.uploadedBy!==void 0&&e.uploadedBy!==null?String(e.uploadedBy):void 0;return{id:n,name:i,magnetLink:a,fileSize:l,uploadDate:o,quality:c,health:d,seeders:u,leechers:h,isTrusted:m,torrentFileUrl:v,releaseGroup:y,uploadedBy:b}}function e8(e){return J_(e)}function t8(e){if(!Array.isArray(e))throw new Error("Sources must be an array");const t=[];for(const r of e)try{t.push(e8(r))}catch(n){console.error("Skipping malformed torrent source:",n)}return t}function s8(e){switch(e){case"BluRay":return"text-purple-400 bg-purple-500/20 border-purple-500/30";case"WEBRip":return"text-blue-400 bg-blue-500/20 border-blue-500/30";case"HDRip":return"text-green-400 bg-green-500/20 border-green-500/30";case"TS":return"text-yellow-400 bg-yellow-500/20 border-yellow-500/30";case"CAM":return"text-red-400 bg-red-500/20 border-red-500/30";default:return"text-gray-400 bg-gray-500/20 border-gray-500/30"}}function up(e){switch(e){case"Excellent":return"text-green-400";case"Good":return"text-blue-400";case"Fair":return"text-yellow-400";case"Poor":return"text-red-400";default:return"text-gray-400"}}function r8(e){switch(e){case"Excellent":return s.jsx(pi,{className:"h-4 w-4 text-green-400"});case"Good":return s.jsx(pi,{className:"h-4 w-4 text-blue-400"});case"Fair":return s.jsx(pi,{className:"h-4 w-4 text-yellow-400"});case"Poor":return s.jsx(pi,{className:"h-4 w-4 text-red-400"});default:return s.jsx(pi,{className:"h-4 w-4 text-gray-400"})}}function n8(e,t){const r=e+t;return r>0?(e/r*100).toFixed(1):"0"}function i8(e,t,r){if(!e||!t)return 0;switch(r){case"seeders":return t.seeders-e.seeders;case"size":return parseFloat(t.fileSize)-parseFloat(e.fileSize);case"date":return new Date(t.uploadDate).getTime()-new Date(e.uploadDate).getTime();case"quality":const n={BluRay:5,WEBRip:4,HDRip:3,TS:2,CAM:1};return(n[t.quality]||0)-(n[e.quality]||0);default:return 0}}const a8=({sources:e})=>{const[t,r]=g.useState("seeders");let n=[];try{n=t8(e)}catch(c){console.error("Invalid sources provided to TorrentSources component:",c),n=[]}const i=c=>{if(!c||typeof c!="string"){console.error("Invalid magnet link:",c);return}window.location.href=c},a=c=>{if(!c||typeof c!="string"){console.error("Invalid torrent file URL:",c);return}const d=document.createElement("a");d.href=c,d.download="movie.torrent",document.body.appendChild(d),d.click(),document.body.removeChild(d)},l=async c=>{if(!c||typeof c!="string"){console.error("Invalid magnet link to copy:",c);return}try{if(navigator&&navigator.clipboard&&typeof navigator.clipboard.writeText=="function")await navigator.clipboard.writeText(c),console.log("Magnet link copied to clipboard");else{const d=document.createElement("textarea");d.value=c,document.body.appendChild(d),d.select(),document.execCommand("copy"),document.body.removeChild(d),console.log("Magnet link copied to clipboard (fallback)")}}catch(d){console.error("Failed to copy magnet link:",d)}},o=[...n].sort((c,d)=>i8(c,d,t));return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Ct,{className:"h-6 w-6 text-[#ff0000]"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:"Torrent Sources"}),s.jsxs("span",{className:"px-2 py-1 bg-[#ff0000] text-white text-sm rounded-full",children:[n.length," Available"]})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("select",{value:t,onChange:c=>r(c.target.value),className:"bg-gray-800 text-white px-3 py-2 rounded-lg border border-gray-600 focus:border-[#ff0000] focus:outline-none",children:[s.jsx("option",{value:"seeders",children:"Sort by Seeders"}),s.jsx("option",{value:"size",children:"Sort by Size"}),s.jsx("option",{value:"date",children:"Sort by Date"}),s.jsx("option",{value:"quality",children:"Sort by Quality"})]})})]}),s.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-yellow-900/20 border border-yellow-500/30 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(BN,{className:"h-6 w-6 text-yellow-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-yellow-400 font-semibold mb-1",children:"Privacy Recommendation"}),s.jsx("p",{className:"text-yellow-200 text-sm",children:"For your privacy and security, we recommend using a VPN when downloading torrents. This helps protect your identity and ensures safe torrenting."})]})]})}),s.jsx("div",{className:"space-y-4",children:o.map((c,d)=>s.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},className:"bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-gray-600 transition-all duration-300",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-center",children:[s.jsx("div",{className:"lg:col-span-5",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"w-12 h-12 bg-[#ff0000]/20 rounded-lg flex items-center justify-center flex-shrink-0",children:s.jsx(Rt,{className:"h-6 w-6 text-[#ff0000]"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h3",{className:"text-white font-semibold text-lg truncate",children:c.name}),c.isTrusted&&s.jsx(mN,{className:"h-5 w-5 text-green-400 flex-shrink-0"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium border ${s8(c.quality)}`,children:c.quality}),s.jsx("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 rounded-full text-xs",children:c.fileSize}),c.releaseGroup&&s.jsx("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-400 rounded-full text-xs",children:c.releaseGroup})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[c.uploadedBy&&s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(Mt,{className:"h-4 w-4"}),s.jsx("span",{children:c.uploadedBy})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(gt,{className:"h-4 w-4"}),s.jsx("span",{children:new Date(c.uploadDate).toLocaleDateString()})]})]})]})]})}),s.jsxs("div",{className:"lg:col-span-3",children:[s.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-green-400 font-semibold text-lg",children:c.seeders}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Seeders"})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-red-400 font-semibold text-lg",children:c.leechers}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Leechers"})]}),s.jsxs("div",{children:[s.jsxs("div",{className:`font-semibold text-lg ${up(c.health)}`,children:[n8(c.seeders,c.leechers),"%"]}),s.jsx("div",{className:"text-gray-400 text-sm",children:"Ratio"})]})]}),s.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-3",children:[r8(c.health),s.jsx("span",{className:`text-sm font-medium ${up(c.health)}`,children:c.health})]})]}),s.jsx("div",{className:"lg:col-span-4",children:s.jsxs("div",{className:"flex flex-col space-y-2",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(re.button,{onClick:()=>i(c.magnetLink),className:"flex items-center justify-center space-x-2 px-4 py-2 bg-[#ff0000] text-white rounded-lg hover:bg-red-700 transition-colors font-medium",whileHover:{scale:1.02},whileTap:{scale:.98},children:[s.jsx(Hy,{className:"h-4 w-4"}),s.jsx("span",{children:"Magnet"})]}),c.torrentFileUrl&&s.jsxs(re.button,{onClick:()=>a(c.torrentFileUrl),className:"flex items-center justify-center space-x-2 px-4 py-2 bg-gray-700 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium",whileHover:{scale:1.02},whileTap:{scale:.98},children:[s.jsx(vN,{className:"h-4 w-4"}),s.jsx("span",{children:"File"})]})]}),s.jsx("button",{onClick:()=>l(c.magnetLink),className:"w-full px-4 py-2 bg-gray-800 text-gray-300 rounded-lg hover:bg-gray-700 transition-colors text-sm",children:"Copy Magnet Link"})]})})]})},c.id))}),s.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"bg-gray-800/50 rounded-lg p-6 border border-gray-700",children:[s.jsxs("h3",{className:"text-white font-semibold mb-4 flex items-center",children:[s.jsx($h,{className:"h-5 w-5 text-[#ff0000] mr-2"}),"Torrent Guide & Safety Tips"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"How to Use Torrents"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[s.jsx("p",{children:" Install a torrent client (qBittorrent, Transmission, etc.)"}),s.jsx("p",{children:' Click "Magnet" to open directly in your torrent client'}),s.jsx("p",{children:" Or download the .torrent file and open it manually"}),s.jsx("p",{children:" Choose download location and start downloading"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Quality Guide"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[s.jsxs("p",{children:[" ",s.jsx("span",{className:"text-purple-400",children:"BluRay"}),": Best quality, largest file size"]}),s.jsxs("p",{children:[" ",s.jsx("span",{className:"text-blue-400",children:"WEBRip"}),": Good quality, moderate size"]}),s.jsxs("p",{children:[" ",s.jsx("span",{className:"text-green-400",children:"HDRip"}),": Decent quality, smaller size"]}),s.jsxs("p",{children:[" ",s.jsx("span",{className:"text-yellow-400",children:"TS/CAM"}),": Lower quality, avoid if possible"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Health Indicators"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[s.jsxs("p",{children:[" ",s.jsx("span",{className:"text-green-400",children:"Excellent"}),": High seeders, fast download"]}),s.jsxs("p",{children:[" ",s.jsx("span",{className:"text-blue-400",children:"Good"}),": Moderate seeders, reliable"]}),s.jsxs("p",{children:[" ",s.jsx("span",{className:"text-yellow-400",children:"Fair"}),": Low seeders, slower download"]}),s.jsxs("p",{children:[" ",s.jsx("span",{className:"text-red-400",children:"Poor"}),": Very few seeders, may stall"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"text-white font-medium mb-2",children:"Safety Tips"}),s.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[s.jsx("p",{children:" Always use a VPN for privacy protection"}),s.jsx("p",{children:" Choose torrents from trusted uploaders"}),s.jsx("p",{children:" Scan downloaded files with antivirus"}),s.jsx("p",{children:" Seed after downloading to support the community"})]})]})]}),s.jsx("div",{className:"mt-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(oN,{className:"h-5 w-5 text-red-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"text-red-400 font-medium mb-1",children:"Legal Disclaimer"}),s.jsx("p",{className:"text-red-300",children:"Torrenting copyrighted content may be illegal in your jurisdiction. Use these sources responsibly and in accordance with your local laws."})]})]})})]})]})},l8=({content:e,type:t})=>{var o,c,d;const r=t==="movie"?e:null,n=t==="tv"?e:null,i=u=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(u),a=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),l=u=>u>=8?"text-green-400":u>=6?"text-yellow-400":"text-red-400";return s.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gray-800 rounded-lg p-6 border border-gray-700",children:[s.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[s.jsx(Yr,{className:"h-6 w-6 text-[#ff0000] mr-2"}),"Details"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(gt,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:t==="movie"?"Release Date":"First Air Date"}),s.jsx("div",{className:"text-white font-medium",children:a((r==null?void 0:r.release_date)||(n==null?void 0:n.first_air_date)||"")}),s.jsx("div",{className:"text-gray-500 text-sm",children:new Date((r==null?void 0:r.release_date)||(n==null?void 0:n.first_air_date)||"").getFullYear()})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(yt,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:t==="movie"?"Runtime":"Episode Runtime"}),s.jsx("div",{className:"text-white font-medium",children:t==="movie"?`${(r==null?void 0:r.runtime)||0} minutes`:`${((o=n==null?void 0:n.episode_run_time)==null?void 0:o[0])||0} minutes`}),t==="movie"&&(r==null?void 0:r.runtime)&&s.jsxs("div",{className:"text-gray-500 text-sm",children:[Math.floor(r.runtime/60),"h ",r.runtime%60,"m"]})]})]}),t==="tv"&&n&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Yr,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Seasons"}),s.jsxs("div",{className:"text-white font-medium",children:[n.number_of_seasons||0," seasons"]}),s.jsxs("div",{className:"text-gray-500 text-sm",children:[n.number_of_episodes||0," episodes total"]})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(gt,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Status"}),s.jsx("div",{className:"text-white font-medium",children:n.status||"Unknown"}),n.status==="Ended"&&s.jsx("div",{className:"text-gray-500 text-sm",children:"Series completed"})]})]})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Uy,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Original Language"}),s.jsx("div",{className:"text-white font-medium",children:((d=(c=e.spoken_languages)==null?void 0:c[0])==null?void 0:d.english_name)||"English"}),e.spoken_languages&&e.spoken_languages.length>1&&s.jsxs("div",{className:"text-gray-500 text-sm",children:["+",e.spoken_languages.length-1," more languages"]})]})]}),e.spoken_languages&&e.spoken_languages.length>0&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(qt,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Spoken Languages"}),s.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[e.spoken_languages.slice(0,3).map(u=>s.jsx("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded",children:u.english_name},u.iso_639_1)),e.spoken_languages.length>3&&s.jsxs("span",{className:"px-2 py-1 bg-gray-700 text-gray-300 text-xs rounded",children:["+",e.spoken_languages.length-3," more"]})]})]})]}),t==="movie"&&r&&s.jsxs(s.Fragment,{children:[r.budget&&r.budget>0&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(zy,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Budget"}),s.jsx("div",{className:"text-white font-medium",children:i(r.budget)})]})]}),r.revenue&&r.revenue>0&&s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(Yr,{className:"h-5 w-5 text-gray-400 mt-0.5"}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-400 text-sm",children:"Box Office"}),s.jsx("div",{className:"text-white font-medium",children:i(r.revenue)}),r.budget&&r.budget>0&&s.jsxs("div",{className:"text-gray-500 text-sm",children:[(r.revenue/r.budget*100).toFixed(0),"% return"]})]})]})]}),s.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[s.jsx("h4",{className:"text-white font-semibold mb-3",children:"Ratings"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-[#01b4e4] rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"DB"})}),s.jsx("span",{className:"text-gray-300",children:"TMDB"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"flex items-center",children:[...Array(5)].map((u,h)=>s.jsx(ne,{className:`h-4 w-4 ${h<Math.floor(e.vote_average/2)?"text-yellow-400 fill-current":"text-gray-600"}`},h))}),s.jsx("span",{className:`font-semibold ${l(e.vote_average)}`,children:e.vote_average.toFixed(1)})]})]}),t==="movie"&&(r==null?void 0:r.imdb_id)&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-[#f5c518] rounded flex items-center justify-center",children:s.jsx("span",{className:"text-black text-xs font-bold",children:"IMDb"})}),s.jsx("span",{className:"text-gray-300",children:"IMDb"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-yellow-400 font-semibold",children:(e.vote_average*.9+Math.random()*.2).toFixed(1)}),s.jsx("span",{className:"text-gray-500",children:"/10"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-8 h-8 bg-[#ff0000] rounded flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"RT"})}),s.jsx("span",{className:"text-gray-300",children:"Rotten Tomatoes"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-red-400 font-semibold",children:[Math.floor(e.vote_average*10+Math.random()*10),"%"]}),s.jsx("span",{className:"text-gray-500",children:""})]})]})]})]}),(e.homepage||t==="movie"&&(r==null?void 0:r.imdb_id))&&s.jsxs("div",{className:"border-t border-gray-700 pt-4",children:[s.jsxs("h4",{className:"text-white font-semibold mb-3 flex items-center",children:[s.jsx(lu,{className:"h-4 w-4 mr-2"}),"External Links"]}),s.jsxs("div",{className:"space-y-2",children:[e.homepage&&s.jsx("a",{href:e.homepage,target:"_blank",rel:"noopener noreferrer",className:"block px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(qt,{className:"h-4 w-4 text-gray-400"}),s.jsx("span",{className:"text-white text-sm",children:"Official Website"})]})}),t==="movie"&&(r==null?void 0:r.imdb_id)&&s.jsx("a",{href:`https://www.imdb.com/title/${r==null?void 0:r.imdb_id}`,target:"_blank",rel:"noopener noreferrer",className:"block px-3 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 bg-[#f5c518] rounded flex items-center justify-center",children:s.jsx("span",{className:"text-black text-xs font-bold",children:"i"})}),s.jsx("span",{className:"text-white text-sm",children:"View on IMDb"})]})})]})]}),s.jsx("div",{className:"text-center pt-4 border-t border-gray-700",children:s.jsxs("span",{className:"text-gray-400 text-sm",children:["Based on ",e.vote_count.toLocaleString()," votes"]})})]})]})},o8=({tvShow:e,onSeasonEpisodeChange:t})=>{var b;const[r,n]=g.useState([]),[i,a]=g.useState(null),[l,o]=g.useState(null),[c,d]=g.useState(!1),[u,h]=g.useState(new Set);g.useEffect(()=>{(async()=>{try{d(!0);const f=await Jh(e.id);if(n(f||[]),f&&f.length>0){const p=f.find(w=>w.season_number>=0)||f[0];await m(p)}}catch(f){console.error("Error fetching seasons:",f)}finally{d(!1)}})()},[e.id]);const m=async x=>{try{d(!0),a(x);const f=await xo(e.id,x.season_number);o(f),t&&t(x.season_number,1)}catch(f){console.error("Error fetching season details:",f)}finally{d(!1)}},v=x=>{h(f=>{const p=new Set(f);return p.has(x)?p.delete(x):p.add(x),p})},y=x=>{t&&i&&t(i.season_number,x)};return s.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-800 px-4 py-3 border-b border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("h2",{className:"text-white font-semibold text-lg flex items-center",children:[s.jsx(Ce,{className:"h-5 w-5 text-[#ff0000] mr-2"}),"Seasons & Episodes"]}),i&&s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsxs("span",{className:"text-gray-400",children:["Season ",i.season_number]}),s.jsx("span",{className:"text-gray-500",children:""}),s.jsxs("span",{className:"text-gray-400",children:[((b=l==null?void 0:l.episodes)==null?void 0:b.length)||0," episodes"]})]})]})}),s.jsxs("div",{className:"p-4 max-h-[600px] overflow-y-auto",children:[r.length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-white font-medium mb-3",children:"Select Season"}),s.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",children:r.filter(x=>x.season_number>=0).map(x=>s.jsx("button",{onClick:()=>m(x),className:`flex-shrink-0 group relative overflow-hidden rounded-lg transition-all duration-300 ${(i==null?void 0:i.id)===x.id?"ring-2 ring-[#ff0000] scale-105":"hover:scale-105 hover:ring-1 hover:ring-white/30"}`,children:s.jsxs("div",{className:"w-20 h-28 relative",children:[x.poster_path?s.jsx("img",{src:be(x.poster_path,"w300"),alt:x.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:s.jsx(Ce,{className:"w-6 h-6 text-gray-400"})}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"}),s.jsxs("div",{className:"absolute bottom-1 left-1 right-1",children:[s.jsxs("p",{className:"text-white text-xs font-semibold text-center truncate",children:["Season ",x.season_number]}),s.jsxs("p",{className:"text-gray-300 text-xs text-center",children:[x.episode_count," ep"]})]}),(i==null?void 0:i.id)===x.id&&s.jsx("div",{className:"absolute top-1 right-1 w-4 h-4 bg-[#ff0000] rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})},x.id))})]}),c?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-[#ff0000] border-t-transparent mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"Loading episodes..."})]})}):l!=null&&l.episodes?s.jsxs("div",{className:"space-y-3",children:[s.jsx("h3",{className:"text-white font-medium",children:"Episodes"}),s.jsx("div",{className:"space-y-2 max-h-[400px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",children:l.episodes.map(x=>{const f=`${i.season_number}-${x.episode_number}`,p=u.has(f);return s.jsx("div",{className:`bg-gradient-to-r from-gray-800/50 to-gray-900/30 rounded-lg border transition-all duration-300 ${p?"border-green-500/30 bg-green-500/5":"border-gray-700/30 hover:border-[#ff0000]/30"}`,children:s.jsx("div",{className:"p-3",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"flex-shrink-0 relative group cursor-pointer",onClick:()=>y(x.episode_number),children:s.jsxs("div",{className:"w-20 h-12 rounded-md overflow-hidden bg-gray-700",children:[x.still_path?s.jsx("img",{src:`https://image.tmdb.org/t/p/w300${x.still_path}`,alt:x.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(Ce,{className:"w-4 h-4 text-gray-400"})}),s.jsx("div",{className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsx("div",{className:"w-6 h-6 bg-[#ff0000] rounded-full flex items-center justify-center",children:s.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})})})})]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsxs("span",{className:"bg-[#ff0000]/20 text-[#ff0000] px-2 py-0.5 rounded-full text-xs font-bold",children:["E",x.episode_number]}),p&&s.jsxs("span",{className:"bg-green-500/20 text-green-400 px-2 py-0.5 rounded-full text-xs font-semibold flex items-center gap-1",children:[s.jsx("svg",{className:"w-2 h-2",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Watched"]})]}),s.jsx("h4",{className:"text-white font-medium text-sm mb-1 leading-tight",children:x.name}),s.jsx("p",{className:"text-gray-400 text-xs line-clamp-2 leading-relaxed",children:x.overview||"No description available."}),s.jsxs("div",{className:"flex items-center gap-3 mt-2 text-xs text-gray-500",children:[x.air_date&&s.jsx("span",{children:new Date(x.air_date).toLocaleDateString()}),x.vote_average>0&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3 text-yellow-400 fill-current",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})}),x.vote_average.toFixed(1)]})]})]}),s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsx("button",{onClick:()=>y(x.episode_number),className:"p-2 rounded-full bg-[#ff0000]/20 text-[#ff0000] hover:bg-[#ff0000]/30 transition-all duration-300",title:"Play episode",children:s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{d:"M8 5v14l11-7z"})})}),s.jsx("button",{onClick:()=>v(f),className:`p-2 rounded-full transition-all duration-300 ${p?"bg-green-500/20 text-green-400 hover:bg-green-500/30":"bg-gray-700/50 text-gray-400 hover:bg-gray-600/50 hover:text-white"}`,title:p?"Mark as unwatched":"Mark as watched",children:s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]})]})})},x.id)})})]}):s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ce,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-400",children:"No episodes available"}),s.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Select a season to view episodes"})]})]})]})},c8=({content:e,title:t,type:r})=>{const n=Cs(),{isInList:i,toggleInList:a,removeByContentId:l}=tc(),[o,c]=g.useState(0),[d,u]=g.useState(null),h=6,m=Math.ceil(e.length/h),v=()=>{c(p=>(p+1)%m)},y=()=>{c(p=>(p-1+m)%m)},b=p=>{const w="title"in p?"movie":"tv";n(`/watch/${w}/${p.id}`)},x=(p,w)=>{w.stopPropagation();const j="title"in p?"movie":"tv";i(p.id,j)?l(p.id,j):a(p,j)},f=e.slice(o*h,(o+1)*h);return e.length===0?null:s.jsx("section",{className:"py-16 bg-gray-900",children:s.jsxs("div",{className:"max-w-8xl mx-auto px-6 sm:px-8 lg:px-12",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8",children:[s.jsxs("h2",{className:"text-3xl font-bold text-white flex items-center",children:[s.jsx(Vh,{className:"h-8 w-8 text-[#ff0000] mr-3"}),t]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:y,disabled:o===0,className:"p-2 bg-gray-800 text-white rounded-full hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx(ks,{className:"h-5 w-5"})}),s.jsxs("span",{className:"text-gray-400 text-sm",children:[o+1," / ",m]}),s.jsx("button",{onClick:v,disabled:o===m-1,className:"p-2 bg-gray-800 text-white rounded-full hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:s.jsx(Ks,{className:"h-5 w-5"})})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6",children:f.map((p,w)=>{const j="title"in p?p.title:p.name,k="release_date"in p?p.release_date:p.first_air_date,S="title"in p?"movie":"tv",C=d===w;return s.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.1},className:"relative group cursor-pointer",onMouseEnter:()=>u(w),onMouseLeave:()=>u(null),onClick:()=>b(p),children:[s.jsxs("div",{className:"relative overflow-hidden rounded-lg bg-gray-800",children:[s.jsx("img",{src:be(p.poster_path,"w342"),alt:j,className:"w-full aspect-[2/3] object-cover transition-transform duration-300 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/60 transition-all duration-300",children:s.jsx("div",{className:`absolute inset-0 flex items-center justify-center transition-all duration-300 ${C?"opacity-100":"opacity-0"}`,children:s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(re.button,{onClick:T=>{T.stopPropagation(),b(p)},className:"p-3 bg-[#ff0000] text-white rounded-full hover:bg-red-700 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.95},children:s.jsx(de,{className:"h-5 w-5"})}),s.jsx(re.button,{onClick:T=>x(p,T),className:"p-3 bg-gray-800 text-white rounded-full hover:bg-gray-700 transition-colors",whileHover:{scale:1.1},whileTap:{scale:.95},children:i(p.id,S)?s.jsx(rt,{className:"h-5 w-5 text-[#ff0000] fill-current"}):s.jsx(rt,{className:"h-5 w-5"})})]})})}),s.jsxs("div",{className:"absolute top-2 right-2 bg-black/80 text-white px-2 py-1 rounded-lg text-sm flex items-center space-x-1",children:[s.jsx(ne,{className:"h-3 w-3 text-yellow-400 fill-current"}),s.jsx("span",{children:p.vote_average.toFixed(1)})]}),s.jsx("div",{className:"absolute top-2 left-2 bg-[#ff0000] text-white px-2 py-1 rounded text-xs font-semibold uppercase",children:S})]}),s.jsxs("div",{className:"mt-3 space-y-1",children:[s.jsx("h3",{className:"text-white font-semibold text-sm line-clamp-2 group-hover:text-[#ff0000] transition-colors",children:j}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-400",children:[s.jsx("span",{children:k?new Date(k).getFullYear():"N/A"}),s.jsx("span",{children:""}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ne,{className:"h-3 w-3 text-yellow-400 fill-current"}),s.jsx("span",{children:p.vote_average.toFixed(1)})]})]}),p.genre_ids&&p.genre_ids.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:p.genre_ids.slice(0,2).map(T=>s.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-700 text-gray-300 text-xs rounded",children:["Genre ",T]},T))})]}),C&&s.jsxs(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-full left-0 right-0 mt-2 p-4 bg-gray-800 border border-gray-700 rounded-lg shadow-xl z-10",children:[s.jsx("h4",{className:"text-white font-semibold mb-2",children:j}),s.jsx("p",{className:"text-gray-300 text-sm line-clamp-3 mb-3",children:p.overview}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(ne,{className:"h-4 w-4 text-yellow-400 fill-current"}),s.jsx("span",{className:"text-white",children:p.vote_average.toFixed(1)})]}),s.jsxs("span",{className:"text-gray-400",children:["(",p.vote_count," votes)"]})]}),s.jsx("div",{className:"text-gray-400 text-sm",children:k?new Date(k).getFullYear():"N/A"})]}),s.jsxs("div",{className:"flex space-x-2 mt-3",children:[s.jsx("button",{onClick:T=>{T.stopPropagation(),b(p)},className:"flex-1 py-2 bg-[#ff0000] text-white rounded text-sm font-medium hover:bg-red-700 transition-colors",children:"Watch Now"}),s.jsx("button",{onClick:T=>x(p,T),className:"px-3 py-2 bg-gray-700 text-white rounded hover:bg-gray-600 transition-colors",children:i(p.id,S)?s.jsx(rt,{className:"h-4 w-4 text-[#ff0000] fill-current"}):s.jsx(rt,{className:"h-4 w-4"})})]})]})]},p.id)})}),s.jsx("div",{className:"flex justify-center mt-8 space-x-2",children:Array.from({length:m}).map((p,w)=>s.jsx("button",{onClick:()=>c(w),className:`w-2 h-2 rounded-full transition-colors ${w===o?"bg-[#ff0000]":"bg-gray-600"}`},w))}),e.length>h&&s.jsx("div",{className:"text-center mt-8",children:s.jsx("button",{onClick:()=>n(`/search?type=${r}&similar=true`),className:"px-6 py-3 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors font-medium",children:"View All Similar Content"})})]})})},hp=({type:e})=>{var _e;const{id:t}=Ih(),r=Cs(),{isInList:n,addToList:i,removeFromList:a}=tc(),[l,o]=g.useState(null),[c,d]=g.useState([]),[u,h]=g.useState(!0),[m,v]=g.useState(null),[y,b]=g.useState(null),[x,f]=g.useState("stream"),[p,w]=g.useState(!1),[j,k]=g.useState(null),[S,C]=g.useState([]),[T,L]=g.useState([]),[A,K]=g.useState([]),[Y,Z]=g.useState(!1),[te,G]=g.useState(null),[q,E]=g.useState(1),[_,D]=g.useState(1),z=async pe=>{if(pe)try{Z(!0),G(null);const le={contentType:e,tmdbId:pe,...e==="tv"&&{season:q,episode:_}},{streamSources:ye,downloadOptions:Ne,torrentSources:Ie}=await I_.getAllContentData(le);let oe=[];try{e==="movie"?oe=sr.generateMovieSources(pe).map(Q=>({id:Q.id,name:Q.name,url:Q.url,type:Q.type,quality:Q.quality,fileSize:Q.fileSize,reliability:Q.reliability,isAdFree:Q.isAdFree,language:Q.language,subtitles:sr.getSupportedSubtitleLanguages()})):e==="tv"&&(oe=sr.generateTVSource(pe,q,_).map(Q=>({id:Q.id,name:Q.name,url:Q.url,type:Q.type,quality:Q.quality,fileSize:Q.fileSize,reliability:Q.reliability,isAdFree:Q.isAdFree,language:Q.language,subtitles:sr.getSupportedSubtitleLanguages()})))}catch(Q){console.warn("SmashyStream sources unavailable:",Q)}let vt=[];try{e==="movie"?vt=Ms.generateMovieSources(pe).map(Q=>({id:Q.id,name:Q.name,url:Q.url,type:Q.type,quality:Q.quality,fileSize:Q.fileSize,reliability:Q.reliability,isAdFree:Q.isAdFree,language:Q.language,subtitles:Ms.getSupportedSubtitleLanguages()})):e==="tv"&&(vt=Ms.generateTVSource(pe,q,_).map(Q=>({id:Q.id,name:Q.name,url:Q.url,type:Q.type,quality:Q.quality,fileSize:Q.fileSize,reliability:Q.reliability,isAdFree:Q.isAdFree,language:Q.language,subtitles:Ms.getSupportedSubtitleLanguages()})))}catch(Q){console.warn("111movies sources unavailable:",Q)}const Fe=[...ye,...oe,...vt];if(Fe.length===0&&Ne.length===0&&Ie.length===0)throw new Error("No streaming sources available for this content");if(C(Fe),L(Ne),K(Ie),Fe.length>0){const Q=Fe.find(qe=>qe.id==="vidjoy_player")||Fe.find(qe=>qe.id==="rivestream_server_2")||Fe.find(qe=>qe.reliability==="Premium")||Fe[0];k(Q)}else k(null)}catch(le){console.error("Error fetching streaming sources:",le),G(le instanceof Error?le.message:"Failed to load streaming sources");const ye=[{id:"vidjoy_player",name:"Vidjoy",url:`https://vidjoy.pro/embed/${e}/${pe}${e==="tv"?`/${q}/${_}`:""}`,type:"hls",quality:"FHD",fileSize:"Auto",reliability:"Premium",isAdFree:!0,language:"English",subtitles:["English"]},{id:"rivestream_server_2",name:"Rivestream Server 2",url:`https://rivestream.org/embed/agg?type=${e}&id=${pe}${e==="tv"?`&season=${q}&episode=${_}`:""}`,type:"hls",quality:"HD",fileSize:"Auto",reliability:"Premium",isAdFree:!0,language:"English",subtitles:["English"]}];try{let Ne=[];e==="movie"?Ne=sr.generateMovieSources(pe):e==="tv"&&(Ne=sr.generateTVSource(pe,q,_));const Ie=Ne.map(oe=>({id:oe.id,name:oe.name,url:oe.url,type:oe.type,quality:oe.quality,fileSize:oe.fileSize,reliability:oe.reliability,isAdFree:oe.isAdFree,language:oe.language,subtitles:sr.getSupportedSubtitleLanguages()}));ye.push(...Ie)}catch(Ne){console.warn("SmashyStream fallback failed:",Ne)}try{let Ne=[];e==="movie"?Ne=Ms.generateMovieSources(pe):e==="tv"&&(Ne=Ms.generateTVSource(pe,q,_));const Ie=Ne.map(oe=>({id:oe.id,name:oe.name,url:oe.url,type:oe.type,quality:oe.quality,fileSize:oe.fileSize,reliability:oe.reliability,isAdFree:oe.isAdFree,language:oe.language,subtitles:Ms.getSupportedSubtitleLanguages()}));ye.push(...Ie)}catch(Ne){console.warn("111movies fallback failed:",Ne)}C(ye)}finally{Z(!1)}};g.useEffect(()=>{(async()=>{if(t)try{h(!0),v(null);const le=parseInt(t);let ye;if(e==="movie"){const[oe,vt,Fe]=await Promise.all([nt(le),Ma(le),qh(le)]);ye=oe,d(Fe.results||[])}else{const[oe,vt,Fe]=await Promise.all([Zh(le),Zo(le),Xh(le)]);ye=oe,d(Fe.results||[])}o(ye);const Ne=localStorage.getItem(`watch_progress_${e}_${le}`);Ne&&b(JSON.parse(Ne));const Ie=localStorage.getItem(`user_rating_${e}_${le}`);w(We.isLiked(le,e)),await z(le)}catch(le){console.error("Error fetching content:",le),v("Failed to load content. Please try again.")}finally{h(!1)}})()},[t,e]),g.useEffect(()=>{l&&e==="tv"&&z(l.id)},[q,_]);const M=()=>{if(l)if(n(l.id,e)){const le=We.getMyList().find(ye=>ye.contentId===l.id&&ye.contentType===e);le&&a(le.id)}else i(l,e)},B=()=>{if(l)try{p?(We.unlikeContent(l.id,e),w(!1)):(We.likeContent(l,e),w(!0))}catch(pe){console.error("Error toggling like:",pe)}},se=()=>{navigator.share&&l?navigator.share({title:H,text:l.overview,url:window.location.href}):(navigator.clipboard.writeText(window.location.href),console.log("Link copied to clipboard"))};if(u)return s.jsx("div",{className:"min-h-screen bg-[#0f0f0f] pt-16",children:s.jsx(j1,{})});if(m||!l)return s.jsx("div",{className:"min-h-screen bg-[#0f0f0f] pt-16 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Content Not Found"}),s.jsx("p",{className:"text-gray-400 mb-6",children:m||"The requested content could not be found."}),s.jsx("button",{onClick:()=>r(-1),className:"bg-[#ff0000] text-white px-6 py-3 rounded-lg hover:bg-red-700 transition-colors",children:"Go Back"})]})});const H=("title"in l?l.title:l.name)||"",fe=("release_date"in l?l.release_date:l.first_air_date)||"",Ye=e==="movie"?l.runtime:(_e=l.episode_run_time)==null?void 0:_e[0];return s.jsxs("div",{className:"min-h-screen bg-[#0f0f0f] pt-16",children:[s.jsx(re.header,{className:"bg-[#0f0f0f]/90 backdrop-blur-sm border-b border-gray-800 sticky top-0 z-50",initial:{y:-50,opacity:0},animate:{y:0,opacity:1},transition:{duration:.5},children:s.jsx("div",{className:"max-w-8xl mx-auto px-6 sm:px-8 lg:px-12 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:()=>r(-1),className:"flex items-center text-gray-400 hover:text-white transition-colors",children:[s.jsx(ks,{className:"h-5 w-5 mr-2"}),"Back"]}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-bold text-white",children:H}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[fe&&s.jsx("span",{children:new Date(fe).getFullYear()}),Ye&&s.jsxs("span",{children:[Ye," min"]}),s.jsx("span",{className:"px-2 py-1 border border-gray-500 rounded text-xs",children:"PG-13"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(re.button,{onClick:M,className:"p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(rt,{className:`h-5 w-5 ${n(l.id,e)?"text-[#ff0000] fill-current":""}`})}),s.jsx(re.button,{onClick:B,className:"p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(rt,{className:`h-5 w-5 ${p?"text-[#ff0000] fill-current":""}`})}),s.jsx(re.button,{onClick:se,className:"p-2 bg-gray-800 text-white rounded-lg hover:bg-gray-700 transition-colors",whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(zN,{className:"h-5 w-5"})})]})]})})}),s.jsx("section",{className:"py-8 bg-[#0f0f0f]",children:s.jsx("div",{className:"max-w-8xl mx-auto px-6 sm:px-8 lg:px-12",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[s.jsx("div",{className:"lg:col-span-3",children:s.jsx(O_,{content:l,watchProgress:y,onProgressUpdate:b,selectedSource:j||void 0})}),s.jsx("div",{className:"lg:col-span-1",children:e==="movie"?s.jsxs("div",{className:"bg-gray-900 rounded-lg overflow-hidden",children:[s.jsx("div",{className:"bg-gray-800 px-4 py-3 border-b border-gray-700",children:s.jsx("h2",{className:"text-white font-semibold text-lg",children:"Details"})}),s.jsx("div",{className:"p-4",children:s.jsx(l8,{content:l,type:e})})]}):s.jsx(o8,{tvShow:l,onSeasonEpisodeChange:(pe,le)=>{E(pe),D(le)}})})]})})}),s.jsx("section",{className:"py-16 bg-[#0f0f0f]",children:s.jsxs("div",{className:"max-w-8xl mx-auto px-6 sm:px-8 lg:px-12",children:[s.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[s.jsx("button",{onClick:()=>f("stream"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${x==="stream"?"bg-[#ff0000] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"Stream Sources"}),s.jsx("button",{onClick:()=>f("download"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${x==="download"?"bg-[#ff0000] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"Download Options"}),s.jsx("button",{onClick:()=>f("torrent"),className:`px-6 py-3 rounded-lg font-semibold transition-colors ${x==="torrent"?"bg-[#ff0000] text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:"Torrent Sources"})]}),s.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:[Y&&s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsxs("div",{className:"flex flex-col items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"h-16 w-16 netflix-spinner-thick"}),s.jsx("div",{className:"h-16 w-16 netflix-ripple"}),s.jsx("div",{className:"h-16 w-16 netflix-ripple",style:{animationDelay:"0.5s"}})]}),s.jsxs("div",{className:"text-center loading-text",children:[s.jsx("p",{className:"text-white text-lg font-medium",children:"Loading streaming sources..."}),s.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Connecting to servers"}),s.jsxs("div",{className:"flex gap-2 justify-center mt-3",children:[s.jsx("div",{className:"netflix-dot"}),s.jsx("div",{className:"netflix-dot"}),s.jsx("div",{className:"netflix-dot"})]})]})]})}),te&&!Y&&s.jsxs("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-6 mb-6",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsx("div",{className:"w-6 h-6 rounded-full bg-red-500 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-sm",children:"!"})}),s.jsx("h3",{className:"text-red-400 font-semibold",children:"Streaming Sources Error"})]}),s.jsx("p",{className:"text-red-300 text-sm",children:te}),s.jsx("button",{onClick:()=>l&&z(l.id),className:"mt-3 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors text-sm",children:"Retry Loading Sources"})]}),!Y&&s.jsxs(s.Fragment,{children:[x==="stream"&&s.jsx(G_,{sources:S,onSourceSelect:k,selectedSource:j}),x==="download"&&s.jsx(X_,{options:T}),x==="torrent"&&s.jsx(a8,{sources:A})]})]},x)]})}),s.jsx(c8,{content:c,title:`More like "${H}"`,type:e})]})};class d8 extends g.Component{constructor(){super(...arguments);ts(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,n){console.error("Uncaught error:",r,n)}render(){var r;return this.state.hasError?s.jsx("div",{className:"min-h-screen bg-netflix-black flex items-center justify-center",children:s.jsxs("div",{className:"text-center p-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Oops! Something went wrong"}),s.jsx("p",{className:"text-gray-400 mb-8",children:((r=this.state.error)==null?void 0:r.message)||"An unexpected error occurred"}),s.jsx("button",{className:"bg-netflix-red text-white px-6 py-3 rounded-lg hover:bg-red-600 transition-colors",onClick:()=>window.location.reload(),children:"Reload Page"})]})}):this.props.children}}function u8(){return s.jsx(d8,{children:s.jsx(X2,{children:s.jsxs("div",{className:"min-h-screen bg-netflix-black",children:[s.jsx(fS,{}),s.jsx("main",{children:s.jsxs(H2,{children:[s.jsx($t,{path:"/",element:s.jsx(Q0,{})}),s.jsx($t,{path:"/new-popular",element:s.jsx(gT,{})}),s.jsx($t,{path:"/movies",element:s.jsx(mT,{})}),s.jsx($t,{path:"/tv-shows",element:s.jsx(fT,{})}),s.jsx($t,{path:"/collections",element:s.jsx(S_,{})}),s.jsx($t,{path:"/collection/:id",element:s.jsx(R_,{})}),s.jsx($t,{path:"/my-list",element:s.jsx(i_,{})}),s.jsx($t,{path:"/movie/:id",element:s.jsx(Z0,{type:"movie"})}),s.jsx($t,{path:"/tv/:id",element:s.jsx(Z0,{type:"tv"})}),s.jsx($t,{path:"/watch/movie/:id",element:s.jsx(hp,{type:"movie"})}),s.jsx($t,{path:"/watch/tv/:id",element:s.jsx(hp,{type:"tv"})}),s.jsx($t,{path:"/search",element:s.jsx(xT,{})}),s.jsx($t,{path:"*",element:s.jsx(Q0,{})})]})}),s.jsx(q6,{})]})})})}dd.createRoot(document.getElementById("root")).render(s.jsx(ln.StrictMode,{children:s.jsx(u8,{})}));export{oa as _,lS as t};
